(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function J1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sb={exports:{}},Mm={};var iw;function UN(){if(iw)return Mm;iw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return Mm.Fragment=e,Mm.jsx=t,Mm.jsxs=t,Mm}var sw;function ON(){return sw||(sw=1,Sb.exports=UN()),Sb.exports}var P=ON(),Mb={exports:{}},en={};var aw;function zN(){if(aw)return en;aw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function S(X){return X===null||typeof X!="object"?null:(X=x&&X[x]||X["@@iterator"],typeof X=="function"?X:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function M(X,re,pe){this.props=X,this.context=re,this.refs=A,this.updater=pe||T}M.prototype.isReactComponent={},M.prototype.setState=function(X,re){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,re,"setState")},M.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function N(){}N.prototype=M.prototype;function D(X,re,pe){this.props=X,this.context=re,this.refs=A,this.updater=pe||T}var I=D.prototype=new N;I.constructor=D,C(I,M.prototype),I.isPureReactComponent=!0;var z=Array.isArray;function F(){}var k={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function U(X,re,pe){var De=pe.ref;return{$$typeof:n,type:X,key:re,ref:De!==void 0?De:null,props:pe}}function B(X,re){return U(X.type,re,X.props)}function Y(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function ie(X){var re={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(pe){return re[pe]})}var ee=/\/+/g;function me(X,re){return typeof X=="object"&&X!==null&&X.key!=null?ie(""+X.key):re.toString(36)}function he(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(F,F):(X.status="pending",X.then(function(re){X.status==="pending"&&(X.status="fulfilled",X.value=re)},function(re){X.status==="pending"&&(X.status="rejected",X.reason=re)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function q(X,re,pe,De,Xe){var ce=typeof X;(ce==="undefined"||ce==="boolean")&&(X=null);var Ae=!1;if(X===null)Ae=!0;else switch(ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(X.$$typeof){case n:case e:Ae=!0;break;case y:return Ae=X._init,q(Ae(X._payload),re,pe,De,Xe)}}if(Ae)return Xe=Xe(X),Ae=De===""?"."+me(X,0):De,z(Xe)?(pe="",Ae!=null&&(pe=Ae.replace(ee,"$&/")+"/"),q(Xe,re,pe,"",function(lt){return lt})):Xe!=null&&(Y(Xe)&&(Xe=B(Xe,pe+(Xe.key==null||X&&X.key===Xe.key?"":(""+Xe.key).replace(ee,"$&/")+"/")+Ae)),re.push(Xe)),1;Ae=0;var Be=De===""?".":De+":";if(z(X))for(var nt=0;nt<X.length;nt++)De=X[nt],ce=Be+me(De,nt),Ae+=q(De,re,pe,ce,Xe);else if(nt=S(X),typeof nt=="function")for(X=nt.call(X),nt=0;!(De=X.next()).done;)De=De.value,ce=Be+me(De,nt++),Ae+=q(De,re,pe,ce,Xe);else if(ce==="object"){if(typeof X.then=="function")return q(he(X),re,pe,De,Xe);throw re=String(X),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(X,re,pe){if(X==null)return X;var De=[],Xe=0;return q(X,De,"","",function(ce){return re.call(pe,ce,Xe++)}),De}function oe(X){if(X._status===-1){var re=X._result;re=re(),re.then(function(pe){(X._status===0||X._status===-1)&&(X._status=1,X._result=pe)},function(pe){(X._status===0||X._status===-1)&&(X._status=2,X._result=pe)}),X._status===-1&&(X._status=0,X._result=re)}if(X._status===1)return X._result.default;throw X._result}var Ee=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Ce={map:K,forEach:function(X,re,pe){K(X,function(){re.apply(this,arguments)},pe)},count:function(X){var re=0;return K(X,function(){re++}),re},toArray:function(X){return K(X,function(re){return re})||[]},only:function(X){if(!Y(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return en.Activity=v,en.Children=Ce,en.Component=M,en.Fragment=t,en.Profiler=a,en.PureComponent=D,en.StrictMode=i,en.Suspense=d,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,en.__COMPILER_RUNTIME={__proto__:null,c:function(X){return k.H.useMemoCache(X)}},en.cache=function(X){return function(){return X.apply(null,arguments)}},en.cacheSignal=function(){return null},en.cloneElement=function(X,re,pe){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var De=C({},X.props),Xe=X.key;if(re!=null)for(ce in re.key!==void 0&&(Xe=""+re.key),re)!j.call(re,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&re.ref===void 0||(De[ce]=re[ce]);var ce=arguments.length-2;if(ce===1)De.children=pe;else if(1<ce){for(var Ae=Array(ce),Be=0;Be<ce;Be++)Ae[Be]=arguments[Be+2];De.children=Ae}return U(X.type,Xe,De)},en.createContext=function(X){return X={$$typeof:u,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},en.createElement=function(X,re,pe){var De,Xe={},ce=null;if(re!=null)for(De in re.key!==void 0&&(ce=""+re.key),re)j.call(re,De)&&De!=="key"&&De!=="__self"&&De!=="__source"&&(Xe[De]=re[De]);var Ae=arguments.length-2;if(Ae===1)Xe.children=pe;else if(1<Ae){for(var Be=Array(Ae),nt=0;nt<Ae;nt++)Be[nt]=arguments[nt+2];Xe.children=Be}if(X&&X.defaultProps)for(De in Ae=X.defaultProps,Ae)Xe[De]===void 0&&(Xe[De]=Ae[De]);return U(X,ce,Xe)},en.createRef=function(){return{current:null}},en.forwardRef=function(X){return{$$typeof:h,render:X}},en.isValidElement=Y,en.lazy=function(X){return{$$typeof:y,_payload:{_status:-1,_result:X},_init:oe}},en.memo=function(X,re){return{$$typeof:p,type:X,compare:re===void 0?null:re}},en.startTransition=function(X){var re=k.T,pe={};k.T=pe;try{var De=X(),Xe=k.S;Xe!==null&&Xe(pe,De),typeof De=="object"&&De!==null&&typeof De.then=="function"&&De.then(F,Ee)}catch(ce){Ee(ce)}finally{re!==null&&pe.types!==null&&(re.types=pe.types),k.T=re}},en.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},en.use=function(X){return k.H.use(X)},en.useActionState=function(X,re,pe){return k.H.useActionState(X,re,pe)},en.useCallback=function(X,re){return k.H.useCallback(X,re)},en.useContext=function(X){return k.H.useContext(X)},en.useDebugValue=function(){},en.useDeferredValue=function(X,re){return k.H.useDeferredValue(X,re)},en.useEffect=function(X,re){return k.H.useEffect(X,re)},en.useEffectEvent=function(X){return k.H.useEffectEvent(X)},en.useId=function(){return k.H.useId()},en.useImperativeHandle=function(X,re,pe){return k.H.useImperativeHandle(X,re,pe)},en.useInsertionEffect=function(X,re){return k.H.useInsertionEffect(X,re)},en.useLayoutEffect=function(X,re){return k.H.useLayoutEffect(X,re)},en.useMemo=function(X,re){return k.H.useMemo(X,re)},en.useOptimistic=function(X,re){return k.H.useOptimistic(X,re)},en.useReducer=function(X,re,pe){return k.H.useReducer(X,re,pe)},en.useRef=function(X){return k.H.useRef(X)},en.useState=function(X){return k.H.useState(X)},en.useSyncExternalStore=function(X,re,pe){return k.H.useSyncExternalStore(X,re,pe)},en.useTransition=function(){return k.H.useTransition()},en.version="19.2.0",en}var rw;function N0(){return rw||(rw=1,Mb.exports=zN()),Mb.exports}var de=N0();const Je=J1(de);var wb={exports:{}},wm={},Tb={exports:{}},Eb={};var ow;function BN(){return ow||(ow=1,(function(n){function e(q,K){var oe=q.length;q.push(K);e:for(;0<oe;){var Ee=oe-1>>>1,Ce=q[Ee];if(0<a(Ce,K))q[Ee]=K,q[oe]=Ce,oe=Ee;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var K=q[0],oe=q.pop();if(oe!==K){q[0]=oe;e:for(var Ee=0,Ce=q.length,X=Ce>>>1;Ee<X;){var re=2*(Ee+1)-1,pe=q[re],De=re+1,Xe=q[De];if(0>a(pe,oe))De<Ce&&0>a(Xe,pe)?(q[Ee]=Xe,q[De]=oe,Ee=De):(q[Ee]=pe,q[re]=oe,Ee=re);else if(De<Ce&&0>a(Xe,oe))q[Ee]=Xe,q[De]=oe,Ee=De;else break e}}return K}function a(q,K){var oe=q.sortIndex-K.sortIndex;return oe!==0?oe:q.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,x=3,S=!1,T=!1,C=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function I(q){for(var K=t(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=q)i(p),K.sortIndex=K.expirationTime,e(d,K);else break;K=t(p)}}function z(q){if(C=!1,I(q),!T)if(t(d)!==null)T=!0,F||(F=!0,ie());else{var K=t(p);K!==null&&he(z,K.startTime-q)}}var F=!1,k=-1,j=5,U=-1;function B(){return A?!0:!(n.unstable_now()-U<j)}function Y(){if(A=!1,F){var q=n.unstable_now();U=q;var K=!0;try{e:{T=!1,C&&(C=!1,N(k),k=-1),S=!0;var oe=x;try{t:{for(I(q),v=t(d);v!==null&&!(v.expirationTime>q&&B());){var Ee=v.callback;if(typeof Ee=="function"){v.callback=null,x=v.priorityLevel;var Ce=Ee(v.expirationTime<=q);if(q=n.unstable_now(),typeof Ce=="function"){v.callback=Ce,I(q),K=!0;break t}v===t(d)&&i(d),I(q)}else i(d);v=t(d)}if(v!==null)K=!0;else{var X=t(p);X!==null&&he(z,X.startTime-q),K=!1}}break e}finally{v=null,x=oe,S=!1}K=void 0}}finally{K?ie():F=!1}}}var ie;if(typeof D=="function")ie=function(){D(Y)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,me=ee.port2;ee.port1.onmessage=Y,ie=function(){me.postMessage(null)}}else ie=function(){M(Y,0)};function he(q,K){k=M(function(){q(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(q){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var oe=x;x=K;try{return q()}finally{x=oe}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=x;x=q;try{return K()}finally{x=oe}},n.unstable_scheduleCallback=function(q,K,oe){var Ee=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ee+oe:Ee):oe=Ee,q){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=oe+Ce,q={id:y++,callback:K,priorityLevel:q,startTime:oe,expirationTime:Ce,sortIndex:-1},oe>Ee?(q.sortIndex=oe,e(p,q),t(d)===null&&q===t(p)&&(C?(N(k),k=-1):C=!0,he(z,oe-Ee))):(q.sortIndex=Ce,e(d,q),T||S||(T=!0,F||(F=!0,ie()))),q},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(q){var K=x;return function(){var oe=x;x=K;try{return q.apply(this,arguments)}finally{x=oe}}}})(Eb)),Eb}var lw;function UA(){return lw||(lw=1,Tb.exports=BN()),Tb.exports}var Ab={exports:{}},js={};var cw;function FN(){if(cw)return js;cw=1;var n=N0();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return js.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,js.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,y)},js.flushSync=function(d){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=y,i.d.f()}},js.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},js.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},js.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:S}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},js.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},js.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},js.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},js.requestFormReset=function(d){i.d.r(d)},js.unstable_batchedUpdates=function(d,p){return d(p)},js.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},js.useFormStatus=function(){return u.H.useHostTransitionStatus()},js.version="19.2.0",js}var uw;function OA(){if(uw)return Ab.exports;uw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ab.exports=FN(),Ab.exports}var fw;function kN(){if(fw)return wm;fw=1;var n=UA(),e=N0(),t=OA();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)r+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,f=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(f=r.return),s=r.return;while(s)}return r.tag===3?f:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var f=s,m=r;;){var _=f.return;if(_===null)break;var w=_.alternate;if(w===null){if(m=_.return,m!==null){f=m;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===f)return d(_),s;if(w===m)return d(_),r;w=w.sibling}throw Error(i(188))}if(f.return!==m.return)f=_,m=w;else{for(var L=!1,G=_.child;G;){if(G===f){L=!0,f=_,m=w;break}if(G===m){L=!0,m=_,f=w;break}G=G.sibling}if(!L){for(G=w.child;G;){if(G===f){L=!0,f=w,m=_;break}if(G===m){L=!0,m=w,f=_;break}G=G.sibling}if(!L)throw Error(i(189))}}if(f.alternate!==m)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),D=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Symbol.for("react.client.reference");function me(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ee?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case M:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case F:return"SuspenseList";case U:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case D:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case I:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return r=s.displayName||null,r!==null?r:me(s.type)||"Memo";case j:r=s._payload,s=s._init;try{return me(s(r))}catch{}}return null}var he=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ee=[],Ce=-1;function X(s){return{current:s}}function re(s){0>Ce||(s.current=Ee[Ce],Ee[Ce]=null,Ce--)}function pe(s,r){Ce++,Ee[Ce]=s.current,s.current=r}var De=X(null),Xe=X(null),ce=X(null),Ae=X(null);function Be(s,r){switch(pe(ce,r),pe(Xe,s),pe(De,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?E3(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=E3(r),s=A3(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}re(De),pe(De,s)}function nt(){re(De),re(Xe),re(ce)}function lt(s){s.memoizedState!==null&&pe(Ae,s);var r=De.current,f=A3(r,s.type);r!==f&&(pe(Xe,s),pe(De,f))}function qt(s){Xe.current===s&&(re(De),re(Xe)),Ae.current===s&&(re(Ae),xm._currentValue=oe)}var Zt,Lt;function Ie(s){if(Zt===void 0)try{throw Error()}catch(f){var r=f.stack.trim().match(/\n( *(at )?)/);Zt=r&&r[1]||"",Lt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+s+Lt}var We=!1;function Pe(s,r){if(!s||We)return"";We=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(r){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Ne){var _e=Ne}Reflect.construct(s,[],ze)}else{try{ze.call()}catch(Ne){_e=Ne}s.call(ze.prototype)}}else{try{throw Error()}catch(Ne){_e=Ne}(ze=s())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Ne){if(Ne&&_e&&typeof Ne.stack=="string")return[Ne.stack,_e.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),L=w[0],G=w[1];if(L&&G){var J=L.split(`
`),ye=G.split(`
`);for(_=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;_<ye.length&&!ye[_].includes("DetermineComponentFrameRoot");)_++;if(m===J.length||_===ye.length)for(m=J.length-1,_=ye.length-1;1<=m&&0<=_&&J[m]!==ye[_];)_--;for(;1<=m&&0<=_;m--,_--)if(J[m]!==ye[_]){if(m!==1||_!==1)do if(m--,_--,0>_||J[m]!==ye[_]){var Le=`
`+J[m].replace(" at new "," at ");return s.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",s.displayName)),Le}while(1<=m&&0<=_);break}}}finally{We=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?Ie(f):""}function $e(s,r){switch(s.tag){case 26:case 27:case 5:return Ie(s.type);case 16:return Ie("Lazy");case 13:return s.child!==r&&r!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Pe(s.type,!1);case 11:return Pe(s.type.render,!1);case 1:return Pe(s.type,!0);case 31:return Ie("Activity");default:return""}}function Z(s){try{var r="",f=null;do r+=$e(s,f),f=s,s=s.return;while(s);return r}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var vt=Object.prototype.hasOwnProperty,at=n.unstable_scheduleCallback,At=n.unstable_cancelCallback,Fe=n.unstable_shouldYield,W=n.unstable_requestPaint,O=n.unstable_now,se=n.unstable_getCurrentPriorityLevel,Me=n.unstable_ImmediatePriority,Ue=n.unstable_UserBlockingPriority,Te=n.unstable_NormalPriority,ut=n.unstable_LowPriority,Ze=n.unstable_IdlePriority,xt=n.log,Ct=n.unstable_setDisableYieldValue,je=null,Qe=null;function dt(s){if(typeof xt=="function"&&Ct(s),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(je,s)}catch{}}var ft=Math.clz32?Math.clz32:te,st=Math.log,Yt=Math.LN2;function te(s){return s>>>=0,s===0?32:31-(st(s)/Yt|0)|0}var rt=256,Ke=262144,ot=4194304;function ke(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ge(s,r,f){var m=s.pendingLanes;if(m===0)return 0;var _=0,w=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var G=m&134217727;return G!==0?(m=G&~w,m!==0?_=ke(m):(L&=G,L!==0?_=ke(L):f||(f=G&~s,f!==0&&(_=ke(f))))):(G=m&~w,G!==0?_=ke(G):L!==0?_=ke(L):f||(f=m&~s,f!==0&&(_=ke(f)))),_===0?0:r!==0&&r!==_&&(r&w)===0&&(w=_&-_,f=r&-r,w>=f||w===32&&(f&4194048)!==0)?r:_}function Ve(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function St(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kt(){var s=ot;return ot<<=1,(ot&62914560)===0&&(ot=4194304),s}function cn(s){for(var r=[],f=0;31>f;f++)r.push(s);return r}function xn(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Gn(s,r,f,m,_,w){var L=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var G=s.entanglements,J=s.expirationTimes,ye=s.hiddenUpdates;for(f=L&~f;0<f;){var Le=31-ft(f),ze=1<<Le;G[Le]=0,J[Le]=-1;var _e=ye[Le];if(_e!==null)for(ye[Le]=null,Le=0;Le<_e.length;Le++){var Ne=_e[Le];Ne!==null&&(Ne.lane&=-536870913)}f&=~ze}m!==0&&Js(s,m,0),w!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=w&~(L&~r))}function Js(s,r,f){s.pendingLanes|=r,s.suspendedLanes&=~r;var m=31-ft(r);s.entangledLanes|=r,s.entanglements[m]=s.entanglements[m]|1073741824|f&261930}function Ei(s,r){var f=s.entangledLanes|=r;for(s=s.entanglements;f;){var m=31-ft(f),_=1<<m;_&r|s[m]&r&&(s[m]|=r),f&=~_}}function Oi(s,r){var f=r&-r;return f=(f&42)!==0?1:Ka(f),(f&(s.suspendedLanes|r))!==0?0:f}function Ka(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function is(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function So(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:K3(s.type))}function hs(s,r){var f=K.p;try{return K.p=s,r()}finally{K.p=f}}var $s=Math.random().toString(36).slice(2),si="__reactFiber$"+$s,zi="__reactProps$"+$s,ea="__reactContainer$"+$s,ta="__reactEvents$"+$s,na="__reactListeners$"+$s,Mo="__reactHandles$"+$s,dl="__reactResources$"+$s,Qa="__reactMarker$"+$s;function Hr(s){delete s[si],delete s[zi],delete s[ta],delete s[na],delete s[Mo]}function Gr(s){var r=s[si];if(r)return r;for(var f=s.parentNode;f;){if(r=f[ea]||f[si]){if(f=r.alternate,r.child!==null||f!==null&&f.child!==null)for(s=P3(s);s!==null;){if(f=s[si])return f;s=P3(s)}return r}s=f,f=s.parentNode}return null}function jr(s){if(s=s[si]||s[ea]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function wo(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function fr(s){var r=s[dl];return r||(r=s[dl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function H(s){s[Qa]=!0}var ae=new Set,Se={};function xe(s,r){ue(s,r),ue(s+"Capture",r)}function ue(s,r){for(Se[s]=r,s=0;s<r.length;s++)ae.add(r[s])}var et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mt={},Ye={};function bt(s){return vt.call(Ye,s)?!0:vt.call(mt,s)?!1:et.test(s)?Ye[s]=!0:(mt[s]=!0,!1)}function Mt(s,r,f){if(bt(r))if(f===null)s.removeAttribute(r);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var m=r.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+f)}}function It(s,r,f){if(f===null)s.removeAttribute(r);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+f)}}function Tt(s,r,f,m){if(m===null)s.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(r,f,""+m)}}function Bt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function En(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jn(s,r,f){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,w=m.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return _.call(this)},set:function(L){f=""+L,w.call(this,L)}}),Object.defineProperty(s,r,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Fn(s){if(!s._valueTracker){var r=En(s)?"checked":"value";s._valueTracker=jn(s,r,""+s[r])}}function Kt(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var f=r.getValue(),m="";return s&&(m=En(s)?s.checked?"true":"false":s.value),s=m,s!==f?(r.setValue(s),!0):!1}function ct(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Sn=/[\n"\\]/g;function Vt(s){return s.replace(Sn,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ai(s,r,f,m,_,w,L,G){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),r!=null?L==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Bt(r)):s.value!==""+Bt(r)&&(s.value=""+Bt(r)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),r!=null?Qn(s,L,Bt(r)):f!=null?Qn(s,L,Bt(f)):m!=null&&s.removeAttribute("value"),_==null&&w!=null&&(s.defaultChecked=!!w),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Bt(G):s.removeAttribute("name")}function Ja(s,r,f,m,_,w,L,G){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),r!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||r!=null)){Fn(s);return}f=f!=null?""+Bt(f):"",r=r!=null?""+Bt(r):f,G||r===s.value||(s.value=r),s.defaultValue=r}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=G?s.checked:!!m,s.defaultChecked=!!m,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L),Fn(s)}function Qn(s,r,f){r==="number"&&ct(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function _s(s,r,f,m){if(s=s.options,r){r={};for(var _=0;_<f.length;_++)r["$"+f[_]]=!0;for(f=0;f<s.length;f++)_=r.hasOwnProperty("$"+s[f].value),s[f].selected!==_&&(s[f].selected=_),_&&m&&(s[f].defaultSelected=!0)}else{for(f=""+Bt(f),r=null,_=0;_<s.length;_++){if(s[_].value===f){s[_].selected=!0,m&&(s[_].defaultSelected=!0);return}r!==null||s[_].disabled||(r=s[_])}r!==null&&(r.selected=!0)}}function Rn(s,r,f){if(r!=null&&(r=""+Bt(r),r!==s.value&&(s.value=r),f==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=f!=null?""+Bt(f):""}function Bi(s,r,f,m){if(r==null){if(m!=null){if(f!=null)throw Error(i(92));if(he(m)){if(1<m.length)throw Error(i(93));m=m[0]}f=m}f==null&&(f=""),r=f}f=Bt(r),s.defaultValue=f,m=s.textContent,m===f&&m!==""&&m!==null&&(s.value=m),Fn(s)}function Ci(s,r){if(r){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=r;return}}s.textContent=r}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qi(s,r,f){var m=r.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":m?s.setProperty(r,f):typeof f!="number"||f===0||Xi.has(r)?r==="float"?s.cssFloat=f:s[r]=(""+f).trim():s[r]=f+"px"}function pl(s,r,f){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||r!=null&&r.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var _ in r)m=r[_],r.hasOwnProperty(_)&&f[_]!==m&&qi(s,_,m)}else for(var w in r)r.hasOwnProperty(w)&&qi(s,w,r[w])}function Sa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$d=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yu(s){return $d.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Wr(){}var Vf=null;function Hf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ml=null,To=null;function ep(s){var r=jr(s);if(r&&(s=r.stateNode)){var f=s[zi]||null;e:switch(s=r.stateNode,r.type){case"input":if(Ai(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),r=f.name,f.type==="radio"&&r!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Vt(""+r)+'"][type="radio"]'),r=0;r<f.length;r++){var m=f[r];if(m!==s&&m.form===s.form){var _=m[zi]||null;if(!_)throw Error(i(90));Ai(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(r=0;r<f.length;r++)m=f[r],m.form===s.form&&Kt(m)}break e;case"textarea":Rn(s,f.value,f.defaultValue);break e;case"select":r=f.value,r!=null&&_s(s,!!f.multiple,r,!1)}}}var Gf=!1;function tp(s,r,f){if(Gf)return s(r,f);Gf=!0;try{var m=s(r);return m}finally{if(Gf=!1,(ml!==null||To!==null)&&(ir(),ml&&(r=ml,s=To,To=ml=null,ep(r),s)))for(r=0;r<s.length;r++)ep(s[r])}}function ic(s,r){var f=s.stateNode;if(f===null)return null;var m=f[zi]||null;if(m===null)return null;f=m[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(i(231,r,typeof f));return f}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=!1;if(hr)try{var sc={};Object.defineProperty(sc,"passive",{get:function(){np=!0}}),window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{np=!1}var ia=null,jf=null,gl=null;function xu(){if(gl)return gl;var s,r=jf,f=r.length,m,_="value"in ia?ia.value:ia.textContent,w=_.length;for(s=0;s<f&&r[s]===_[s];s++);var L=f-s;for(m=1;m<=L&&r[f-m]===_[w-m];m++);return gl=_.slice(s,1<m?1-m:void 0)}function bu(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ac(){return!0}function Z0(){return!1}function Ss(s){function r(f,m,_,w,L){this._reactName=f,this._targetInst=_,this.type=m,this.nativeEvent=w,this.target=L,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(f=s[G],this[G]=f?f(w):w[G]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ac:Z0,this.isPropagationStopped=Z0,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ac)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ac)},persist:function(){},isPersistent:ac}),r}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=Ss(Eo),rc=v({},Eo,{view:0,detail:0}),K0=Ss(rc),Su,Wf,oc,lc=v({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==oc&&(oc&&s.type==="mousemove"?(Su=s.screenX-oc.screenX,Wf=s.screenY-oc.screenY):Wf=Su=0,oc=s),Su)},movementY:function(s){return"movementY"in s?s.movementY:Wf}}),ip=Ss(lc),Q0=v({},lc,{dataTransfer:0}),J0=Ss(Q0),sp=v({},rc,{relatedTarget:0}),Xf=Ss(sp),$0=v({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Hx=Ss($0),Gx=v({},Eo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),eg=Ss(Gx),Mu=v({},Eo,{data:0}),qf=Ss(Mu),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ap(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=ng[s])?!!r[s]:!1}function Zf(){return ap}var ig=v({},rc,{key:function(s){if(s.key){var r=Yf[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=bu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tg[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zf,charCode:function(s){return s.type==="keypress"?bu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?bu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),vl=Ss(ig),Kf=v({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rp=Ss(Kf),op=v({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zf}),sg=Ss(op),ag=v({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),jx=Ss(ag),ss=v({},lc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rg=Ss(ss),og=v({},Eo,{newState:0,oldState:0}),lg=Ss(og),cg=[9,13,27,32],yl=hr&&"CompositionEvent"in window,cc=null;hr&&"documentMode"in document&&(cc=document.documentMode);var Qf=hr&&"TextEvent"in window&&!cc,lp=hr&&(!yl||cc&&8<cc&&11>=cc),ug=" ",wu=!1;function Jf(s,r){switch(s){case"keyup":return cg.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xl=!1;function fg(s,r){switch(s){case"compositionend":return cp(r);case"keypress":return r.which!==32?null:(wu=!0,ug);case"textInput":return s=r.data,s===ug&&wu?null:s;default:return null}}function up(s,r){if(xl)return s==="compositionend"||!yl&&Jf(s,r)?(s=xu(),gl=jf=ia=null,xl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return lp&&r.locale!=="ko"?null:r.data;default:return null}}var fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!fp[s.type]:r==="textarea"}function $f(s,r,f,m){ml?To?To.push(m):To=[m]:ml=m,r=gv(r,"onChange"),0<r.length&&(f=new _u("onChange","change",null,f,m),s.push({event:f,listeners:r}))}var Ao=null,bl=null;function hg(s){b3(s,0)}function uc(s){var r=wo(s);if(Kt(r))return s}function dp(s,r){if(s==="change")return r}var dr=!1;if(hr){var Tu;if(hr){var pp="oninput"in document;if(!pp){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),pp=typeof mp.oninput=="function"}Tu=pp}else Tu=!1;dr=Tu&&(!document.documentMode||9<document.documentMode)}function Ma(){Ao&&(Ao.detachEvent("onpropertychange",Eu),bl=Ao=null)}function Eu(s){if(s.propertyName==="value"&&uc(bl)){var r=[];$f(r,bl,s,Hf(s)),tp(hg,r)}}function dg(s,r,f){s==="focusin"?(Ma(),Ao=r,bl=f,Ao.attachEvent("onpropertychange",Eu)):s==="focusout"&&Ma()}function gp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return uc(bl)}function pg(s,r){if(s==="click")return uc(r)}function mg(s,r){if(s==="input"||s==="change")return uc(r)}function vp(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Ms=typeof Object.is=="function"?Object.is:vp;function fc(s,r){if(Ms(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var f=Object.keys(s),m=Object.keys(r);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var _=f[m];if(!vt.call(r,_)||!Ms(s[_],r[_]))return!1}return!0}function Au(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hc(s,r){var f=Au(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=r&&m>=r)return{node:f,offset:r-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Au(f)}}function Wn(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Wn(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function gg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ct(s.document);r instanceof s.HTMLIFrameElement;){try{var f=typeof r.contentWindow.location.href=="string"}catch{f=!1}if(f)s=r.contentWindow;else break;r=ct(s.document)}return r}function yp(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var vg=hr&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,dc=null,eh=!1;function pc(s,r,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;eh||pr==null||pr!==ct(m)||(m=pr,"selectionStart"in m&&yp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),dc&&fc(dc,m)||(dc=m,m=gv(mr,"onSelect"),0<m.length&&(r=new _u("onSelect","select",null,r,f),s.push({event:r,listeners:m}),r.target=pr)))}function ds(s,r){var f={};return f[s.toLowerCase()]=r.toLowerCase(),f["Webkit"+s]="webkit"+r,f["Moz"+s]="moz"+r,f}var _l={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Cu={},xp={};hr&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function Xr(s){if(Cu[s])return Cu[s];if(!_l[s])return s;var r=_l[s],f;for(f in r)if(r.hasOwnProperty(f)&&f in xp)return Cu[s]=r[f];return s}var th=Xr("animationend"),Ru=Xr("animationiteration"),bp=Xr("animationstart"),yg=Xr("transitionrun"),Wx=Xr("transitionstart"),xg=Xr("transitioncancel"),_p=Xr("transitionend"),wa=new Map,Nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nu.push("scrollEnd");function Ta(s,r){wa.set(s,r),xe(r,[s])}var Du=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ea=[],qr=0,Yi=0;function Lu(){for(var s=qr,r=Yi=qr=0;r<s;){var f=Ea[r];Ea[r++]=null;var m=Ea[r];Ea[r++]=null;var _=Ea[r];Ea[r++]=null;var w=Ea[r];if(Ea[r++]=null,m!==null&&_!==null){var L=m.pending;L===null?_.next=_:(_.next=L.next,L.next=_),m.pending=_}w!==0&&Co(f,_,w)}}function Zi(s,r,f,m){Ea[qr++]=s,Ea[qr++]=r,Ea[qr++]=f,Ea[qr++]=m,Yi|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function nh(s,r,f,m){return Zi(s,r,f,m),Aa(s)}function ws(s,r){return Zi(s,null,null,r),Aa(s)}function Co(s,r,f){s.lanes|=f;var m=s.alternate;m!==null&&(m.lanes|=f);for(var _=!1,w=s.return;w!==null;)w.childLanes|=f,m=w.alternate,m!==null&&(m.childLanes|=f),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(_=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,_&&r!==null&&(_=31-ft(f),s=w.hiddenUpdates,m=s[_],m===null?s[_]=[r]:m.push(r),r.lane=f|536870912),w):null}function Aa(s){if(50<qo)throw qo=0,kl=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Ro={};function Sp(s,r,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(s,r,f,m){return new Sp(s,r,f,m)}function ih(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ps(s,r){var f=s.alternate;return f===null?(f=ai(s.tag,r,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=r,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,r=s.dependencies,f.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function mc(s,r){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,r=f.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function gr(s,r,f,m,_,w){var L=0;if(m=s,typeof s=="function")ih(s)&&(L=1);else if(typeof s=="string")L=MN(s,f,De.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case U:return s=ai(31,f,r,_),s.elementType=U,s.lanes=w,s;case C:return No(f.children,_,w,r);case A:L=8,_|=24;break;case M:return s=ai(12,f,r,_|2),s.elementType=M,s.lanes=w,s;case z:return s=ai(13,f,r,_),s.elementType=z,s.lanes=w,s;case F:return s=ai(19,f,r,_),s.elementType=F,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:L=10;break e;case N:L=9;break e;case I:L=11;break e;case k:L=14;break e;case j:L=16,m=null;break e}L=29,f=Error(i(130,s===null?"null":typeof s,"")),m=null}return r=ai(L,f,r,_),r.elementType=s,r.type=m,r.lanes=w,r}function No(s,r,f,m){return s=ai(7,s,m,r),s.lanes=f,s}function sh(s,r,f){return s=ai(6,s,null,r),s.lanes=f,s}function gc(s){var r=ai(18,null,null,0);return r.stateNode=s,r}function ah(s,r,f){return r=ai(4,s.children!==null?s.children:[],s.key,r),r.lanes=f,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Iu=new WeakMap;function sa(s,r){if(typeof s=="object"&&s!==null){var f=Iu.get(s);return f!==void 0?f:(r={value:s,source:r,stack:Z(r)},Iu.set(s,r),r)}return{value:s,source:r,stack:Z(r)}}var Do=[],Lo=0,vc=null,yc=0,Us=[],ei=0,Yr=null,ri=1,$a="";function vr(s,r){Do[Lo++]=yc,Do[Lo++]=vc,vc=s,yc=r}function bg(s,r,f){Us[ei++]=ri,Us[ei++]=$a,Us[ei++]=Yr,Yr=s;var m=ri;s=$a;var _=32-ft(m)-1;m&=~(1<<_),f+=1;var w=32-ft(r)+_;if(30<w){var L=_-_%5;w=(m&(1<<L)-1).toString(32),m>>=L,_-=L,ri=1<<32-ft(r)+_|f<<_|m,$a=w+s}else ri=1<<w|f<<_|m,$a=s}function yr(s){s.return!==null&&(vr(s,1),bg(s,1,0))}function rh(s){for(;s===vc;)vc=Do[--Lo],Do[Lo]=null,yc=Do[--Lo],Do[Lo]=null;for(;s===Yr;)Yr=Us[--ei],Us[ei]=null,$a=Us[--ei],Us[ei]=null,ri=Us[--ei],Us[ei]=null}function oh(s,r){Us[ei++]=ri,Us[ei++]=$a,Us[ei++]=Yr,ri=r.id,$a=r.overflow,Yr=s}var di=null,Xn=null,vn=!1,Zr=null,aa=!1,xc=Error(i(519));function xr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw br(sa(r,s)),xc}function _g(s){var r=s.stateNode,f=s.type,m=s.memoizedProps;switch(r[si]=s,r[zi]=m,f){case"dialog":_n("cancel",r),_n("close",r);break;case"iframe":case"object":case"embed":_n("load",r);break;case"video":case"audio":for(f=0;f<ka.length;f++)_n(ka[f],r);break;case"source":_n("error",r);break;case"img":case"image":case"link":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"input":_n("invalid",r),Ja(r,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":_n("invalid",r);break;case"textarea":_n("invalid",r),Bi(r,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||r.textContent===""+f||m.suppressHydrationWarning===!0||w3(r.textContent,f)?(m.popover!=null&&(_n("beforetoggle",r),_n("toggle",r)),m.onScroll!=null&&_n("scroll",r),m.onScrollEnd!=null&&_n("scrollend",r),m.onClick!=null&&(r.onclick=Wr),r=!0):r=!1,r||xr(s,!0)}function Sg(s){for(di=s.return;di;)switch(di.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:di=di.return}}function bc(s){if(s!==di)return!1;if(!vn)return Sg(s),vn=!0,!1;var r=s.tag,f;if((f=r!==3&&r!==27)&&((f=r===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||ob(s.type,s.memoizedProps)),f=!f),f&&Xn&&xr(s),Sg(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Xn=I3(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Xn=I3(s)}else r===27?(r=Xn,kc(s.type)?(s=hb,hb=null,Xn=s):Xn=r):Xn=di?Pr(s.stateNode.nextSibling):null;return!0}function Io(){Xn=di=null,vn=!1}function lh(){var s=Zr;return s!==null&&(mi===null?mi=s:mi.push.apply(mi,s),Zr=null),s}function br(s){Zr===null?Zr=[s]:Zr.push(s)}var _c=X(null),Po=null,_r=null;function Kr(s,r,f){pe(_c,r._currentValue),r._currentValue=f}function Sr(s){s._currentValue=_c.current,re(_c)}function ch(s,r,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,m!==null&&(m.childLanes|=r)):m!==null&&(m.childLanes&r)!==r&&(m.childLanes|=r),s===f)break;s=s.return}}function uh(s,r,f,m){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var w=_.dependencies;if(w!==null){var L=_.child;w=w.firstContext;e:for(;w!==null;){var G=w;w=_;for(var J=0;J<r.length;J++)if(G.context===r[J]){w.lanes|=f,G=w.alternate,G!==null&&(G.lanes|=f),ch(w.return,f,s),m||(L=null);break e}w=G.next}}else if(_.tag===18){if(L=_.return,L===null)throw Error(i(341));L.lanes|=f,w=L.alternate,w!==null&&(w.lanes|=f),ch(L,f,s),L=null}else L=_.child;if(L!==null)L.return=_;else for(L=_;L!==null;){if(L===s){L=null;break}if(_=L.sibling,_!==null){_.return=L.return,L=_;break}L=L.return}_=L}}function Mr(s,r,f,m){s=null;for(var _=r,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var L=_.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var G=_.type;Ms(_.pendingProps.value,L.value)||(s!==null?s.push(G):s=[G])}}else if(_===Ae.current){if(L=_.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(xm):s=[xm])}_=_.return}s!==null&&uh(r,s,f,m),r.flags|=262144}function Pu(s){for(s=s.firstContext;s!==null;){if(!Ms(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Uo(s){Po=s,_r=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gt(s){return Mg(Po,s)}function Sc(s,r){return Po===null&&Uo(s),Mg(s,r)}function Mg(s,r){var f=r._currentValue;if(r={context:r,memoizedValue:f,next:null},_r===null){if(s===null)throw Error(i(308));_r=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else _r=_r.next=r;return f}var wg=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(f,m){s.push(m)}};this.abort=function(){r.aborted=!0,s.forEach(function(f){return f()})}},Xx=n.unstable_scheduleCallback,qx=n.unstable_NormalPriority,Ri={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mp(){return{controller:new wg,data:new Map,refCount:0}}function Sl(s){s.refCount--,s.refCount===0&&Xx(qx,function(){s.controller.abort()})}var ra=null,fh=0,Qr=0,Ca=null;function wp(s,r){if(ra===null){var f=ra=[];fh=0,Qr=we(),Ca={status:"pending",value:void 0,then:function(m){f.push(m)}}}return fh++,r.then(Tp,Tp),r}function Tp(){if(--fh===0&&ra!==null){Ca!==null&&(Ca.status="fulfilled");var s=ra;ra=null,Qr=0,Ca=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function Ep(s,r){var f=[],m={status:"pending",value:null,reason:null,then:function(_){f.push(_)}};return s.then(function(){m.status="fulfilled",m.value=r;for(var _=0;_<f.length;_++)(0,f[_])(r)},function(_){for(m.status="rejected",m.reason=_,_=0;_<f.length;_++)(0,f[_])(void 0)}),m}var Tg=q.S;q.S=function(s,r){dm=O(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&wp(s,r),Tg!==null&&Tg(s,r)};var Oo=X(null);function hh(){var s=Oo.current;return s!==null?s:Wt.pooledCache}function Uu(s,r){r===null?pe(Oo,Oo.current):pe(Oo,r.pool)}function Ap(){var s=hh();return s===null?null:{parent:Ri._currentValue,pool:s}}var Ml=Error(i(460)),Ou=Error(i(474)),an=Error(i(542)),dh={then:function(){}};function Os(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ph(s,r,f){switch(f=s[f],f===void 0?s.push(r):f!==r&&(r.then(Wr,Wr),r=f),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,El(s),s;default:if(typeof r.status=="string")r.then(Wr,Wr);else{if(s=Wt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(m){if(r.status==="pending"){var _=r;_.status="fulfilled",_.value=m}},function(m){if(r.status==="pending"){var _=r;_.status="rejected",_.reason=m}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,El(s),s}throw wr=r,Ml}}function wl(s){try{var r=s._init;return r(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(wr=f,Ml):f}}var wr=null;function Tl(){if(wr===null)throw Error(i(459));var s=wr;return wr=null,s}function El(s){if(s===Ml||s===an)throw Error(i(483))}var Al=null,Cl=0;function zu(s){var r=Cl;return Cl+=1,Al===null&&(Al=[]),ph(Al,s,r)}function Ra(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Mc(s,r){throw r.$$typeof===x?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function mh(s){function r(le,ne){if(s){var ve=le.deletions;ve===null?(le.deletions=[ne],le.flags|=16):ve.push(ne)}}function f(le,ne){if(!s)return null;for(;ne!==null;)r(le,ne),ne=ne.sibling;return null}function m(le){for(var ne=new Map;le!==null;)le.key!==null?ne.set(le.key,le):ne.set(le.index,le),le=le.sibling;return ne}function _(le,ne){return le=Ps(le,ne),le.index=0,le.sibling=null,le}function w(le,ne,ve){return le.index=ve,s?(ve=le.alternate,ve!==null?(ve=ve.index,ve<ne?(le.flags|=67108866,ne):ve):(le.flags|=67108866,ne)):(le.flags|=1048576,ne)}function L(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ne,ve,Oe){return ne===null||ne.tag!==6?(ne=sh(ve,le.mode,Oe),ne.return=le,ne):(ne=_(ne,ve),ne.return=le,ne)}function J(le,ne,ve,Oe){var Ut=ve.type;return Ut===C?Le(le,ne,ve.props.children,Oe,ve.key):ne!==null&&(ne.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===j&&wl(Ut)===ne.type)?(ne=_(ne,ve.props),Ra(ne,ve),ne.return=le,ne):(ne=gr(ve.type,ve.key,ve.props,null,le.mode,Oe),Ra(ne,ve),ne.return=le,ne)}function ye(le,ne,ve,Oe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ve.containerInfo||ne.stateNode.implementation!==ve.implementation?(ne=ah(ve,le.mode,Oe),ne.return=le,ne):(ne=_(ne,ve.children||[]),ne.return=le,ne)}function Le(le,ne,ve,Oe,Ut){return ne===null||ne.tag!==7?(ne=No(ve,le.mode,Oe,Ut),ne.return=le,ne):(ne=_(ne,ve),ne.return=le,ne)}function ze(le,ne,ve){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=sh(""+ne,le.mode,ve),ne.return=le,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return ve=gr(ne.type,ne.key,ne.props,null,le.mode,ve),Ra(ve,ne),ve.return=le,ve;case T:return ne=ah(ne,le.mode,ve),ne.return=le,ne;case j:return ne=wl(ne),ze(le,ne,ve)}if(he(ne)||ie(ne))return ne=No(ne,le.mode,ve,null),ne.return=le,ne;if(typeof ne.then=="function")return ze(le,zu(ne),ve);if(ne.$$typeof===D)return ze(le,Sc(le,ne),ve);Mc(le,ne)}return null}function _e(le,ne,ve,Oe){var Ut=ne!==null?ne.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Ut!==null?null:G(le,ne,""+ve,Oe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:return ve.key===Ut?J(le,ne,ve,Oe):null;case T:return ve.key===Ut?ye(le,ne,ve,Oe):null;case j:return ve=wl(ve),_e(le,ne,ve,Oe)}if(he(ve)||ie(ve))return Ut!==null?null:Le(le,ne,ve,Oe,null);if(typeof ve.then=="function")return _e(le,ne,zu(ve),Oe);if(ve.$$typeof===D)return _e(le,ne,Sc(le,ve),Oe);Mc(le,ve)}return null}function Ne(le,ne,ve,Oe,Ut){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return le=le.get(ve)||null,G(ne,le,""+Oe,Ut);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case S:return le=le.get(Oe.key===null?ve:Oe.key)||null,J(ne,le,Oe,Ut);case T:return le=le.get(Oe.key===null?ve:Oe.key)||null,ye(ne,le,Oe,Ut);case j:return Oe=wl(Oe),Ne(le,ne,ve,Oe,Ut)}if(he(Oe)||ie(Oe))return le=le.get(ve)||null,Le(ne,le,Oe,Ut,null);if(typeof Oe.then=="function")return Ne(le,ne,ve,zu(Oe),Ut);if(Oe.$$typeof===D)return Ne(le,ne,ve,Sc(ne,Oe),Ut);Mc(ne,Oe)}return null}function Et(le,ne,ve,Oe){for(var Ut=null,Ln=null,Rt=ne,un=ne=0,wn=null;Rt!==null&&un<ve.length;un++){Rt.index>un?(wn=Rt,Rt=null):wn=Rt.sibling;var In=_e(le,Rt,ve[un],Oe);if(In===null){Rt===null&&(Rt=wn);break}s&&Rt&&In.alternate===null&&r(le,Rt),ne=w(In,ne,un),Ln===null?Ut=In:Ln.sibling=In,Ln=In,Rt=wn}if(un===ve.length)return f(le,Rt),vn&&vr(le,un),Ut;if(Rt===null){for(;un<ve.length;un++)Rt=ze(le,ve[un],Oe),Rt!==null&&(ne=w(Rt,ne,un),Ln===null?Ut=Rt:Ln.sibling=Rt,Ln=Rt);return vn&&vr(le,un),Ut}for(Rt=m(Rt);un<ve.length;un++)wn=Ne(Rt,le,un,ve[un],Oe),wn!==null&&(s&&wn.alternate!==null&&Rt.delete(wn.key===null?un:wn.key),ne=w(wn,ne,un),Ln===null?Ut=wn:Ln.sibling=wn,Ln=wn);return s&&Rt.forEach(function(Wc){return r(le,Wc)}),vn&&vr(le,un),Ut}function Ht(le,ne,ve,Oe){if(ve==null)throw Error(i(151));for(var Ut=null,Ln=null,Rt=ne,un=ne=0,wn=null,In=ve.next();Rt!==null&&!In.done;un++,In=ve.next()){Rt.index>un?(wn=Rt,Rt=null):wn=Rt.sibling;var Wc=_e(le,Rt,In.value,Oe);if(Wc===null){Rt===null&&(Rt=wn);break}s&&Rt&&Wc.alternate===null&&r(le,Rt),ne=w(Wc,ne,un),Ln===null?Ut=Wc:Ln.sibling=Wc,Ln=Wc,Rt=wn}if(In.done)return f(le,Rt),vn&&vr(le,un),Ut;if(Rt===null){for(;!In.done;un++,In=ve.next())In=ze(le,In.value,Oe),In!==null&&(ne=w(In,ne,un),Ln===null?Ut=In:Ln.sibling=In,Ln=In);return vn&&vr(le,un),Ut}for(Rt=m(Rt);!In.done;un++,In=ve.next())In=Ne(Rt,le,un,In.value,Oe),In!==null&&(s&&In.alternate!==null&&Rt.delete(In.key===null?un:In.key),ne=w(In,ne,un),Ln===null?Ut=In:Ln.sibling=In,Ln=In);return s&&Rt.forEach(function(PN){return r(le,PN)}),vn&&vr(le,un),Ut}function Zn(le,ne,ve,Oe){if(typeof ve=="object"&&ve!==null&&ve.type===C&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:e:{for(var Ut=ve.key;ne!==null;){if(ne.key===Ut){if(Ut=ve.type,Ut===C){if(ne.tag===7){f(le,ne.sibling),Oe=_(ne,ve.props.children),Oe.return=le,le=Oe;break e}}else if(ne.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===j&&wl(Ut)===ne.type){f(le,ne.sibling),Oe=_(ne,ve.props),Ra(Oe,ve),Oe.return=le,le=Oe;break e}f(le,ne);break}else r(le,ne);ne=ne.sibling}ve.type===C?(Oe=No(ve.props.children,le.mode,Oe,ve.key),Oe.return=le,le=Oe):(Oe=gr(ve.type,ve.key,ve.props,null,le.mode,Oe),Ra(Oe,ve),Oe.return=le,le=Oe)}return L(le);case T:e:{for(Ut=ve.key;ne!==null;){if(ne.key===Ut)if(ne.tag===4&&ne.stateNode.containerInfo===ve.containerInfo&&ne.stateNode.implementation===ve.implementation){f(le,ne.sibling),Oe=_(ne,ve.children||[]),Oe.return=le,le=Oe;break e}else{f(le,ne);break}else r(le,ne);ne=ne.sibling}Oe=ah(ve,le.mode,Oe),Oe.return=le,le=Oe}return L(le);case j:return ve=wl(ve),Zn(le,ne,ve,Oe)}if(he(ve))return Et(le,ne,ve,Oe);if(ie(ve)){if(Ut=ie(ve),typeof Ut!="function")throw Error(i(150));return ve=Ut.call(ve),Ht(le,ne,ve,Oe)}if(typeof ve.then=="function")return Zn(le,ne,zu(ve),Oe);if(ve.$$typeof===D)return Zn(le,ne,Sc(le,ve),Oe);Mc(le,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,ne!==null&&ne.tag===6?(f(le,ne.sibling),Oe=_(ne,ve),Oe.return=le,le=Oe):(f(le,ne),Oe=sh(ve,le.mode,Oe),Oe.return=le,le=Oe),L(le)):f(le,ne)}return function(le,ne,ve,Oe){try{Cl=0;var Ut=Zn(le,ne,ve,Oe);return Al=null,Ut}catch(Rt){if(Rt===Ml||Rt===an)throw Rt;var Ln=ai(29,Rt,null,le.mode);return Ln.lanes=Oe,Ln.return=le,Ln}finally{}}}var Jr=mh(!0),gh=mh(!1),Ts=!1;function Bu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function $r(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function zo(s,r,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Nt&2)!==0){var _=m.pending;return _===null?r.next=r:(r.next=_.next,_.next=r),m.pending=r,r=Aa(s),Co(s,null,f),r}return Zi(s,m,r,f),Aa(s)}function Bo(s,r,f){if(r=r.updateQueue,r!==null&&(r=r.shared,(f&4194048)!==0)){var m=r.lanes;m&=s.pendingLanes,f|=m,r.lanes=f,Ei(s,f)}}function Pt(s,r){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var _=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var L={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?_=w=L:w=w.next=L,f=f.next}while(f!==null);w===null?_=w=r:w=w.next=r}else _=w=r;f={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=r:s.next=r,f.lastBaseUpdate=r}var Rp=!1;function Fu(){if(Rp){var s=Ca;if(s!==null)throw s}}function wc(s,r,f,m){Rp=!1;var _=s.updateQueue;Ts=!1;var w=_.firstBaseUpdate,L=_.lastBaseUpdate,G=_.shared.pending;if(G!==null){_.shared.pending=null;var J=G,ye=J.next;J.next=null,L===null?w=ye:L.next=ye,L=J;var Le=s.alternate;Le!==null&&(Le=Le.updateQueue,G=Le.lastBaseUpdate,G!==L&&(G===null?Le.firstBaseUpdate=ye:G.next=ye,Le.lastBaseUpdate=J))}if(w!==null){var ze=_.baseState;L=0,Le=ye=J=null,G=w;do{var _e=G.lane&-536870913,Ne=_e!==G.lane;if(Ne?(nn&_e)===_e:(m&_e)===_e){_e!==0&&_e===Qr&&(Rp=!0),Le!==null&&(Le=Le.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Et=s,Ht=G;_e=r;var Zn=f;switch(Ht.tag){case 1:if(Et=Ht.payload,typeof Et=="function"){ze=Et.call(Zn,ze,_e);break e}ze=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Ht.payload,_e=typeof Et=="function"?Et.call(Zn,ze,_e):Et,_e==null)break e;ze=v({},ze,_e);break e;case 2:Ts=!0}}_e=G.callback,_e!==null&&(s.flags|=64,Ne&&(s.flags|=8192),Ne=_.callbacks,Ne===null?_.callbacks=[_e]:Ne.push(_e))}else Ne={lane:_e,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Le===null?(ye=Le=Ne,J=ze):Le=Le.next=Ne,L|=_e;if(G=G.next,G===null){if(G=_.shared.pending,G===null)break;Ne=G,G=Ne.next,Ne.next=null,_.lastBaseUpdate=Ne,_.shared.pending=null}}while(!0);Le===null&&(J=ze),_.baseState=J,_.firstBaseUpdate=ye,_.lastBaseUpdate=Le,w===null&&(_.shared.lanes=0),Dr|=L,s.lanes=L,s.memoizedState=ze}}function Tc(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Eg(s,r){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)Tc(f[s],r)}var Ec=X(null),vh=X(0);function Ag(s,r){s=ua,pe(vh,s),pe(Ec,r),ua=s|r.baseLanes}function Np(){pe(vh,ua),pe(Ec,Ec.current)}function ku(){ua=vh.current,re(Ec),re(vh)}var zs=X(null),Es=null;function eo(s){var r=s.alternate;pe(yn,yn.current&1),pe(zs,s),Es===null&&(r===null||Ec.current!==null||r.memoizedState!==null)&&(Es=s)}function Dp(s){pe(yn,yn.current),pe(zs,s),Es===null&&(Es=s)}function Cg(s){s.tag===22?(pe(yn,yn.current),pe(zs,s),Es===null&&(Es=s)):Bs()}function Bs(){pe(yn,yn.current),pe(zs,zs.current)}function vi(s){re(zs),Es===s&&(Es=null),re(yn)}var yn=X(0);function oa(s){for(var r=s;r!==null;){if(r.tag===13){var f=r.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||ub(f)||fb(f)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ti=0,Jt=null,kn=null,pn=null,Na=!1,Ac=!1,Rl=!1,yh=0,Vu=0,Cc=null,Lp=0;function oi(){throw Error(i(321))}function Ip(s,r){if(r===null)return!1;for(var f=0;f<r.length&&f<s.length;f++)if(!Ms(s[f],r[f]))return!1;return!0}function xh(s,r,f,m,_,w){return ti=w,Jt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=s===null||s.memoizedState===null?rv:$p,Rl=!1,w=f(m,_),Rl=!1,Ac&&(w=Nl(r,f,m,_)),Rg(s),w}function Rg(s){q.H=Rc;var r=kn!==null&&kn.next!==null;if(ti=0,pn=kn=Jt=null,Na=!1,Vu=0,Cc=null,r)throw Error(i(300));s===null||Ni||(s=s.dependencies,s!==null&&Pu(s)&&(Ni=!0))}function Nl(s,r,f,m){Jt=s;var _=0;do{if(Ac&&(Cc=null),Vu=0,Ac=!1,25<=_)throw Error(i(301));if(_+=1,pn=kn=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}q.H=Da,w=r(f,m)}while(Ac);return w}function Dl(){var s=q.H,r=s.useState()[0];return r=typeof r.then=="function"?Hu(r):r,s=s.useState()[0],(kn!==null?kn.memoizedState:null)!==s&&(Jt.flags|=1024),r}function Pp(){var s=yh!==0;return yh=0,s}function Up(s,r,f){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~f}function Op(s){if(Na){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Na=!1}ti=0,pn=kn=Jt=null,Ac=!1,Vu=yh=0,Cc=null}function Fi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Jt.memoizedState=pn=s:pn=pn.next=s,pn}function yi(){if(kn===null){var s=Jt.alternate;s=s!==null?s.memoizedState:null}else s=kn.next;var r=pn===null?Jt.memoizedState:pn.next;if(r!==null)pn=r,kn=s;else{if(s===null)throw Jt.alternate===null?Error(i(467)):Error(i(310));kn=s,s={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},pn===null?Jt.memoizedState=pn=s:pn=pn.next=s}return pn}function bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hu(s){var r=Vu;return Vu+=1,Cc===null&&(Cc=[]),s=ph(Cc,s,r),r=Jt,(pn===null?r.memoizedState:pn.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?rv:$p),s}function Fo(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Hu(s);if(s.$$typeof===D)return Gt(s)}throw Error(i(438,String(s)))}function zp(s){var r=null,f=Jt.updateQueue;if(f!==null&&(r=f.memoCache),r==null){var m=Jt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(r={data:m.data.map(function(_){return _.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),f===null&&(f=bh(),Jt.updateQueue=f),f.memoCache=r,f=r.data[r.index],f===void 0)for(f=r.data[r.index]=Array(s),m=0;m<s;m++)f[m]=B;return r.index++,f}function to(s,r){return typeof r=="function"?r(s):r}function _h(s){var r=yi();return Bp(r,kn,s)}function Bp(s,r,f){var m=s.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=f;var _=s.baseQueue,w=m.pending;if(w!==null){if(_!==null){var L=_.next;_.next=w.next,w.next=L}r.baseQueue=_=w,m.pending=null}if(w=s.baseState,_===null)s.memoizedState=w;else{r=_.next;var G=L=null,J=null,ye=r,Le=!1;do{var ze=ye.lane&-536870913;if(ze!==ye.lane?(nn&ze)===ze:(ti&ze)===ze){var _e=ye.revertLane;if(_e===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),ze===Qr&&(Le=!0);else if((ti&_e)===_e){ye=ye.next,_e===Qr&&(Le=!0);continue}else ze={lane:0,revertLane:ye.revertLane,gesture:null,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},J===null?(G=J=ze,L=w):J=J.next=ze,Jt.lanes|=_e,Dr|=_e;ze=ye.action,Rl&&f(w,ze),w=ye.hasEagerState?ye.eagerState:f(w,ze)}else _e={lane:ze,revertLane:ye.revertLane,gesture:ye.gesture,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},J===null?(G=J=_e,L=w):J=J.next=_e,Jt.lanes|=ze,Dr|=ze;ye=ye.next}while(ye!==null&&ye!==r);if(J===null?L=w:J.next=G,!Ms(w,s.memoizedState)&&(Ni=!0,Le&&(f=Ca,f!==null)))throw f;s.memoizedState=w,s.baseState=L,s.baseQueue=J,m.lastRenderedState=w}return _===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function Fp(s){var r=yi(),f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=s;var m=f.dispatch,_=f.pending,w=r.memoizedState;if(_!==null){f.pending=null;var L=_=_.next;do w=s(w,L.action),L=L.next;while(L!==_);Ms(w,r.memoizedState)||(Ni=!0),r.memoizedState=w,r.baseQueue===null&&(r.baseState=w),f.lastRenderedState=w}return[w,m]}function Ng(s,r,f){var m=Jt,_=yi(),w=vn;if(w){if(f===void 0)throw Error(i(407));f=f()}else f=r();var L=!Ms((kn||_).memoizedState,f);if(L&&(_.memoizedState=f,Ni=!0),_=_.queue,qp(Ig.bind(null,m,_,s),[s]),_.getSnapshot!==r||L||pn!==null&&pn.memoizedState.tag&1){if(m.flags|=2048,ko(9,{destroy:void 0},Lg.bind(null,m,_,f,r),null),Wt===null)throw Error(i(349));w||(ti&127)!==0||Dg(m,r,f)}return f}function Dg(s,r,f){s.flags|=16384,s={getSnapshot:r,value:f},r=Jt.updateQueue,r===null?(r=bh(),Jt.updateQueue=r,r.stores=[s]):(f=r.stores,f===null?r.stores=[s]:f.push(s))}function Lg(s,r,f,m){r.value=f,r.getSnapshot=m,Pg(r)&&Ug(s)}function Ig(s,r,f){return f(function(){Pg(r)&&Ug(s)})}function Pg(s){var r=s.getSnapshot;s=s.value;try{var f=r();return!Ms(s,f)}catch{return!0}}function Ug(s){var r=ws(s,2);r!==null&&on(r,s,2)}function kp(s){var r=Fi();if(typeof s=="function"){var f=s;if(s=f(),Rl){dt(!0);try{f()}finally{dt(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:s},r}function Vp(s,r,f,m){return s.baseState=f,Bp(s,kn,typeof m=="function"?m:to)}function Yx(s,r,f,m,_){if(Th(s))throw Error(i(485));if(s=r.action,s!==null){var w={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){w.listeners.push(L)}};q.T!==null?f(!0):w.isTransition=!1,m(w),f=r.pending,f===null?(w.next=r.pending=w,Og(r,w)):(w.next=f.next,r.pending=f.next=w)}}function Og(s,r){var f=r.action,m=r.payload,_=s.state;if(r.isTransition){var w=q.T,L={};q.T=L;try{var G=f(_,m),J=q.S;J!==null&&J(L,G),zg(s,r,G)}catch(ye){Hp(s,r,ye)}finally{w!==null&&L.types!==null&&(w.types=L.types),q.T=w}}else try{w=f(_,m),zg(s,r,w)}catch(ye){Hp(s,r,ye)}}function zg(s,r,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){Bg(s,r,m)},function(m){return Hp(s,r,m)}):Bg(s,r,f)}function Bg(s,r,f){r.status="fulfilled",r.value=f,Fg(r),s.state=f,r=s.pending,r!==null&&(f=r.next,f===r?s.pending=null:(f=f.next,r.next=f,Og(s,f)))}function Hp(s,r,f){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do r.status="rejected",r.reason=f,Fg(r),r=r.next;while(r!==m)}s.action=null}function Fg(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Gp(s,r){return r}function jp(s,r){if(vn){var f=Wt.formState;if(f!==null){e:{var m=Jt;if(vn){if(Xn){t:{for(var _=Xn,w=aa;_.nodeType!==8;){if(!w){_=null;break t}if(_=Pr(_.nextSibling),_===null){_=null;break t}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){Xn=Pr(_.nextSibling),m=_.data==="F!";break e}}xr(m)}m=!1}m&&(r=f[0])}}return f=Fi(),f.memoizedState=f.baseState=r,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:r},f.queue=m,f=iv.bind(null,Jt,m),m.dispatch=f,m=kp(!1),w=Jp.bind(null,Jt,!1,m.queue),m=Fi(),_={state:r,dispatch:null,action:s,pending:null},m.queue=_,f=Yx.bind(null,Jt,_,w,f),_.dispatch=f,m.memoizedState=s,[r,f,!1]}function kg(s){var r=yi();return Wp(r,kn,s)}function Wp(s,r,f){if(r=Bp(s,r,Gp)[0],s=_h(to)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var m=Hu(r)}catch(L){throw L===Ml?an:L}else m=r;r=yi();var _=r.queue,w=_.dispatch;return f!==r.memoizedState&&(Jt.flags|=2048,ko(9,{destroy:void 0},Vg.bind(null,_,f),null)),[m,w,s]}function Vg(s,r){s.action=r}function Xp(s){var r=yi(),f=kn;if(f!==null)return Wp(r,f,s);yi(),r=r.memoizedState,f=yi();var m=f.queue.dispatch;return f.memoizedState=s,[r,m,!1]}function ko(s,r,f,m){return s={tag:s,create:f,deps:m,inst:r,next:null},r=Jt.updateQueue,r===null&&(r=bh(),Jt.updateQueue=r),f=r.lastEffect,f===null?r.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,r.lastEffect=s),s}function Sh(){return yi().memoizedState}function Mh(s,r,f,m){var _=Fi();Jt.flags|=s,_.memoizedState=ko(1|r,{destroy:void 0},f,m===void 0?null:m)}function wh(s,r,f,m){var _=yi();m=m===void 0?null:m;var w=_.memoizedState.inst;kn!==null&&m!==null&&Ip(m,kn.memoizedState.deps)?_.memoizedState=ko(r,w,f,m):(Jt.flags|=s,_.memoizedState=ko(1|r,w,f,m))}function Hg(s,r){Mh(8390656,8,s,r)}function qp(s,r){wh(2048,8,s,r)}function Gg(s){Jt.flags|=4;var r=Jt.updateQueue;if(r===null)r=bh(),Jt.updateQueue=r,r.events=[s];else{var f=r.events;f===null?r.events=[s]:f.push(s)}}function jg(s){var r=yi().memoizedState;return Gg({ref:r,nextImpl:s}),function(){if((Nt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Wg(s,r){return wh(4,2,s,r)}function Xg(s,r){return wh(4,4,s,r)}function qg(s,r){if(typeof r=="function"){s=s();var f=r(s);return function(){typeof f=="function"?f():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Yg(s,r,f){f=f!=null?f.concat([s]):null,wh(4,4,qg.bind(null,r,s),f)}function Yp(){}function Zg(s,r){var f=yi();r=r===void 0?null:r;var m=f.memoizedState;return r!==null&&Ip(r,m[1])?m[0]:(f.memoizedState=[s,r],s)}function Kg(s,r){var f=yi();r=r===void 0?null:r;var m=f.memoizedState;if(r!==null&&Ip(r,m[1]))return m[0];if(m=s(),Rl){dt(!0);try{s()}finally{dt(!1)}}return f.memoizedState=[m,r],m}function Zp(s,r,f){return f===void 0||(ti&1073741824)!==0&&(nn&261930)===0?s.memoizedState=r:(s.memoizedState=f,s=hn(),Jt.lanes|=s,Dr|=s,f)}function Qg(s,r,f,m){return Ms(f,r)?f:Ec.current!==null?(s=Zp(s,f,m),Ms(s,r)||(Ni=!0),s):(ti&42)===0||(ti&1073741824)!==0&&(nn&261930)===0?(Ni=!0,s.memoizedState=f):(s=hn(),Jt.lanes|=s,Dr|=s,r)}function Jg(s,r,f,m,_){var w=K.p;K.p=w!==0&&8>w?w:8;var L=q.T,G={};q.T=G,Jp(s,!1,r,f);try{var J=_(),ye=q.S;if(ye!==null&&ye(G,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Le=Ep(J,m);Gu(s,r,Le,ha(s))}else Gu(s,r,m,ha(s))}catch(ze){Gu(s,r,{then:function(){},status:"rejected",reason:ze},ha())}finally{K.p=w,L!==null&&G.types!==null&&(L.types=G.types),q.T=L}}function Zx(){}function Kp(s,r,f,m){if(s.tag!==5)throw Error(i(476));var _=$g(s).queue;Jg(s,_,r,oe,f===null?Zx:function(){return ev(s),f(m)})}function $g(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:oe},next:null};var f={};return r.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:f},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function ev(s){var r=$g(s);r.next===null&&(r=s.alternate.memoizedState),Gu(s,r.next.queue,{},ha())}function Qp(){return Gt(xm)}function tv(){return yi().memoizedState}function nv(){return yi().memoizedState}function Kx(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var f=ha();s=$r(f);var m=zo(r,s,f);m!==null&&(on(m,r,f),Bo(m,r,f)),r={cache:Mp()},s.payload=r;return}r=r.return}}function Qx(s,r,f){var m=ha();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Th(s)?sv(r,f):(f=nh(s,r,f,m),f!==null&&(on(f,s,m),av(f,r,m)))}function iv(s,r,f){var m=ha();Gu(s,r,f,m)}function Gu(s,r,f,m){var _={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Th(s))sv(r,_);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=r.lastRenderedReducer,w!==null))try{var L=r.lastRenderedState,G=w(L,f);if(_.hasEagerState=!0,_.eagerState=G,Ms(G,L))return Zi(s,r,_,0),Wt===null&&Lu(),!1}catch{}finally{}if(f=nh(s,r,_,m),f!==null)return on(f,s,m),av(f,r,m),!0}return!1}function Jp(s,r,f,m){if(m={lane:2,revertLane:we(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Th(s)){if(r)throw Error(i(479))}else r=nh(s,f,m,2),r!==null&&on(r,s,2)}function Th(s){var r=s.alternate;return s===Jt||r!==null&&r===Jt}function sv(s,r){Ac=Na=!0;var f=s.pending;f===null?r.next=r:(r.next=f.next,f.next=r),s.pending=r}function av(s,r,f){if((f&4194048)!==0){var m=r.lanes;m&=s.pendingLanes,f|=m,r.lanes=f,Ei(s,f)}}var Rc={readContext:Gt,use:Fo,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useInsertionEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useSyncExternalStore:oi,useId:oi,useHostTransitionStatus:oi,useFormState:oi,useActionState:oi,useOptimistic:oi,useMemoCache:oi,useCacheRefresh:oi};Rc.useEffectEvent=oi;var rv={readContext:Gt,use:Fo,useCallback:function(s,r){return Fi().memoizedState=[s,r===void 0?null:r],s},useContext:Gt,useEffect:Hg,useImperativeHandle:function(s,r,f){f=f!=null?f.concat([s]):null,Mh(4194308,4,qg.bind(null,r,s),f)},useLayoutEffect:function(s,r){return Mh(4194308,4,s,r)},useInsertionEffect:function(s,r){Mh(4,2,s,r)},useMemo:function(s,r){var f=Fi();r=r===void 0?null:r;var m=s();if(Rl){dt(!0);try{s()}finally{dt(!1)}}return f.memoizedState=[m,r],m},useReducer:function(s,r,f){var m=Fi();if(f!==void 0){var _=f(r);if(Rl){dt(!0);try{f(r)}finally{dt(!1)}}}else _=r;return m.memoizedState=m.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},m.queue=s,s=s.dispatch=Qx.bind(null,Jt,s),[m.memoizedState,s]},useRef:function(s){var r=Fi();return s={current:s},r.memoizedState=s},useState:function(s){s=kp(s);var r=s.queue,f=iv.bind(null,Jt,r);return r.dispatch=f,[s.memoizedState,f]},useDebugValue:Yp,useDeferredValue:function(s,r){var f=Fi();return Zp(f,s,r)},useTransition:function(){var s=kp(!1);return s=Jg.bind(null,Jt,s.queue,!0,!1),Fi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,f){var m=Jt,_=Fi();if(vn){if(f===void 0)throw Error(i(407));f=f()}else{if(f=r(),Wt===null)throw Error(i(349));(nn&127)!==0||Dg(m,r,f)}_.memoizedState=f;var w={value:f,getSnapshot:r};return _.queue=w,Hg(Ig.bind(null,m,w,s),[s]),m.flags|=2048,ko(9,{destroy:void 0},Lg.bind(null,m,w,f,r),null),f},useId:function(){var s=Fi(),r=Wt.identifierPrefix;if(vn){var f=$a,m=ri;f=(m&~(1<<32-ft(m)-1)).toString(32)+f,r="_"+r+"R_"+f,f=yh++,0<f&&(r+="H"+f.toString(32)),r+="_"}else f=Lp++,r="_"+r+"r_"+f.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Qp,useFormState:jp,useActionState:jp,useOptimistic:function(s){var r=Fi();r.memoizedState=r.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=f,r=Jp.bind(null,Jt,!0,f),f.dispatch=r,[s,r]},useMemoCache:zp,useCacheRefresh:function(){return Fi().memoizedState=Kx.bind(null,Jt)},useEffectEvent:function(s){var r=Fi(),f={impl:s};return r.memoizedState=f,function(){if((Nt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},$p={readContext:Gt,use:Fo,useCallback:Zg,useContext:Gt,useEffect:qp,useImperativeHandle:Yg,useInsertionEffect:Wg,useLayoutEffect:Xg,useMemo:Kg,useReducer:_h,useRef:Sh,useState:function(){return _h(to)},useDebugValue:Yp,useDeferredValue:function(s,r){var f=yi();return Qg(f,kn.memoizedState,s,r)},useTransition:function(){var s=_h(to)[0],r=yi().memoizedState;return[typeof s=="boolean"?s:Hu(s),r]},useSyncExternalStore:Ng,useId:tv,useHostTransitionStatus:Qp,useFormState:kg,useActionState:kg,useOptimistic:function(s,r){var f=yi();return Vp(f,kn,s,r)},useMemoCache:zp,useCacheRefresh:nv};$p.useEffectEvent=jg;var Da={readContext:Gt,use:Fo,useCallback:Zg,useContext:Gt,useEffect:qp,useImperativeHandle:Yg,useInsertionEffect:Wg,useLayoutEffect:Xg,useMemo:Kg,useReducer:Fp,useRef:Sh,useState:function(){return Fp(to)},useDebugValue:Yp,useDeferredValue:function(s,r){var f=yi();return kn===null?Zp(f,s,r):Qg(f,kn.memoizedState,s,r)},useTransition:function(){var s=Fp(to)[0],r=yi().memoizedState;return[typeof s=="boolean"?s:Hu(s),r]},useSyncExternalStore:Ng,useId:tv,useHostTransitionStatus:Qp,useFormState:Xp,useActionState:Xp,useOptimistic:function(s,r){var f=yi();return kn!==null?Vp(f,kn,s,r):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:zp,useCacheRefresh:nv};Da.useEffectEvent=jg;function Eh(s,r,f,m){r=s.memoizedState,f=f(m,r),f=f==null?r:v({},r,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var ju={enqueueSetState:function(s,r,f){s=s._reactInternals;var m=ha(),_=$r(m);_.payload=r,f!=null&&(_.callback=f),r=zo(s,_,m),r!==null&&(on(r,s,m),Bo(r,s,m))},enqueueReplaceState:function(s,r,f){s=s._reactInternals;var m=ha(),_=$r(m);_.tag=1,_.payload=r,f!=null&&(_.callback=f),r=zo(s,_,m),r!==null&&(on(r,s,m),Bo(r,s,m))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var f=ha(),m=$r(f);m.tag=2,r!=null&&(m.callback=r),r=zo(s,m,f),r!==null&&(on(r,s,f),Bo(r,s,f))}};function em(s,r,f,m,_,w,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,L):r.prototype&&r.prototype.isPureReactComponent?!fc(f,m)||!fc(_,w):!0}function tm(s,r,f,m){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(f,m),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(f,m),r.state!==s&&ju.enqueueReplaceState(r,r.state,null)}function Vo(s,r){var f=r;if("ref"in r){f={};for(var m in r)m!=="ref"&&(f[m]=r[m])}if(s=s.defaultProps){f===r&&(f=v({},f));for(var _ in s)f[_]===void 0&&(f[_]=s[_])}return f}function ov(s){Du(s)}function nm(s){console.error(s)}function im(s){Du(s)}function Ah(s,r){try{var f=s.onUncaughtError;f(r.value,{componentStack:r.stack})}catch(m){setTimeout(function(){throw m})}}function lv(s,r,f){try{var m=s.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function sm(s,r,f){return f=$r(f),f.tag=3,f.payload={element:null},f.callback=function(){Ah(s,r)},f}function am(s){return s=$r(s),s.tag=3,s}function cv(s,r,f,m){var _=f.type.getDerivedStateFromError;if(typeof _=="function"){var w=m.value;s.payload=function(){return _(w)},s.callback=function(){lv(r,f,m)}}var L=f.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){lv(r,f,m),typeof _!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var G=m.stack;this.componentDidCatch(m.value,{componentStack:G!==null?G:""})})}function ki(s,r,f,m,_){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(r=f.alternate,r!==null&&Mr(r,f,_,!0),f=zs.current,f!==null){switch(f.tag){case 31:case 13:return Es===null?Oc():f.alternate===null&&li===0&&(li=3),f.flags&=-257,f.flags|=65536,f.lanes=_,m===dh?f.flags|=16384:(r=f.updateQueue,r===null?f.updateQueue=new Set([m]):r.add(m),nf(s,m,_)),!1;case 22:return f.flags|=65536,m===dh?f.flags|=16384:(r=f.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=r):(f=r.retryQueue,f===null?r.retryQueue=new Set([m]):f.add(m)),nf(s,m,_)),!1}throw Error(i(435,f.tag))}return nf(s,m,_),Oc(),!1}if(vn)return r=zs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=_,m!==xc&&(s=Error(i(422),{cause:m}),br(sa(s,f)))):(m!==xc&&(r=Error(i(423),{cause:m}),br(sa(r,f))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,m=sa(m,f),_=sm(s.stateNode,m,_),Pt(s,_),li!==4&&(li=2)),!1;var w=Error(i(520),{cause:m});if(w=sa(w,f),Fl===null?Fl=[w]:Fl.push(w),li!==4&&(li=2),r===null)return!0;m=sa(m,f),f=r;do{switch(f.tag){case 3:return f.flags|=65536,s=_&-_,f.lanes|=s,s=sm(f.stateNode,m,s),Pt(f,s),!1;case 1:if(r=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_i===null||!_i.has(w))))return f.flags|=65536,_&=-_,f.lanes|=_,_=am(_),cv(_,s,f,m),Pt(f,_),!1}f=f.return}while(f!==null);return!1}var Ch=Error(i(461)),Ni=!1;function Ki(s,r,f,m){r.child=s===null?gh(r,null,f,m):Jr(r,s.child,f,m)}function rm(s,r,f,m,_){f=f.render;var w=r.ref;if("ref"in m){var L={};for(var G in m)G!=="ref"&&(L[G]=m[G])}else L=m;return Uo(r),m=xh(s,r,f,L,w,_),G=Pp(),s!==null&&!Ni?(Up(s,r,_),xi(s,r,_)):(vn&&G&&yr(r),r.flags|=1,Ki(s,r,m,_),r.child)}function Ll(s,r,f,m,_){if(s===null){var w=f.type;return typeof w=="function"&&!ih(w)&&w.defaultProps===void 0&&f.compare===null?(r.tag=15,r.type=w,Rh(s,r,w,m,_)):(s=gr(f.type,null,m,r,r.mode,_),s.ref=r.ref,s.return=r,r.child=s)}if(w=s.child,!Uh(s,_)){var L=w.memoizedProps;if(f=f.compare,f=f!==null?f:fc,f(L,m)&&s.ref===r.ref)return xi(s,r,_)}return r.flags|=1,s=Ps(w,m),s.ref=r.ref,s.return=r,r.child=s}function Rh(s,r,f,m,_){if(s!==null){var w=s.memoizedProps;if(fc(w,m)&&s.ref===r.ref)if(Ni=!1,r.pendingProps=m=w,Uh(s,_))(s.flags&131072)!==0&&(Ni=!0);else return r.lanes=s.lanes,xi(s,r,_)}return Nc(s,r,f,m,_)}function Il(s,r,f,m){var _=m.children,w=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((r.flags&128)!==0){if(w=w!==null?w.baseLanes|f:f,s!==null){for(m=r.child=s.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&~w}else m=0,r.child=null;return Fs(s,r,w,f,m)}if((f&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Uu(r,w!==null?w.cachePool:null),w!==null?Ag(r,w):Np(),Cg(r);else return m=r.lanes=536870912,Fs(s,r,w!==null?w.baseLanes|f:f,f,m)}else w!==null?(Uu(r,w.cachePool),Ag(r,w),Bs(),r.memoizedState=null):(s!==null&&Uu(r,null),Np(),Bs());return Ki(s,r,_,f),r.child}function Tr(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Fs(s,r,f,m,_){var w=hh();return w=w===null?null:{parent:Ri._currentValue,pool:w},r.memoizedState={baseLanes:f,cachePool:w},s!==null&&Uu(r,null),Np(),Cg(r),s!==null&&Mr(s,r,m,!0),r.childLanes=_,null}function Nh(s,r){return r=Ph({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function uv(s,r,f){return Jr(r,s.child,null,f),s=Nh(r,r.pendingProps),s.flags|=2,vi(r),r.memoizedState=null,s}function Dh(s,r,f){var m=r.pendingProps,_=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(vn){if(m.mode==="hidden")return s=Nh(r,m),r.lanes=536870912,Tr(null,s);if(Dp(r),(s=Xn)?(s=L3(s,aa),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Yr!==null?{id:ri,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},f=gc(s),f.return=r,r.child=f,di=r,Xn=null)):s=null,s===null)throw xr(r);return r.lanes=536870912,null}return Nh(r,m)}var w=s.memoizedState;if(w!==null){var L=w.dehydrated;if(Dp(r),_)if(r.flags&256)r.flags&=-257,r=uv(s,r,f);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ni||Mr(s,r,f,!1),_=(f&s.childLanes)!==0,Ni||_){if(m=Wt,m!==null&&(L=Oi(m,f),L!==0&&L!==w.retryLane))throw w.retryLane=L,ws(s,L),on(m,s,L),Ch;Oc(),r=uv(s,r,f)}else s=w.treeContext,Xn=Pr(L.nextSibling),di=r,vn=!0,Zr=null,aa=!1,s!==null&&oh(r,s),r=Nh(r,m),r.flags|=4096;return r}return s=Ps(s.child,{mode:m.mode,children:m.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Pl(s,r){var f=r.ref;if(f===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(s===null||s.ref!==f)&&(r.flags|=4194816)}}function Nc(s,r,f,m,_){return Uo(r),f=xh(s,r,f,m,void 0,_),m=Pp(),s!==null&&!Ni?(Up(s,r,_),xi(s,r,_)):(vn&&m&&yr(r),r.flags|=1,Ki(s,r,f,_),r.child)}function Wu(s,r,f,m,_,w){return Uo(r),r.updateQueue=null,f=Nl(r,m,f,_),Rg(s),m=Pp(),s!==null&&!Ni?(Up(s,r,w),xi(s,r,w)):(vn&&m&&yr(r),r.flags|=1,Ki(s,r,f,w),r.child)}function Lh(s,r,f,m,_){if(Uo(r),r.stateNode===null){var w=Ro,L=f.contextType;typeof L=="object"&&L!==null&&(w=Gt(L)),w=new f(m,w),r.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ju,r.stateNode=w,w._reactInternals=r,w=r.stateNode,w.props=m,w.state=r.memoizedState,w.refs={},Bu(r),L=f.contextType,w.context=typeof L=="object"&&L!==null?Gt(L):Ro,w.state=r.memoizedState,L=f.getDerivedStateFromProps,typeof L=="function"&&(Eh(r,f,L,m),w.state=r.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(L=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),L!==w.state&&ju.enqueueReplaceState(w,w.state,null),wc(r,m,w,_),Fu(),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308),m=!0}else if(s===null){w=r.stateNode;var G=r.memoizedProps,J=Vo(f,G);w.props=J;var ye=w.context,Le=f.contextType;L=Ro,typeof Le=="object"&&Le!==null&&(L=Gt(Le));var ze=f.getDerivedStateFromProps;Le=typeof ze=="function"||typeof w.getSnapshotBeforeUpdate=="function",G=r.pendingProps!==G,Le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G||ye!==L)&&tm(r,w,m,L),Ts=!1;var _e=r.memoizedState;w.state=_e,wc(r,m,w,_),Fu(),ye=r.memoizedState,G||_e!==ye||Ts?(typeof ze=="function"&&(Eh(r,f,ze,m),ye=r.memoizedState),(J=Ts||em(r,f,J,m,_e,ye,L))?(Le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=m,r.memoizedState=ye),w.props=m,w.state=ye,w.context=L,m=J):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),m=!1)}else{w=r.stateNode,Cp(s,r),L=r.memoizedProps,Le=Vo(f,L),w.props=Le,ze=r.pendingProps,_e=w.context,ye=f.contextType,J=Ro,typeof ye=="object"&&ye!==null&&(J=Gt(ye)),G=f.getDerivedStateFromProps,(ye=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==ze||_e!==J)&&tm(r,w,m,J),Ts=!1,_e=r.memoizedState,w.state=_e,wc(r,m,w,_),Fu();var Ne=r.memoizedState;L!==ze||_e!==Ne||Ts||s!==null&&s.dependencies!==null&&Pu(s.dependencies)?(typeof G=="function"&&(Eh(r,f,G,m),Ne=r.memoizedState),(Le=Ts||em(r,f,Le,m,_e,Ne,J)||s!==null&&s.dependencies!==null&&Pu(s.dependencies))?(ye||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,Ne,J),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,Ne,J)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||L===s.memoizedProps&&_e===s.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&_e===s.memoizedState||(r.flags|=1024),r.memoizedProps=m,r.memoizedState=Ne),w.props=m,w.state=Ne,w.context=J,m=Le):(typeof w.componentDidUpdate!="function"||L===s.memoizedProps&&_e===s.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&_e===s.memoizedState||(r.flags|=1024),m=!1)}return w=m,Pl(s,r),m=(r.flags&128)!==0,w||m?(w=r.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:w.render(),r.flags|=1,s!==null&&m?(r.child=Jr(r,s.child,null,_),r.child=Jr(r,null,f,_)):Ki(s,r,f,_),r.memoizedState=w.state,s=r.child):s=xi(s,r,_),s}function fv(s,r,f,m){return Io(),r.flags|=256,Ki(s,r,f,m),r.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ps(s){return{baseLanes:s,cachePool:Ap()}}function Ih(s,r,f){return s=s!==null?s.childLanes&~f:0,r&&(s|=Rs),s}function hv(s,r,f){var m=r.pendingProps,_=!1,w=(r.flags&128)!==0,L;if((L=w)||(L=s!==null&&s.memoizedState===null?!1:(yn.current&2)!==0),L&&(_=!0,r.flags&=-129),L=(r.flags&32)!==0,r.flags&=-33,s===null){if(vn){if(_?eo(r):Bs(),(s=Xn)?(s=L3(s,aa),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Yr!==null?{id:ri,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},f=gc(s),f.return=r,r.child=f,di=r,Xn=null)):s=null,s===null)throw xr(r);return fb(s)?r.lanes=32:r.lanes=536870912,null}var G=m.children;return m=m.fallback,_?(Bs(),_=r.mode,G=Ph({mode:"hidden",children:G},_),m=No(m,_,f,null),G.return=r,m.return=r,G.sibling=m,r.child=G,m=r.child,m.memoizedState=ps(f),m.childLanes=Ih(s,L,f),r.memoizedState=om,Tr(null,m)):(eo(r),Xu(r,G))}var J=s.memoizedState;if(J!==null&&(G=J.dehydrated,G!==null)){if(w)r.flags&256?(eo(r),r.flags&=-257,r=lm(s,r,f)):r.memoizedState!==null?(Bs(),r.child=s.child,r.flags|=128,r=null):(Bs(),G=m.fallback,_=r.mode,m=Ph({mode:"visible",children:m.children},_),G=No(G,_,f,null),G.flags|=2,m.return=r,G.return=r,m.sibling=G,r.child=m,Jr(r,s.child,null,f),m=r.child,m.memoizedState=ps(f),m.childLanes=Ih(s,L,f),r.memoizedState=om,r=Tr(null,m));else if(eo(r),fb(G)){if(L=G.nextSibling&&G.nextSibling.dataset,L)var ye=L.dgst;L=ye,m=Error(i(419)),m.stack="",m.digest=L,br({value:m,source:null,stack:null}),r=lm(s,r,f)}else if(Ni||Mr(s,r,f,!1),L=(f&s.childLanes)!==0,Ni||L){if(L=Wt,L!==null&&(m=Oi(L,f),m!==0&&m!==J.retryLane))throw J.retryLane=m,ws(s,m),on(L,s,m),Ch;ub(G)||Oc(),r=lm(s,r,f)}else ub(G)?(r.flags|=192,r.child=s.child,r=null):(s=J.treeContext,Xn=Pr(G.nextSibling),di=r,vn=!0,Zr=null,aa=!1,s!==null&&oh(r,s),r=Xu(r,m.children),r.flags|=4096);return r}return _?(Bs(),G=m.fallback,_=r.mode,J=s.child,ye=J.sibling,m=Ps(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,ye!==null?G=Ps(ye,G):(G=No(G,_,f,null),G.flags|=2),G.return=r,m.return=r,m.sibling=G,r.child=m,Tr(null,m),m=r.child,G=s.child.memoizedState,G===null?G=ps(f):(_=G.cachePool,_!==null?(J=Ri._currentValue,_=_.parent!==J?{parent:J,pool:J}:_):_=Ap(),G={baseLanes:G.baseLanes|f,cachePool:_}),m.memoizedState=G,m.childLanes=Ih(s,L,f),r.memoizedState=om,Tr(s.child,m)):(eo(r),f=s.child,s=f.sibling,f=Ps(f,{mode:"visible",children:m.children}),f.return=r,f.sibling=null,s!==null&&(L=r.deletions,L===null?(r.deletions=[s],r.flags|=16):L.push(s)),r.child=f,r.memoizedState=null,f)}function Xu(s,r){return r=Ph({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Ph(s,r){return s=ai(22,s,null,r),s.lanes=0,s}function lm(s,r,f){return Jr(r,s.child,null,f),s=Xu(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function dv(s,r,f){s.lanes|=r;var m=s.alternate;m!==null&&(m.lanes|=r),ch(s.return,r,f)}function Ul(s,r,f,m,_,w){var L=s.memoizedState;L===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:_,treeForkCount:w}:(L.isBackwards=r,L.rendering=null,L.renderingStartTime=0,L.last=m,L.tail=f,L.tailMode=_,L.treeForkCount=w)}function ks(s,r,f){var m=r.pendingProps,_=m.revealOrder,w=m.tail;m=m.children;var L=yn.current,G=(L&2)!==0;if(G?(L=L&1|2,r.flags|=128):L&=1,pe(yn,L),Ki(s,r,m,f),m=vn?yc:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&dv(s,f,r);else if(s.tag===19)dv(s,f,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(f=r.child,_=null;f!==null;)s=f.alternate,s!==null&&oa(s)===null&&(_=f),f=f.sibling;f=_,f===null?(_=r.child,r.child=null):(_=f.sibling,f.sibling=null),Ul(r,!1,_,f,w,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,_=r.child,r.child=null;_!==null;){if(s=_.alternate,s!==null&&oa(s)===null){r.child=_;break}s=_.sibling,_.sibling=f,f=_,_=s}Ul(r,!0,f,null,w,m);break;case"together":Ul(r,!1,null,null,void 0,m);break;default:r.memoizedState=null}return r.child}function xi(s,r,f){if(s!==null&&(r.dependencies=s.dependencies),Dr|=r.lanes,(f&r.childLanes)===0)if(s!==null){if(Mr(s,r,f,!1),(f&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,f=Ps(s,s.pendingProps),r.child=f,f.return=r;s.sibling!==null;)s=s.sibling,f=f.sibling=Ps(s,s.pendingProps),f.return=r;f.sibling=null}return r.child}function Uh(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Pu(s)))}function Jx(s,r,f){switch(r.tag){case 3:Be(r,r.stateNode.containerInfo),Kr(r,Ri,s.memoizedState.cache),Io();break;case 27:case 5:lt(r);break;case 4:Be(r,r.stateNode.containerInfo);break;case 10:Kr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Dp(r),null;break;case 13:var m=r.memoizedState;if(m!==null)return m.dehydrated!==null?(eo(r),r.flags|=128,null):(f&r.child.childLanes)!==0?hv(s,r,f):(eo(r),s=xi(s,r,f),s!==null?s.sibling:null);eo(r);break;case 19:var _=(s.flags&128)!==0;if(m=(f&r.childLanes)!==0,m||(Mr(s,r,f,!1),m=(f&r.childLanes)!==0),_){if(m)return ks(s,r,f);r.flags|=128}if(_=r.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),pe(yn,yn.current),m)break;return null;case 22:return r.lanes=0,Il(s,r,f,r.pendingProps);case 24:Kr(r,Ri,s.memoizedState.cache)}return xi(s,r,f)}function Oh(s,r,f){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ni=!0;else{if(!Uh(s,f)&&(r.flags&128)===0)return Ni=!1,Jx(s,r,f);Ni=(s.flags&131072)!==0}else Ni=!1,vn&&(r.flags&1048576)!==0&&bg(r,yc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var m=r.pendingProps;if(s=wl(r.elementType),r.type=s,typeof s=="function")ih(s)?(m=Vo(s,m),r.tag=1,r=Lh(null,r,s,m,f)):(r.tag=0,r=Nc(null,r,s,m,f));else{if(s!=null){var _=s.$$typeof;if(_===I){r.tag=11,r=rm(null,r,s,m,f);break e}else if(_===k){r.tag=14,r=Ll(null,r,s,m,f);break e}}throw r=me(s)||s,Error(i(306,r,""))}}return r;case 0:return Nc(s,r,r.type,r.pendingProps,f);case 1:return m=r.type,_=Vo(m,r.pendingProps),Lh(s,r,m,_,f);case 3:e:{if(Be(r,r.stateNode.containerInfo),s===null)throw Error(i(387));m=r.pendingProps;var w=r.memoizedState;_=w.element,Cp(s,r),wc(r,m,null,f);var L=r.memoizedState;if(m=L.cache,Kr(r,Ri,m),m!==w.cache&&uh(r,[Ri],f,!0),Fu(),m=L.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:L.cache},r.updateQueue.baseState=w,r.memoizedState=w,r.flags&256){r=fv(s,r,m,f);break e}else if(m!==_){_=sa(Error(i(424)),r),br(_),r=fv(s,r,m,f);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Xn=Pr(s.firstChild),di=r,vn=!0,Zr=null,aa=!0,f=gh(r,null,m,f),r.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Io(),m===_){r=xi(s,r,f);break e}Ki(s,r,m,f)}r=r.child}return r;case 26:return Pl(s,r),s===null?(f=B3(r.type,null,r.pendingProps,null))?r.memoizedState=f:vn||(f=r.type,s=r.pendingProps,m=vv(ce.current).createElement(f),m[si]=r,m[zi]=s,Ds(m,f,s),H(m),r.stateNode=m):r.memoizedState=B3(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return lt(r),s===null&&vn&&(m=r.stateNode=U3(r.type,r.pendingProps,ce.current),di=r,aa=!0,_=Xn,kc(r.type)?(hb=_,Xn=Pr(m.firstChild)):Xn=_),Ki(s,r,r.pendingProps.children,f),Pl(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&vn&&((_=m=Xn)&&(m=uN(m,r.type,r.pendingProps,aa),m!==null?(r.stateNode=m,di=r,Xn=Pr(m.firstChild),aa=!1,_=!0):_=!1),_||xr(r)),lt(r),_=r.type,w=r.pendingProps,L=s!==null?s.memoizedProps:null,m=w.children,ob(_,w)?m=null:L!==null&&ob(_,L)&&(r.flags|=32),r.memoizedState!==null&&(_=xh(s,r,Dl,null,null,f),xm._currentValue=_),Pl(s,r),Ki(s,r,m,f),r.child;case 6:return s===null&&vn&&((s=f=Xn)&&(f=fN(f,r.pendingProps,aa),f!==null?(r.stateNode=f,di=r,Xn=null,s=!0):s=!1),s||xr(r)),null;case 13:return hv(s,r,f);case 4:return Be(r,r.stateNode.containerInfo),m=r.pendingProps,s===null?r.child=Jr(r,null,m,f):Ki(s,r,m,f),r.child;case 11:return rm(s,r,r.type,r.pendingProps,f);case 7:return Ki(s,r,r.pendingProps,f),r.child;case 8:return Ki(s,r,r.pendingProps.children,f),r.child;case 12:return Ki(s,r,r.pendingProps.children,f),r.child;case 10:return m=r.pendingProps,Kr(r,r.type,m.value),Ki(s,r,m.children,f),r.child;case 9:return _=r.type._context,m=r.pendingProps.children,Uo(r),_=Gt(_),m=m(_),r.flags|=1,Ki(s,r,m,f),r.child;case 14:return Ll(s,r,r.type,r.pendingProps,f);case 15:return Rh(s,r,r.type,r.pendingProps,f);case 19:return ks(s,r,f);case 31:return Dh(s,r,f);case 22:return Il(s,r,f,r.pendingProps);case 24:return Uo(r),m=Gt(Ri),s===null?(_=hh(),_===null&&(_=Wt,w=Mp(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=f),_=w),r.memoizedState={parent:m,cache:_},Bu(r),Kr(r,Ri,_)):((s.lanes&f)!==0&&(Cp(s,r),wc(r,null,null,f),Fu()),_=s.memoizedState,w=r.memoizedState,_.parent!==m?(_={parent:m,cache:m},r.memoizedState=_,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=_),Kr(r,Ri,m)):(m=w.cache,Kr(r,Ri,m),m!==_.cache&&uh(r,[Ri],f,!0))),Ki(s,r,r.pendingProps.children,f),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Er(s){s.flags|=4}function qu(s,r,f,m,_){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(ui())s.flags|=8192;else throw wr=dh,Ou}else s.flags&=-16777217}function cm(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!G3(r))if(ui())s.flags|=8192;else throw wr=dh,Ou}function no(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?kt():536870912,s.lanes|=r,Jn|=r)}function Ar(s,r){if(!vn)switch(s.tailMode){case"hidden":r=s.tail;for(var f=null;r!==null;)r.alternate!==null&&(f=r),r=r.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Vn(s){var r=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(r)for(var _=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=m,s.childLanes=f,r}function Yu(s,r,f){var m=r.pendingProps;switch(rh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(r),null;case 1:return Vn(r),null;case 3:return f=r.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),r.memoizedState.cache!==m&&(r.flags|=2048),Sr(Ri),nt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(bc(r)?Er(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lh())),Vn(r),null;case 26:var _=r.type,w=r.memoizedState;return s===null?(Er(r),w!==null?(Vn(r),cm(r,w)):(Vn(r),qu(r,_,null,m,f))):w?w!==s.memoizedState?(Er(r),Vn(r),cm(r,w)):(Vn(r),r.flags&=-16777217):(s=s.memoizedProps,s!==m&&Er(r),Vn(r),qu(r,_,s,m,f)),null;case 27:if(qt(r),f=ce.current,_=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==m&&Er(r);else{if(!m){if(r.stateNode===null)throw Error(i(166));return Vn(r),null}s=De.current,bc(r)?_g(r):(s=U3(_,m,f),r.stateNode=s,Er(r))}return Vn(r),null;case 5:if(qt(r),_=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==m&&Er(r);else{if(!m){if(r.stateNode===null)throw Error(i(166));return Vn(r),null}if(w=De.current,bc(r))_g(r);else{var L=vv(ce.current);switch(w){case 1:w=L.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:w=L.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":w=L.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":w=L.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":w=L.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?L.createElement("select",{is:m.is}):L.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?L.createElement(_,{is:m.is}):L.createElement(_)}}w[si]=r,w[zi]=m;e:for(L=r.child;L!==null;){if(L.tag===5||L.tag===6)w.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===r)break e;for(;L.sibling===null;){if(L.return===null||L.return===r)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}r.stateNode=w;e:switch(Ds(w,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Er(r)}}return Vn(r),qu(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,f),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==m&&Er(r);else{if(typeof m!="string"&&r.stateNode===null)throw Error(i(166));if(s=ce.current,bc(r)){if(s=r.stateNode,f=r.memoizedProps,m=null,_=di,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}s[si]=r,s=!!(s.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||w3(s.nodeValue,f)),s||xr(r,!0)}else s=vv(s).createTextNode(m),s[si]=r,r.stateNode=s}return Vn(r),null;case 31:if(f=r.memoizedState,s===null||s.memoizedState!==null){if(m=bc(r),f!==null){if(s===null){if(!m)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[si]=r}else Io(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vn(r),s=!1}else f=lh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return r.flags&256?(vi(r),r):(vi(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Vn(r),null;case 13:if(m=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=bc(r),m!==null&&m.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=r.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[si]=r}else Io(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vn(r),_=!1}else _=lh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return r.flags&256?(vi(r),r):(vi(r),null)}return vi(r),(r.flags&128)!==0?(r.lanes=f,r):(f=m!==null,s=s!==null&&s.memoizedState!==null,f&&(m=r.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==_&&(m.flags|=2048)),f!==s&&f&&(r.child.flags|=8192),no(r,r.updateQueue),Vn(r),null);case 4:return nt(),s===null&&nb(r.stateNode.containerInfo),Vn(r),null;case 10:return Sr(r.type),Vn(r),null;case 19:if(re(yn),m=r.memoizedState,m===null)return Vn(r),null;if(_=(r.flags&128)!==0,w=m.rendering,w===null)if(_)Ar(m,!1);else{if(li!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(w=oa(s),w!==null){for(r.flags|=128,Ar(m,!1),s=w.updateQueue,r.updateQueue=s,no(r,s),r.subtreeFlags=0,s=f,f=r.child;f!==null;)mc(f,s),f=f.sibling;return pe(yn,yn.current&1|2),vn&&vr(r,m.treeForkCount),r.child}s=s.sibling}m.tail!==null&&O()>bi&&(r.flags|=128,_=!0,Ar(m,!1),r.lanes=4194304)}else{if(!_)if(s=oa(w),s!==null){if(r.flags|=128,_=!0,s=s.updateQueue,r.updateQueue=s,no(r,s),Ar(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!vn)return Vn(r),null}else 2*O()-m.renderingStartTime>bi&&f!==536870912&&(r.flags|=128,_=!0,Ar(m,!1),r.lanes=4194304);m.isBackwards?(w.sibling=r.child,r.child=w):(s=m.last,s!==null?s.sibling=w:r.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=O(),s.sibling=null,f=yn.current,pe(yn,_?f&1|2:f&1),vn&&vr(r,m.treeForkCount),s):(Vn(r),null);case 22:case 23:return vi(r),ku(),m=r.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(r.flags|=8192):m&&(r.flags|=8192),m?(f&536870912)!==0&&(r.flags&128)===0&&(Vn(r),r.subtreeFlags&6&&(r.flags|=8192)):Vn(r),f=r.updateQueue,f!==null&&no(r,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),m=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==f&&(r.flags|=2048),s!==null&&re(Oo),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),Sr(Ri),Vn(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function La(s,r){switch(rh(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Sr(Ri),nt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return qt(r),null;case 31:if(r.memoizedState!==null){if(vi(r),r.alternate===null)throw Error(i(340));Io()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(vi(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Io()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return re(yn),null;case 4:return nt(),null;case 10:return Sr(r.type),null;case 22:case 23:return vi(r),ku(),s!==null&&re(Oo),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Sr(Ri),null;case 25:return null;default:return null}}function la(s,r){switch(rh(r),r.tag){case 3:Sr(Ri),nt();break;case 26:case 27:case 5:qt(r);break;case 4:nt();break;case 31:r.memoizedState!==null&&vi(r);break;case 13:vi(r);break;case 19:re(yn);break;case 10:Sr(r.type);break;case 22:case 23:vi(r),ku(),s!==null&&re(Oo);break;case 24:Sr(Ri)}}function Ia(s,r){try{var f=r.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var _=m.next;f=_;do{if((f.tag&s)===s){m=void 0;var w=f.create,L=f.inst;m=w(),L.destroy=m}f=f.next}while(f!==_)}}catch(G){An(r,r.return,G)}}function as(s,r,f){try{var m=r.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var w=_.next;m=w;do{if((m.tag&s)===s){var L=m.inst,G=L.destroy;if(G!==void 0){L.destroy=void 0,_=r;var J=f,ye=G;try{ye()}catch(Le){An(_,J,Le)}}}m=m.next}while(m!==w)}}catch(Le){An(r,r.return,Le)}}function er(s){var r=s.updateQueue;if(r!==null){var f=s.stateNode;try{Eg(r,f)}catch(m){An(s,s.return,m)}}}function Qi(s,r,f){f.props=Vo(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(m){An(s,r,m)}}function io(s,r){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof f=="function"?s.refCleanup=f(m):f.current=m}}catch(_){An(s,r,_)}}function rs(s,r){var f=s.ref,m=s.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(_){An(s,r,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(_){An(s,r,_)}else f.current=null}function Zu(s){var r=s.type,f=s.memoizedProps,m=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(_){An(s,s.return,_)}}function Vi(s,r,f){try{var m=s.stateNode;sN(m,s.type,f,r),m[zi]=r}catch(_){An(s,s.return,_)}}function ni(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&kc(s.type)||s.tag===4}function mn(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ni(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&kc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Cr(s,r,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,r?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,r):(r=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,r.appendChild(s),f=f._reactRootContainer,f!=null||r.onclick!==null||(r.onclick=Wr));else if(m!==4&&(m===27&&kc(s.type)&&(f=s.stateNode,r=null),s=s.child,s!==null))for(Cr(s,r,f),s=s.sibling;s!==null;)Cr(s,r,f),s=s.sibling}function As(s,r,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,r?f.insertBefore(s,r):f.appendChild(s);else if(m!==4&&(m===27&&kc(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(As(s,r,f),s=s.sibling;s!==null;)As(s,r,f),s=s.sibling}function zh(s){var r=s.stateNode,f=s.memoizedProps;try{for(var m=s.type,_=r.attributes;_.length;)r.removeAttributeNode(_[0]);Ds(r,m,f),r[si]=s,r[zi]=f}catch(w){An(s,s.return,w)}}var Pa=!1,qn=!1,tr=!1,pv=typeof WeakSet=="function"?WeakSet:Set,Ji=null;function $x(s,r){if(s=s.containerInfo,ab=wv,s=gg(s),yp(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var _=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var L=0,G=-1,J=-1,ye=0,Le=0,ze=s,_e=null;t:for(;;){for(var Ne;ze!==f||_!==0&&ze.nodeType!==3||(G=L+_),ze!==w||m!==0&&ze.nodeType!==3||(J=L+m),ze.nodeType===3&&(L+=ze.nodeValue.length),(Ne=ze.firstChild)!==null;)_e=ze,ze=Ne;for(;;){if(ze===s)break t;if(_e===f&&++ye===_&&(G=L),_e===w&&++Le===m&&(J=L),(Ne=ze.nextSibling)!==null)break;ze=_e,_e=ze.parentNode}ze=Ne}f=G===-1||J===-1?null:{start:G,end:J}}else f=null}f=f||{start:0,end:0}}else f=null;for(rb={focusedElem:s,selectionRange:f},wv=!1,Ji=r;Ji!==null;)if(r=Ji,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Ji=s;else for(;Ji!==null;){switch(r=Ji,w=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)_=s[f],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,f=r,_=w.memoizedProps,w=w.memoizedState,m=f.stateNode;try{var Et=Vo(f.type,_);s=m.getSnapshotBeforeUpdate(Et,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(Ht){An(f,f.return,Ht)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,f=s.nodeType,f===9)cb(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":cb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ji=s;break}Ji=r.return}}function ii(s,r,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:za(s,f),m&4&&Ia(5,f);break;case 1:if(za(s,f),m&4)if(s=f.stateNode,r===null)try{s.componentDidMount()}catch(L){An(f,f.return,L)}else{var _=Vo(f.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(_,r,s.__reactInternalSnapshotBeforeUpdate)}catch(L){An(f,f.return,L)}}m&64&&er(f),m&512&&io(f,f.return);break;case 3:if(za(s,f),m&64&&(s=f.updateQueue,s!==null)){if(r=null,f.child!==null)switch(f.child.tag){case 27:case 5:r=f.child.stateNode;break;case 1:r=f.child.stateNode}try{Eg(s,r)}catch(L){An(f,f.return,L)}}break;case 27:r===null&&m&4&&zh(f);case 26:case 5:za(s,f),r===null&&m&4&&Zu(f),m&512&&io(f,f.return);break;case 12:za(s,f);break;case 31:za(s,f),m&4&&Ho(s,f);break;case 13:za(s,f),m&4&&Dc(s,f),m&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=g.bind(null,f),hN(s,f))));break;case 22:if(m=f.memoizedState!==null||Pa,!m){r=r!==null&&r.memoizedState!==null||qn,_=Pa;var w=qn;Pa=m,(qn=r)&&!w?Cs(s,f,(f.subtreeFlags&8772)!==0):za(s,f),Pa=_,qn=w}break;case 30:break;default:za(s,f)}}function Ku(s){var r=s.alternate;r!==null&&(s.alternate=null,Ku(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Hr(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Pn=null,ms=!1;function Ua(s,r,f){for(f=f.child;f!==null;)Bh(s,r,f),f=f.sibling}function Bh(s,r,f){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(je,f)}catch{}switch(f.tag){case 26:qn||rs(f,r),Ua(s,r,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:qn||rs(f,r);var m=Pn,_=ms;kc(f.type)&&(Pn=f.stateNode,ms=!1),Ua(s,r,f),gm(f.stateNode),Pn=m,ms=_;break;case 5:qn||rs(f,r);case 6:if(m=Pn,_=ms,Pn=null,Ua(s,r,f),Pn=m,ms=_,Pn!==null)if(ms)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(f.stateNode)}catch(w){An(f,r,w)}else try{Pn.removeChild(f.stateNode)}catch(w){An(f,r,w)}break;case 18:Pn!==null&&(ms?(s=Pn,N3(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),Xh(s)):N3(Pn,f.stateNode));break;case 4:m=Pn,_=ms,Pn=f.stateNode.containerInfo,ms=!0,Ua(s,r,f),Pn=m,ms=_;break;case 0:case 11:case 14:case 15:as(2,f,r),qn||as(4,f,r),Ua(s,r,f);break;case 1:qn||(rs(f,r),m=f.stateNode,typeof m.componentWillUnmount=="function"&&Qi(f,r,m)),Ua(s,r,f);break;case 21:Ua(s,r,f);break;case 22:qn=(m=qn)||f.memoizedState!==null,Ua(s,r,f),qn=m;break;default:Ua(s,r,f)}}function Ho(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Xh(s)}catch(f){An(r,r.return,f)}}}function Dc(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Xh(s)}catch(f){An(r,r.return,f)}}function um(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new pv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new pv),r;default:throw Error(i(435,s.tag))}}function so(s,r){var f=um(s);r.forEach(function(m){if(!f.has(m)){f.add(m);var _=b.bind(null,s,m);m.then(_,_)}})}function Hi(s,r){var f=r.deletions;if(f!==null)for(var m=0;m<f.length;m++){var _=f[m],w=s,L=r,G=L;e:for(;G!==null;){switch(G.tag){case 27:if(kc(G.type)){Pn=G.stateNode,ms=!1;break e}break;case 5:Pn=G.stateNode,ms=!1;break e;case 3:case 4:Pn=G.stateNode.containerInfo,ms=!0;break e}G=G.return}if(Pn===null)throw Error(i(160));Bh(w,L,_),Pn=null,ms=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Go(r,s),r=r.sibling}var Oa=null;function Go(s,r){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Hi(r,s),Gi(s),m&4&&(as(3,s,s.return),Ia(3,s),as(5,s,s.return));break;case 1:Hi(r,s),Gi(s),m&512&&(qn||f===null||rs(f,f.return)),m&64&&Pa&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var _=Oa;if(Hi(r,s),Gi(s),m&512&&(qn||f===null||rs(f,f.return)),m&4){var w=f!==null?f.memoizedState:null;if(m=s.memoizedState,f===null)if(m===null)if(s.stateNode===null){e:{m=s.type,f=s.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":w=_.getElementsByTagName("title")[0],(!w||w[Qa]||w[si]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(m),_.head.insertBefore(w,_.querySelector("head > title"))),Ds(w,m,f),w[si]=s,H(w),m=w;break e;case"link":var L=V3("link","href",_).get(m+(f.href||""));if(L){for(var G=0;G<L.length;G++)if(w=L[G],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){L.splice(G,1);break t}}w=_.createElement(m),Ds(w,m,f),_.head.appendChild(w);break;case"meta":if(L=V3("meta","content",_).get(m+(f.content||""))){for(G=0;G<L.length;G++)if(w=L[G],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){L.splice(G,1);break t}}w=_.createElement(m),Ds(w,m,f),_.head.appendChild(w);break;default:throw Error(i(468,m))}w[si]=s,H(w),m=w}s.stateNode=m}else H3(_,s.type,s.stateNode);else s.stateNode=k3(_,m,s.memoizedProps);else w!==m?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,m===null?H3(_,s.type,s.stateNode):k3(_,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Vi(s,s.memoizedProps,f.memoizedProps)}break;case 27:Hi(r,s),Gi(s),m&512&&(qn||f===null||rs(f,f.return)),f!==null&&m&4&&Vi(s,s.memoizedProps,f.memoizedProps);break;case 5:if(Hi(r,s),Gi(s),m&512&&(qn||f===null||rs(f,f.return)),s.flags&32){_=s.stateNode;try{Ci(_,"")}catch(Et){An(s,s.return,Et)}}m&4&&s.stateNode!=null&&(_=s.memoizedProps,Vi(s,_,f!==null?f.memoizedProps:_)),m&1024&&(tr=!0);break;case 6:if(Hi(r,s),Gi(s),m&4){if(s.stateNode===null)throw Error(i(162));m=s.memoizedProps,f=s.stateNode;try{f.nodeValue=m}catch(Et){An(s,s.return,Et)}}break;case 3:if(bv=null,_=Oa,Oa=yv(r.containerInfo),Hi(r,s),Oa=_,Gi(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Xh(r.containerInfo)}catch(Et){An(s,s.return,Et)}tr&&(tr=!1,Fh(s));break;case 4:m=Oa,Oa=yv(s.stateNode.containerInfo),Hi(r,s),Gi(s),Oa=m;break;case 12:Hi(r,s),Gi(s);break;case 31:Hi(r,s),Gi(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,so(s,m)));break;case 13:Hi(r,s),Gi(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Lc=O()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,so(s,m)));break;case 22:_=s.memoizedState!==null;var J=f!==null&&f.memoizedState!==null,ye=Pa,Le=qn;if(Pa=ye||_,qn=Le||J,Hi(r,s),qn=Le,Pa=ye,Gi(s),m&8192)e:for(r=s.stateNode,r._visibility=_?r._visibility&-2:r._visibility|1,_&&(f===null||J||Pa||qn||Rr(s)),f=null,r=s;;){if(r.tag===5||r.tag===26){if(f===null){J=f=r;try{if(w=J.stateNode,_)L=w.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{G=J.stateNode;var ze=J.memoizedProps.style,_e=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;G.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Et){An(J,J.return,Et)}}}else if(r.tag===6){if(f===null){J=r;try{J.stateNode.nodeValue=_?"":J.memoizedProps}catch(Et){An(J,J.return,Et)}}}else if(r.tag===18){if(f===null){J=r;try{var Ne=J.stateNode;_?D3(Ne,!0):D3(J.stateNode,!1)}catch(Et){An(J,J.return,Et)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;f===r&&(f=null),r=r.return}f===r&&(f=null),r.sibling.return=r.return,r=r.sibling}m&4&&(m=s.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,so(s,f))));break;case 19:Hi(r,s),Gi(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,so(s,m)));break;case 30:break;case 21:break;default:Hi(r,s),Gi(s)}}function Gi(s){var r=s.flags;if(r&2){try{for(var f,m=s.return;m!==null;){if(ni(m)){f=m;break}m=m.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var _=f.stateNode,w=mn(s);As(s,w,_);break;case 5:var L=f.stateNode;f.flags&32&&(Ci(L,""),f.flags&=-33);var G=mn(s);As(s,G,L);break;case 3:case 4:var J=f.stateNode.containerInfo,ye=mn(s);Cr(s,ye,J);break;default:throw Error(i(161))}}catch(Le){An(s,s.return,Le)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Fh(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Fh(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function za(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ii(s,r.alternate,r),r=r.sibling}function Rr(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:as(4,r,r.return),Rr(r);break;case 1:rs(r,r.return);var f=r.stateNode;typeof f.componentWillUnmount=="function"&&Qi(r,r.return,f),Rr(r);break;case 27:gm(r.stateNode);case 26:case 5:rs(r,r.return),Rr(r);break;case 22:r.memoizedState===null&&Rr(r);break;case 30:Rr(r);break;default:Rr(r)}s=s.sibling}}function Cs(s,r,f){for(f=f&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var m=r.alternate,_=s,w=r,L=w.flags;switch(w.tag){case 0:case 11:case 15:Cs(_,w,f),Ia(4,w);break;case 1:if(Cs(_,w,f),m=w,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ye){An(m,m.return,ye)}if(m=w,_=m.updateQueue,_!==null){var G=m.stateNode;try{var J=_.shared.hiddenCallbacks;if(J!==null)for(_.shared.hiddenCallbacks=null,_=0;_<J.length;_++)Tc(J[_],G)}catch(ye){An(m,m.return,ye)}}f&&L&64&&er(w),io(w,w.return);break;case 27:zh(w);case 26:case 5:Cs(_,w,f),f&&m===null&&L&4&&Zu(w),io(w,w.return);break;case 12:Cs(_,w,f);break;case 31:Cs(_,w,f),f&&L&4&&Ho(_,w);break;case 13:Cs(_,w,f),f&&L&4&&Dc(_,w);break;case 22:w.memoizedState===null&&Cs(_,w,f),io(w,w.return);break;case 30:break;default:Cs(_,w,f)}r=r.sibling}}function jo(s,r){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&Sl(f))}function Ol(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Sl(s))}function os(s,r,f,m){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fm(s,r,f,m),r=r.sibling}function fm(s,r,f,m){var _=r.flags;switch(r.tag){case 0:case 11:case 15:os(s,r,f,m),_&2048&&Ia(9,r);break;case 1:os(s,r,f,m);break;case 3:os(s,r,f,m),_&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Sl(s)));break;case 12:if(_&2048){os(s,r,f,m),s=r.stateNode;try{var w=r.memoizedProps,L=w.id,G=w.onPostCommit;typeof G=="function"&&G(L,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(J){An(r,r.return,J)}}else os(s,r,f,m);break;case 31:os(s,r,f,m);break;case 13:os(s,r,f,m);break;case 23:break;case 22:w=r.stateNode,L=r.alternate,r.memoizedState!==null?w._visibility&2?os(s,r,f,m):Nr(s,r):w._visibility&2?os(s,r,f,m):(w._visibility|=2,ls(s,r,f,m,(r.subtreeFlags&10256)!==0||!1)),_&2048&&jo(L,r);break;case 24:os(s,r,f,m),_&2048&&Ol(r.alternate,r);break;default:os(s,r,f,m)}}function ls(s,r,f,m,_){for(_=_&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var w=s,L=r,G=f,J=m,ye=L.flags;switch(L.tag){case 0:case 11:case 15:ls(w,L,G,J,_),Ia(8,L);break;case 23:break;case 22:var Le=L.stateNode;L.memoizedState!==null?Le._visibility&2?ls(w,L,G,J,_):Nr(w,L):(Le._visibility|=2,ls(w,L,G,J,_)),_&&ye&2048&&jo(L.alternate,L);break;case 24:ls(w,L,G,J,_),_&&ye&2048&&Ol(L.alternate,L);break;default:ls(w,L,G,J,_)}r=r.sibling}}function Nr(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var f=s,m=r,_=m.flags;switch(m.tag){case 22:Nr(f,m),_&2048&&jo(m.alternate,m);break;case 24:Nr(f,m),_&2048&&Ol(m.alternate,m);break;default:Nr(f,m)}r=r.sibling}}var zl=8192;function ca(s,r,f){if(s.subtreeFlags&zl)for(s=s.child;s!==null;)kh(s,r,f),s=s.sibling}function kh(s,r,f){switch(s.tag){case 26:ca(s,r,f),s.flags&zl&&s.memoizedState!==null&&wN(f,Oa,s.memoizedState,s.memoizedProps);break;case 5:ca(s,r,f);break;case 3:case 4:var m=Oa;Oa=yv(s.stateNode.containerInfo),ca(s,r,f),Oa=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=zl,zl=16777216,ca(s,r,f),zl=m):ca(s,r,f));break;default:ca(s,r,f)}}function Bl(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Wo(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var f=0;f<r.length;f++){var m=r[f];Ji=m,pi(m,s)}Bl(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vs(s),s=s.sibling}function Vs(s){switch(s.tag){case 0:case 11:case 15:Wo(s),s.flags&2048&&as(9,s,s.return);break;case 3:Wo(s);break;case 12:Wo(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Hs(s)):Wo(s);break;default:Wo(s)}}function Hs(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var f=0;f<r.length;f++){var m=r[f];Ji=m,pi(m,s)}Bl(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:as(8,r,r.return),Hs(r);break;case 22:f=r.stateNode,f._visibility&2&&(f._visibility&=-3,Hs(r));break;default:Hs(r)}s=s.sibling}}function pi(s,r){for(;Ji!==null;){var f=Ji;switch(f.tag){case 0:case 11:case 15:as(8,f,r);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Sl(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Ji=m;else e:for(f=s;Ji!==null;){m=Ji;var _=m.sibling,w=m.return;if(Ku(m),m===f){Ji=null;break e}if(_!==null){_.return=w,Ji=_;break e}Ji=w}}}var ao={getCacheForType:function(s){var r=Gt(Ri),f=r.data.get(s);return f===void 0&&(f=s(),r.data.set(s,f)),f},cacheSignal:function(){return Gt(Ri).controller.signal}},$t=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Wt=null,rn=null,nn=0,bn=0,gs=null,Ba=!1,nr=!1,hm=!1,ua=0,li=0,Dr=0,Xo=0,Qu=0,Rs=0,Jn=0,Fl=null,mi=null,gi=!1,Lc=0,dm=0,bi=1/0,ci=null,_i=null,Un=0,fa=null,Ic=null,Fa=0,Pc=0,Uc=null,Ju=null,qo=0,kl=null;function ha(){return(Nt&2)!==0&&nn!==0?nn&-nn:q.T!==null?we():So()}function hn(){if(Rs===0)if((nn&536870912)===0||vn){var s=Ke;Ke<<=1,(Ke&3932160)===0&&(Ke=262144),Rs=s}else Rs=536870912;return s=zs.current,s!==null&&(s.flags|=32),Rs}function on(s,r,f){(s===Wt&&(bn===2||bn===9)||s.cancelPendingCommit!==null)&&(Zo(s,0),Di(s,nn,Rs,!1)),xn(s,f),((Nt&2)===0||s!==Wt)&&(s===Wt&&((Nt&2)===0&&(Xo|=f),li===4&&Di(s,nn,Rs,!1)),qe(s))}function dn(s,r,f){if((Nt&6)!==0)throw Error(i(327));var m=!f&&(r&127)===0&&(r&s.expiredLanes)===0||Ve(s,r),_=m?$u(s,r):Ns(s,r,!0),w=m;do{if(_===0){nr&&!m&&Di(s,r,0,!1);break}else{if(f=s.current.alternate,w&&!On(f)){_=Ns(s,r,!1),w=!1;continue}if(_===2){if(w=r,s.errorRecoveryDisabledLanes&w)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){r=L;e:{var G=s;_=Fl;var J=G.current.memoizedState.isDehydrated;if(J&&(Zo(G,L).flags|=256),L=Ns(G,L,!1),L!==2){if(hm&&!J){G.errorRecoveryDisabledLanes|=w,Xo|=w,_=4;break e}w=mi,mi=_,w!==null&&(mi===null?mi=w:mi.push.apply(mi,w))}_=L}if(w=!1,_!==2)continue}}if(_===1){Zo(s,0),Di(s,r,0,!0);break}e:{switch(m=s,w=_,w){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Di(m,r,Rs,!Ba);break e;case 2:mi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(_=Lc+300-O(),10<_)){if(Di(m,r,Rs,!Ba),ge(m,0,!0)!==0)break e;Fa=r,m.timeoutHandle=C3(gn.bind(null,m,f,mi,ci,gi,r,Rs,Xo,Jn,Ba,w,"Throttled",-0,0),_);break e}gn(m,f,mi,ci,gi,r,Rs,Xo,Jn,Ba,w,null,-0,0)}}break}while(!0);qe(s)}function gn(s,r,f,m,_,w,L,G,J,ye,Le,ze,_e,Ne){if(s.timeoutHandle=-1,ze=r.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},kh(r,w,ze);var Et=(w&62914560)===w?Lc-O():(w&4194048)===w?dm-O():0;if(Et=TN(ze,Et),Et!==null){Fa=w,s.cancelPendingCommit=Et(oo.bind(null,s,r,w,f,m,_,L,G,J,Le,ze,null,_e,Ne)),Di(s,w,L,!ye);return}}oo(s,r,w,f,m,_,L,G,J)}function On(s){for(var r=s;;){var f=r.tag;if((f===0||f===11||f===15)&&r.flags&16384&&(f=r.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var _=f[m],w=_.getSnapshot;_=_.value;try{if(!Ms(w(),_))return!1}catch{return!1}}if(f=r.child,r.subtreeFlags&16384&&f!==null)f.return=r,r=f;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Di(s,r,f,m){r&=~Qu,r&=~Xo,s.suspendedLanes|=r,s.pingedLanes&=~r,m&&(s.warmLanes|=r),m=s.expirationTimes;for(var _=r;0<_;){var w=31-ft(_),L=1<<w;m[w]=-1,_&=~L}f!==0&&Js(s,f,r)}function ir(){return(Nt&6)===0?(gt(0),!1):!0}function Yo(){if(rn!==null){if(bn===0)var s=rn.return;else s=rn,_r=Po=null,Op(s),Al=null,Cl=0,s=rn;for(;s!==null;)la(s.alternate,s),s=s.return;rn=null}}function Zo(s,r){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,oN(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),Fa=0,Yo(),Wt=s,rn=f=Ps(s.current,null),nn=r,bn=0,gs=null,Ba=!1,nr=Ve(s,r),hm=!1,Jn=Rs=Qu=Xo=Dr=li=0,mi=Fl=null,gi=!1,(r&8)!==0&&(r|=r&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=r;0<m;){var _=31-ft(m),w=1<<_;r|=s[_],m&=~w}return ua=r,Lu(),f}function Lr(s,r){Jt=null,q.H=Rc,r===Ml||r===an?(r=Tl(),bn=3):r===Ou?(r=Tl(),bn=4):bn=r===Ch?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gs=r,rn===null&&(li=1,Ah(s,sa(r,s.current)))}function ui(){var s=zs.current;return s===null?!0:(nn&4194048)===nn?Es===null:(nn&62914560)===nn||(nn&536870912)!==0?s===Es:!1}function ro(){var s=q.H;return q.H=Rc,s===null?Rc:s}function Ko(){var s=q.A;return q.A=ao,s}function Oc(){li=4,Ba||(nn&4194048)!==nn&&zs.current!==null||(nr=!0),(Dr&134217727)===0&&(Xo&134217727)===0||Wt===null||Di(Wt,nn,Rs,!1)}function Ns(s,r,f){var m=Nt;Nt|=2;var _=ro(),w=Ko();(Wt!==s||nn!==r)&&(ci=null,Zo(s,r)),r=!1;var L=li;e:do try{if(bn!==0&&rn!==null){var G=rn,J=gs;switch(bn){case 8:Yo(),L=6;break e;case 3:case 2:case 9:case 6:zs.current===null&&(r=!0);var ye=bn;if(bn=0,gs=null,Vl(s,G,J,ye),f&&nr){L=0;break e}break;default:ye=bn,bn=0,gs=null,Vl(s,G,J,ye)}}zc(),L=li;break}catch(Le){Lr(s,Le)}while(!0);return r&&s.shellSuspendCounter++,_r=Po=null,Nt=m,q.H=_,q.A=w,rn===null&&(Wt=null,nn=0,Lu()),L}function zc(){for(;rn!==null;)Vh(rn)}function $u(s,r){var f=Nt;Nt|=2;var m=ro(),_=Ko();Wt!==s||nn!==r?(ci=null,bi=O()+500,Zo(s,r)):nr=Ve(s,r);e:do try{if(bn!==0&&rn!==null){r=rn;var w=gs;t:switch(bn){case 1:bn=0,gs=null,Vl(s,r,w,1);break;case 2:case 9:if(Os(w)){bn=0,gs=null,ef(r);break}r=function(){bn!==2&&bn!==9||Wt!==s||(bn=7),qe(s)},w.then(r,r);break e;case 3:bn=7;break e;case 4:bn=5;break e;case 7:Os(w)?(bn=0,gs=null,ef(r)):(bn=0,gs=null,Vl(s,r,w,7));break;case 5:var L=null;switch(rn.tag){case 26:L=rn.memoizedState;case 5:case 27:var G=rn;if(L?G3(L):G.stateNode.complete){bn=0,gs=null;var J=G.sibling;if(J!==null)rn=J;else{var ye=G.return;ye!==null?(rn=ye,Qo(ye)):rn=null}break t}}bn=0,gs=null,Vl(s,r,w,5);break;case 6:bn=0,gs=null,Vl(s,r,w,6);break;case 8:Yo(),li=6;break e;default:throw Error(i(462))}}Gs();break}catch(Le){Lr(s,Le)}while(!0);return _r=Po=null,q.H=m,q.A=_,Nt=f,rn!==null?0:(Wt=null,nn=0,Lu(),li)}function Gs(){for(;rn!==null&&!Fe();)Vh(rn)}function Vh(s){var r=Oh(s.alternate,s,ua);s.memoizedProps=s.pendingProps,r===null?Qo(s):rn=r}function ef(s){var r=s,f=r.alternate;switch(r.tag){case 15:case 0:r=Wu(f,r,r.pendingProps,r.type,void 0,nn);break;case 11:r=Wu(f,r,r.pendingProps,r.type.render,r.ref,nn);break;case 5:Op(r);default:la(f,r),r=rn=mc(r,ua),r=Oh(f,r,ua)}s.memoizedProps=s.pendingProps,r===null?Qo(s):rn=r}function Vl(s,r,f,m){_r=Po=null,Op(r),Al=null,Cl=0;var _=r.return;try{if(ki(s,_,r,f,nn)){li=1,Ah(s,sa(f,s.current)),rn=null;return}}catch(w){if(_!==null)throw rn=_,w;li=1,Ah(s,sa(f,s.current)),rn=null;return}r.flags&32768?(vn||m===1?s=!0:nr||(nn&536870912)!==0?s=!1:(Ba=s=!0,(m===2||m===9||m===3||m===6)&&(m=zs.current,m!==null&&m.tag===13&&(m.flags|=16384))),tf(r,s)):Qo(r)}function Qo(s){var r=s;do{if((r.flags&32768)!==0){tf(r,Ba);return}s=r.return;var f=Yu(r.alternate,r,ua);if(f!==null){rn=f;return}if(r=r.sibling,r!==null){rn=r;return}rn=r=s}while(r!==null);li===0&&(li=5)}function tf(s,r){do{var f=La(s.alternate,s);if(f!==null){f.flags&=32767,rn=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!r&&(s=s.sibling,s!==null)){rn=s;return}rn=s=f}while(s!==null);li=6,rn=null}function oo(s,r,f,m,_,w,L,G,J){s.cancelPendingCommit=null;do Bc();while(Un!==0);if((Nt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(w=r.lanes|r.childLanes,w|=Yi,Gn(s,f,w,L,G,J),s===Wt&&(rn=Wt=null,nn=0),Ic=r,fa=s,Fa=f,Pc=w,Uc=_,Ju=m,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,E(Te,function(){return Hh(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||m){m=q.T,q.T=null,_=K.p,K.p=2,L=Nt,Nt|=4;try{$x(s,r,f)}finally{Nt=L,K.p=_,q.T=m}}Un=1,Li(),lo(),Hl()}}function Li(){if(Un===1){Un=0;var s=fa,r=Ic,f=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||f){f=q.T,q.T=null;var m=K.p;K.p=2;var _=Nt;Nt|=4;try{Go(r,s);var w=rb,L=gg(s.containerInfo),G=w.focusedElem,J=w.selectionRange;if(L!==G&&G&&G.ownerDocument&&Wn(G.ownerDocument.documentElement,G)){if(J!==null&&yp(G)){var ye=J.start,Le=J.end;if(Le===void 0&&(Le=ye),"selectionStart"in G)G.selectionStart=ye,G.selectionEnd=Math.min(Le,G.value.length);else{var ze=G.ownerDocument||document,_e=ze&&ze.defaultView||window;if(_e.getSelection){var Ne=_e.getSelection(),Et=G.textContent.length,Ht=Math.min(J.start,Et),Zn=J.end===void 0?Ht:Math.min(J.end,Et);!Ne.extend&&Ht>Zn&&(L=Zn,Zn=Ht,Ht=L);var le=hc(G,Ht),ne=hc(G,Zn);if(le&&ne&&(Ne.rangeCount!==1||Ne.anchorNode!==le.node||Ne.anchorOffset!==le.offset||Ne.focusNode!==ne.node||Ne.focusOffset!==ne.offset)){var ve=ze.createRange();ve.setStart(le.node,le.offset),Ne.removeAllRanges(),Ht>Zn?(Ne.addRange(ve),Ne.extend(ne.node,ne.offset)):(ve.setEnd(ne.node,ne.offset),Ne.addRange(ve))}}}}for(ze=[],Ne=G;Ne=Ne.parentNode;)Ne.nodeType===1&&ze.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<ze.length;G++){var Oe=ze[G];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}wv=!!ab,rb=ab=null}finally{Nt=_,K.p=m,q.T=f}}s.current=r,Un=2}}function lo(){if(Un===2){Un=0;var s=fa,r=Ic,f=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||f){f=q.T,q.T=null;var m=K.p;K.p=2;var _=Nt;Nt|=4;try{ii(s,r.alternate,r)}finally{Nt=_,K.p=m,q.T=f}}Un=3}}function Hl(){if(Un===4||Un===3){Un=0,W();var s=fa,r=Ic,f=Fa,m=Ju;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Un=5:(Un=0,Ic=fa=null,Ir(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(_i=null),is(f),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(je,r,void 0,(r.current.flags&128)===128)}catch{}if(m!==null){r=q.T,_=K.p,K.p=2,q.T=null;try{for(var w=s.onRecoverableError,L=0;L<m.length;L++){var G=m[L];w(G.value,{componentStack:G.stack})}}finally{q.T=r,K.p=_}}(Fa&3)!==0&&Bc(),qe(s),_=s.pendingLanes,(f&261930)!==0&&(_&42)!==0?s===kl?qo++:(qo=0,kl=s):qo=0,gt(0)}}function Ir(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Sl(r)))}function Bc(){return Li(),lo(),Hl(),Hh()}function Hh(){if(Un!==5)return!1;var s=fa,r=Pc;Pc=0;var f=is(Fa),m=q.T,_=K.p;try{K.p=32>f?32:f,q.T=null,f=Uc,Uc=null;var w=fa,L=Fa;if(Un=0,Ic=fa=null,Fa=0,(Nt&6)!==0)throw Error(i(331));var G=Nt;if(Nt|=4,Vs(w.current),fm(w,w.current,L,f),Nt=G,gt(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(je,w)}catch{}return!0}finally{K.p=_,q.T=m,Ir(s,r)}}function pm(s,r,f){r=sa(f,r),r=sm(s.stateNode,r,2),s=zo(s,r,2),s!==null&&(xn(s,2),qe(s))}function An(s,r,f){if(s.tag===3)pm(s,s,f);else for(;r!==null;){if(r.tag===3){pm(r,s,f);break}else if(r.tag===1){var m=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_i===null||!_i.has(m))){s=sa(f,s),f=am(2),m=zo(r,f,2),m!==null&&(cv(f,m,r,s),xn(m,2),qe(m));break}}r=r.return}}function nf(s,r,f){var m=s.pingCache;if(m===null){m=s.pingCache=new $t;var _=new Set;m.set(r,_)}else _=m.get(r),_===void 0&&(_=new Set,m.set(r,_));_.has(f)||(hm=!0,_.add(f),s=l.bind(null,s,r,f),r.then(s,s))}function l(s,r,f){var m=s.pingCache;m!==null&&m.delete(r),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,Wt===s&&(nn&f)===f&&(li===4||li===3&&(nn&62914560)===nn&&300>O()-Lc?(Nt&2)===0&&Zo(s,0):Qu|=f,Jn===nn&&(Jn=0)),qe(s)}function c(s,r){r===0&&(r=kt()),s=ws(s,r),s!==null&&(xn(s,r),qe(s))}function g(s){var r=s.memoizedState,f=0;r!==null&&(f=r.retryLane),c(s,f)}function b(s,r){var f=0;switch(s.tag){case 31:case 13:var m=s.stateNode,_=s.memoizedState;_!==null&&(f=_.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(r),c(s,f)}function E(s,r){return at(s,r)}var R=null,V=null,$=!1,Re=!1,He=!1,it=0;function qe(s){s!==V&&s.next===null&&(V===null?R=V=s:V=V.next=s),Re=!0,$||($=!0,fe())}function gt(s,r){if(!He&&Re){He=!0;do for(var f=!1,m=R;m!==null;){if(s!==0){var _=m.pendingLanes;if(_===0)var w=0;else{var L=m.suspendedLanes,G=m.pingedLanes;w=(1<<31-ft(42|s)+1)-1,w&=_&~(L&~G),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,be(m,w))}else w=nn,w=ge(m,m===Wt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Ve(m,w)||(f=!0,be(m,w));m=m.next}while(f);He=!1}}function Qt(){Si()}function Si(){Re=$=!1;var s=0;it!==0&&rN()&&(s=it);for(var r=O(),f=null,m=R;m!==null;){var _=m.next,w=Fc(m,r);w===0?(m.next=null,f===null?R=_:f.next=_,_===null&&(V=f)):(f=m,(s!==0||(w&3)!==0)&&(Re=!0)),m=_}Un!==0&&Un!==5||gt(s),it!==0&&(it=0)}function Fc(s,r){for(var f=s.suspendedLanes,m=s.pingedLanes,_=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var L=31-ft(w),G=1<<L,J=_[L];J===-1?((G&f)===0||(G&m)!==0)&&(_[L]=St(G,r)):J<=r&&(s.expiredLanes|=G),w&=~G}if(r=Wt,f=nn,f=ge(s,s===r?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,f===0||s===r&&(bn===2||bn===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&At(m),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||Ve(s,f)){if(r=f&-f,r===s.callbackPriority)return r;switch(m!==null&&At(m),is(f)){case 2:case 8:f=Ue;break;case 32:f=Te;break;case 268435456:f=Ze;break;default:f=Te}return m=Jo.bind(null,s),f=at(f,m),s.callbackPriority=r,s.callbackNode=f,r}return m!==null&&m!==null&&At(m),s.callbackPriority=2,s.callbackNode=null,2}function Jo(s,r){if(Un!==0&&Un!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(Bc()&&s.callbackNode!==f)return null;var m=nn;return m=ge(s,s===Wt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(dn(s,m,r),Fc(s,O()),s.callbackNode!=null&&s.callbackNode===f?Jo.bind(null,s):null)}function be(s,r){if(Bc())return null;dn(s,r,!0)}function fe(){lN(function(){(Nt&6)!==0?at(Me,Qt):Si()})}function we(){if(it===0){var s=Qr;s===0&&(s=rt,rt<<=1,(rt&261888)===0&&(rt=256)),it=s}return it}function tt(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yu(""+s)}function Ot(s,r){var f=r.ownerDocument.createElement("input");return f.name=r.name,f.value=r.value,s.id&&f.setAttribute("form",s.id),r.parentNode.insertBefore(f,r),s=new FormData(s),f.parentNode.removeChild(f),s}function fi(s,r,f,m,_){if(r==="submit"&&f&&f.stateNode===_){var w=tt((_[zi]||null).action),L=m.submitter;L&&(r=(r=L[zi]||null)?tt(r.formAction):L.getAttribute("formAction"),r!==null&&(w=r,L=null));var G=new _u("action","action",null,m,_);s.push({event:G,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(it!==0){var J=L?Ot(_,L):new FormData(_);Kp(f,{pending:!0,data:J,method:_.method,action:w},null,J)}}else typeof w=="function"&&(G.preventDefault(),J=L?Ot(_,L):new FormData(_),Kp(f,{pending:!0,data:J,method:_.method,action:w},w,J))},currentTarget:_}]})}}for(var Ft=0;Ft<Nu.length;Ft++){var Mn=Nu[Ft],$i=Mn.toLowerCase(),Cn=Mn[0].toUpperCase()+Mn.slice(1);Ta($i,"on"+Cn)}Ta(th,"onAnimationEnd"),Ta(Ru,"onAnimationIteration"),Ta(bp,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(yg,"onTransitionRun"),Ta(Wx,"onTransitionStart"),Ta(xg,"onTransitionCancel"),Ta(_p,"onTransitionEnd"),ue("onMouseEnter",["mouseout","mouseover"]),ue("onMouseLeave",["mouseout","mouseover"]),ue("onPointerEnter",["pointerout","pointerover"]),ue("onPointerLeave",["pointerout","pointerover"]),xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ka));function b3(s,r){r=(r&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],_=m.event;m=m.listeners;e:{var w=void 0;if(r)for(var L=m.length-1;0<=L;L--){var G=m[L],J=G.instance,ye=G.currentTarget;if(G=G.listener,J!==w&&_.isPropagationStopped())break e;w=G,_.currentTarget=ye;try{w(_)}catch(Le){Du(Le)}_.currentTarget=null,w=J}else for(L=0;L<m.length;L++){if(G=m[L],J=G.instance,ye=G.currentTarget,G=G.listener,J!==w&&_.isPropagationStopped())break e;w=G,_.currentTarget=ye;try{w(_)}catch(Le){Du(Le)}_.currentTarget=null,w=J}}}}function _n(s,r){var f=r[ta];f===void 0&&(f=r[ta]=new Set);var m=s+"__bubble";f.has(m)||(_3(r,s,2,!1),f.add(m))}function tb(s,r,f){var m=0;r&&(m|=4),_3(f,s,m,r)}var mv="_reactListening"+Math.random().toString(36).slice(2);function nb(s){if(!s[mv]){s[mv]=!0,ae.forEach(function(f){f!=="selectionchange"&&(eb.has(f)||tb(f,!1,s),tb(f,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[mv]||(r[mv]=!0,tb("selectionchange",!1,r))}}function _3(s,r,f,m){switch(K3(r)){case 2:var _=CN;break;case 8:_=RN;break;default:_=vb}f=_.bind(null,r,f,s),_=void 0,!np||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(_=!0),m?_!==void 0?s.addEventListener(r,f,{capture:!0,passive:_}):s.addEventListener(r,f,!0):_!==void 0?s.addEventListener(r,f,{passive:_}):s.addEventListener(r,f,!1)}function ib(s,r,f,m,_){var w=m;if((r&1)===0&&(r&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var G=m.stateNode.containerInfo;if(G===_)break;if(L===4)for(L=m.return;L!==null;){var J=L.tag;if((J===3||J===4)&&L.stateNode.containerInfo===_)return;L=L.return}for(;G!==null;){if(L=Gr(G),L===null)return;if(J=L.tag,J===5||J===6||J===26||J===27){m=w=L;continue e}G=G.parentNode}}m=m.return}tp(function(){var ye=w,Le=Hf(f),ze=[];e:{var _e=wa.get(s);if(_e!==void 0){var Ne=_u,Et=s;switch(s){case"keypress":if(bu(f)===0)break e;case"keydown":case"keyup":Ne=vl;break;case"focusin":Et="focus",Ne=Xf;break;case"focusout":Et="blur",Ne=Xf;break;case"beforeblur":case"afterblur":Ne=Xf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=J0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=sg;break;case th:case Ru:case bp:Ne=Hx;break;case _p:Ne=jx;break;case"scroll":case"scrollend":Ne=K0;break;case"wheel":Ne=rg;break;case"copy":case"cut":case"paste":Ne=eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=rp;break;case"toggle":case"beforetoggle":Ne=lg}var Ht=(r&4)!==0,Zn=!Ht&&(s==="scroll"||s==="scrollend"),le=Ht?_e!==null?_e+"Capture":null:_e;Ht=[];for(var ne=ye,ve;ne!==null;){var Oe=ne;if(ve=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||ve===null||le===null||(Oe=ic(ne,le),Oe!=null&&Ht.push(mm(ne,Oe,ve))),Zn)break;ne=ne.return}0<Ht.length&&(_e=new Ne(_e,Et,null,f,Le),ze.push({event:_e,listeners:Ht}))}}if((r&7)===0){e:{if(_e=s==="mouseover"||s==="pointerover",Ne=s==="mouseout"||s==="pointerout",_e&&f!==Vf&&(Et=f.relatedTarget||f.fromElement)&&(Gr(Et)||Et[ea]))break e;if((Ne||_e)&&(_e=Le.window===Le?Le:(_e=Le.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ne?(Et=f.relatedTarget||f.toElement,Ne=ye,Et=Et?Gr(Et):null,Et!==null&&(Zn=o(Et),Ht=Et.tag,Et!==Zn||Ht!==5&&Ht!==27&&Ht!==6)&&(Et=null)):(Ne=null,Et=ye),Ne!==Et)){if(Ht=ip,Oe="onMouseLeave",le="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(Ht=rp,Oe="onPointerLeave",le="onPointerEnter",ne="pointer"),Zn=Ne==null?_e:wo(Ne),ve=Et==null?_e:wo(Et),_e=new Ht(Oe,ne+"leave",Ne,f,Le),_e.target=Zn,_e.relatedTarget=ve,Oe=null,Gr(Le)===ye&&(Ht=new Ht(le,ne+"enter",Et,f,Le),Ht.target=ve,Ht.relatedTarget=Zn,Oe=Ht),Zn=Oe,Ne&&Et)t:{for(Ht=tN,le=Ne,ne=Et,ve=0,Oe=le;Oe;Oe=Ht(Oe))ve++;Oe=0;for(var Ut=ne;Ut;Ut=Ht(Ut))Oe++;for(;0<ve-Oe;)le=Ht(le),ve--;for(;0<Oe-ve;)ne=Ht(ne),Oe--;for(;ve--;){if(le===ne||ne!==null&&le===ne.alternate){Ht=le;break t}le=Ht(le),ne=Ht(ne)}Ht=null}else Ht=null;Ne!==null&&S3(ze,_e,Ne,Ht,!1),Et!==null&&Zn!==null&&S3(ze,Zn,Et,Ht,!0)}}e:{if(_e=ye?wo(ye):window,Ne=_e.nodeName&&_e.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&_e.type==="file")var Ln=dp;else if(hp(_e))if(dr)Ln=mg;else{Ln=gp;var Rt=dg}else Ne=_e.nodeName,!Ne||Ne.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?ye&&Sa(ye.elementType)&&(Ln=dp):Ln=pg;if(Ln&&(Ln=Ln(s,ye))){$f(ze,Ln,f,Le);break e}Rt&&Rt(s,_e,ye),s==="focusout"&&ye&&_e.type==="number"&&ye.memoizedProps.value!=null&&Qn(_e,"number",_e.value)}switch(Rt=ye?wo(ye):window,s){case"focusin":(hp(Rt)||Rt.contentEditable==="true")&&(pr=Rt,mr=ye,dc=null);break;case"focusout":dc=mr=pr=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,pc(ze,f,Le);break;case"selectionchange":if(vg)break;case"keydown":case"keyup":pc(ze,f,Le)}var un;if(yl)e:{switch(s){case"compositionstart":var wn="onCompositionStart";break e;case"compositionend":wn="onCompositionEnd";break e;case"compositionupdate":wn="onCompositionUpdate";break e}wn=void 0}else xl?Jf(s,f)&&(wn="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(wn="onCompositionStart");wn&&(lp&&f.locale!=="ko"&&(xl||wn!=="onCompositionStart"?wn==="onCompositionEnd"&&xl&&(un=xu()):(ia=Le,jf="value"in ia?ia.value:ia.textContent,xl=!0)),Rt=gv(ye,wn),0<Rt.length&&(wn=new qf(wn,s,null,f,Le),ze.push({event:wn,listeners:Rt}),un?wn.data=un:(un=cp(f),un!==null&&(wn.data=un)))),(un=Qf?fg(s,f):up(s,f))&&(wn=gv(ye,"onBeforeInput"),0<wn.length&&(Rt=new qf("onBeforeInput","beforeinput",null,f,Le),ze.push({event:Rt,listeners:wn}),Rt.data=un)),fi(ze,s,ye,f,Le)}b3(ze,r)})}function mm(s,r,f){return{instance:s,listener:r,currentTarget:f}}function gv(s,r){for(var f=r+"Capture",m=[];s!==null;){var _=s,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=ic(s,f),_!=null&&m.unshift(mm(s,_,w)),_=ic(s,r),_!=null&&m.push(mm(s,_,w))),s.tag===3)return m;s=s.return}return[]}function tN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function S3(s,r,f,m,_){for(var w=r._reactName,L=[];f!==null&&f!==m;){var G=f,J=G.alternate,ye=G.stateNode;if(G=G.tag,J!==null&&J===m)break;G!==5&&G!==26&&G!==27||ye===null||(J=ye,_?(ye=ic(f,w),ye!=null&&L.unshift(mm(f,ye,J))):_||(ye=ic(f,w),ye!=null&&L.push(mm(f,ye,J)))),f=f.return}L.length!==0&&s.push({event:r,listeners:L})}var nN=/\r\n?/g,iN=/\u0000|\uFFFD/g;function M3(s){return(typeof s=="string"?s:""+s).replace(nN,`
`).replace(iN,"")}function w3(s,r){return r=M3(r),M3(s)===r}function Yn(s,r,f,m,_,w){switch(f){case"children":typeof m=="string"?r==="body"||r==="textarea"&&m===""||Ci(s,m):(typeof m=="number"||typeof m=="bigint")&&r!=="body"&&Ci(s,""+m);break;case"className":It(s,"class",m);break;case"tabIndex":It(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,f,m);break;case"style":pl(s,m,w);break;case"data":if(r!=="object"){It(s,"data",m);break}case"src":case"href":if(m===""&&(r!=="a"||f!=="href")){s.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(f);break}m=yu(""+m),s.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(r!=="input"&&Yn(s,r,"name",_.name,_,null),Yn(s,r,"formEncType",_.formEncType,_,null),Yn(s,r,"formMethod",_.formMethod,_,null),Yn(s,r,"formTarget",_.formTarget,_,null)):(Yn(s,r,"encType",_.encType,_,null),Yn(s,r,"method",_.method,_,null),Yn(s,r,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(f);break}m=yu(""+m),s.setAttribute(f,m);break;case"onClick":m!=null&&(s.onclick=Wr);break;case"onScroll":m!=null&&_n("scroll",s);break;case"onScrollEnd":m!=null&&_n("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=f}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}f=yu(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(f,""+m):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":m===!0?s.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(f,m):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(f,m):s.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(f):s.setAttribute(f,m);break;case"popover":_n("beforetoggle",s),_n("toggle",s),Mt(s,"popover",m);break;case"xlinkActuate":Tt(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Tt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Tt(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Tt(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Tt(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Tt(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Tt(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Tt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Tt(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Mt(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Y0.get(f)||f,Mt(s,f,m))}}function sb(s,r,f,m,_,w){switch(f){case"style":pl(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=f}}break;case"children":typeof m=="string"?Ci(s,m):(typeof m=="number"||typeof m=="bigint")&&Ci(s,""+m);break;case"onScroll":m!=null&&_n("scroll",s);break;case"onScrollEnd":m!=null&&_n("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Se.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(_=f.endsWith("Capture"),r=f.slice(2,_?f.length-7:void 0),w=s[zi]||null,w=w!=null?w[f]:null,typeof w=="function"&&s.removeEventListener(r,w,_),typeof m=="function")){typeof w!="function"&&w!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(r,m,_);break e}f in s?s[f]=m:m===!0?s.setAttribute(f,""):Mt(s,f,m)}}}function Ds(s,r,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",s),_n("load",s);var m=!1,_=!1,w;for(w in f)if(f.hasOwnProperty(w)){var L=f[w];if(L!=null)switch(w){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Yn(s,r,w,L,f,null)}}_&&Yn(s,r,"srcSet",f.srcSet,f,null),m&&Yn(s,r,"src",f.src,f,null);return;case"input":_n("invalid",s);var G=w=L=_=null,J=null,ye=null;for(m in f)if(f.hasOwnProperty(m)){var Le=f[m];if(Le!=null)switch(m){case"name":_=Le;break;case"type":L=Le;break;case"checked":J=Le;break;case"defaultChecked":ye=Le;break;case"value":w=Le;break;case"defaultValue":G=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,r));break;default:Yn(s,r,m,Le,f,null)}}Ja(s,w,G,J,ye,L,_,!1);return;case"select":_n("invalid",s),m=L=w=null;for(_ in f)if(f.hasOwnProperty(_)&&(G=f[_],G!=null))switch(_){case"value":w=G;break;case"defaultValue":L=G;break;case"multiple":m=G;default:Yn(s,r,_,G,f,null)}r=w,f=L,s.multiple=!!m,r!=null?_s(s,!!m,r,!1):f!=null&&_s(s,!!m,f,!0);return;case"textarea":_n("invalid",s),w=_=m=null;for(L in f)if(f.hasOwnProperty(L)&&(G=f[L],G!=null))switch(L){case"value":m=G;break;case"defaultValue":_=G;break;case"children":w=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(91));break;default:Yn(s,r,L,G,f,null)}Bi(s,m,_,w);return;case"option":for(J in f)if(f.hasOwnProperty(J)&&(m=f[J],m!=null))switch(J){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Yn(s,r,J,m,f,null)}return;case"dialog":_n("beforetoggle",s),_n("toggle",s),_n("cancel",s),_n("close",s);break;case"iframe":case"object":_n("load",s);break;case"video":case"audio":for(m=0;m<ka.length;m++)_n(ka[m],s);break;case"image":_n("error",s),_n("load",s);break;case"details":_n("toggle",s);break;case"embed":case"source":case"link":_n("error",s),_n("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in f)if(f.hasOwnProperty(ye)&&(m=f[ye],m!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Yn(s,r,ye,m,f,null)}return;default:if(Sa(r)){for(Le in f)f.hasOwnProperty(Le)&&(m=f[Le],m!==void 0&&sb(s,r,Le,m,f,void 0));return}}for(G in f)f.hasOwnProperty(G)&&(m=f[G],m!=null&&Yn(s,r,G,m,f,null))}function sN(s,r,f,m){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,L=null,G=null,J=null,ye=null,Le=null;for(Ne in f){var ze=f[Ne];if(f.hasOwnProperty(Ne)&&ze!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":J=ze;default:m.hasOwnProperty(Ne)||Yn(s,r,Ne,null,m,ze)}}for(var _e in m){var Ne=m[_e];if(ze=f[_e],m.hasOwnProperty(_e)&&(Ne!=null||ze!=null))switch(_e){case"type":w=Ne;break;case"name":_=Ne;break;case"checked":ye=Ne;break;case"defaultChecked":Le=Ne;break;case"value":L=Ne;break;case"defaultValue":G=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(i(137,r));break;default:Ne!==ze&&Yn(s,r,_e,Ne,m,ze)}}Ai(s,L,G,J,ye,Le,w,_);return;case"select":Ne=L=G=_e=null;for(w in f)if(J=f[w],f.hasOwnProperty(w)&&J!=null)switch(w){case"value":break;case"multiple":Ne=J;default:m.hasOwnProperty(w)||Yn(s,r,w,null,m,J)}for(_ in m)if(w=m[_],J=f[_],m.hasOwnProperty(_)&&(w!=null||J!=null))switch(_){case"value":_e=w;break;case"defaultValue":G=w;break;case"multiple":L=w;default:w!==J&&Yn(s,r,_,w,m,J)}r=G,f=L,m=Ne,_e!=null?_s(s,!!f,_e,!1):!!m!=!!f&&(r!=null?_s(s,!!f,r,!0):_s(s,!!f,f?[]:"",!1));return;case"textarea":Ne=_e=null;for(G in f)if(_=f[G],f.hasOwnProperty(G)&&_!=null&&!m.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Yn(s,r,G,null,m,_)}for(L in m)if(_=m[L],w=f[L],m.hasOwnProperty(L)&&(_!=null||w!=null))switch(L){case"value":_e=_;break;case"defaultValue":Ne=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==w&&Yn(s,r,L,_,m,w)}Rn(s,_e,Ne);return;case"option":for(var Et in f)if(_e=f[Et],f.hasOwnProperty(Et)&&_e!=null&&!m.hasOwnProperty(Et))switch(Et){case"selected":s.selected=!1;break;default:Yn(s,r,Et,null,m,_e)}for(J in m)if(_e=m[J],Ne=f[J],m.hasOwnProperty(J)&&_e!==Ne&&(_e!=null||Ne!=null))switch(J){case"selected":s.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:Yn(s,r,J,_e,m,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in f)_e=f[Ht],f.hasOwnProperty(Ht)&&_e!=null&&!m.hasOwnProperty(Ht)&&Yn(s,r,Ht,null,m,_e);for(ye in m)if(_e=m[ye],Ne=f[ye],m.hasOwnProperty(ye)&&_e!==Ne&&(_e!=null||Ne!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,r));break;default:Yn(s,r,ye,_e,m,Ne)}return;default:if(Sa(r)){for(var Zn in f)_e=f[Zn],f.hasOwnProperty(Zn)&&_e!==void 0&&!m.hasOwnProperty(Zn)&&sb(s,r,Zn,void 0,m,_e);for(Le in m)_e=m[Le],Ne=f[Le],!m.hasOwnProperty(Le)||_e===Ne||_e===void 0&&Ne===void 0||sb(s,r,Le,_e,m,Ne);return}}for(var le in f)_e=f[le],f.hasOwnProperty(le)&&_e!=null&&!m.hasOwnProperty(le)&&Yn(s,r,le,null,m,_e);for(ze in m)_e=m[ze],Ne=f[ze],!m.hasOwnProperty(ze)||_e===Ne||_e==null&&Ne==null||Yn(s,r,ze,_e,m,Ne)}function T3(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var _=f[m],w=_.transferSize,L=_.initiatorType,G=_.duration;if(w&&G&&T3(L)){for(L=0,G=_.responseEnd,m+=1;m<f.length;m++){var J=f[m],ye=J.startTime;if(ye>G)break;var Le=J.transferSize,ze=J.initiatorType;Le&&T3(ze)&&(J=J.responseEnd,L+=Le*(J<G?1:(G-ye)/(J-ye)))}if(--m,r+=8*(w+L)/(_.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ab=null,rb=null;function vv(s){return s.nodeType===9?s:s.ownerDocument}function E3(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A3(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function ob(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lb=null;function rN(){var s=window.event;return s&&s.type==="popstate"?s===lb?!1:(lb=s,!0):(lb=null,!1)}var C3=typeof setTimeout=="function"?setTimeout:void 0,oN=typeof clearTimeout=="function"?clearTimeout:void 0,R3=typeof Promise=="function"?Promise:void 0,lN=typeof queueMicrotask=="function"?queueMicrotask:typeof R3<"u"?function(s){return R3.resolve(null).then(s).catch(cN)}:C3;function cN(s){setTimeout(function(){throw s})}function kc(s){return s==="head"}function N3(s,r){var f=r,m=0;do{var _=f.nextSibling;if(s.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"||f==="/&"){if(m===0){s.removeChild(_),Xh(r);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")gm(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,gm(f);for(var w=f.firstChild;w;){var L=w.nextSibling,G=w.nodeName;w[Qa]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=L}}else f==="body"&&gm(s.ownerDocument.body);f=_}while(f);Xh(r)}function D3(s,r){var f=s;s=0;do{var m=f.nextSibling;if(f.nodeType===1?r?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(r?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=m}while(f)}function cb(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var f=r;switch(r=r.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":cb(f),Hr(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function uN(s,r,f,m){for(;s.nodeType===1;){var _=f;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[Qa])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Pr(s.nextSibling),s===null)break}return null}function fN(s,r,f){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=Pr(s.nextSibling),s===null))return null;return s}function L3(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Pr(s.nextSibling),s===null))return null;return s}function ub(s){return s.data==="$?"||s.data==="$~"}function fb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function hN(s,r){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||f.readyState!=="loading")r();else{var m=function(){r(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Pr(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var hb=null;function I3(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(r===0)return Pr(s.nextSibling);r--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||r++}s=s.nextSibling}return null}function P3(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(r===0)return s;r--}else f!=="/$"&&f!=="/&"||r++}s=s.previousSibling}return null}function U3(s,r,f){switch(r=vv(f),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function gm(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Hr(s)}var Ur=new Map,O3=new Set;function yv(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Gl=K.d;K.d={f:dN,r:pN,D:mN,C:gN,L:vN,m:yN,X:bN,S:xN,M:_N};function dN(){var s=Gl.f(),r=ir();return s||r}function pN(s){var r=jr(s);r!==null&&r.tag===5&&r.type==="form"?ev(r):Gl.r(s)}var Gh=typeof document>"u"?null:document;function z3(s,r,f){var m=Gh;if(m&&typeof r=="string"&&r){var _=Vt(r);_='link[rel="'+s+'"][href="'+_+'"]',typeof f=="string"&&(_+='[crossorigin="'+f+'"]'),O3.has(_)||(O3.add(_),s={rel:s,crossOrigin:f,href:r},m.querySelector(_)===null&&(r=m.createElement("link"),Ds(r,"link",s),H(r),m.head.appendChild(r)))}}function mN(s){Gl.D(s),z3("dns-prefetch",s,null)}function gN(s,r){Gl.C(s,r),z3("preconnect",s,r)}function vN(s,r,f){Gl.L(s,r,f);var m=Gh;if(m&&s&&r){var _='link[rel="preload"][as="'+Vt(r)+'"]';r==="image"&&f&&f.imageSrcSet?(_+='[imagesrcset="'+Vt(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(_+='[imagesizes="'+Vt(f.imageSizes)+'"]')):_+='[href="'+Vt(s)+'"]';var w=_;switch(r){case"style":w=jh(s);break;case"script":w=Wh(s)}Ur.has(w)||(s=v({rel:"preload",href:r==="image"&&f&&f.imageSrcSet?void 0:s,as:r},f),Ur.set(w,s),m.querySelector(_)!==null||r==="style"&&m.querySelector(vm(w))||r==="script"&&m.querySelector(ym(w))||(r=m.createElement("link"),Ds(r,"link",s),H(r),m.head.appendChild(r)))}}function yN(s,r){Gl.m(s,r);var f=Gh;if(f&&s){var m=r&&typeof r.as=="string"?r.as:"script",_='link[rel="modulepreload"][as="'+Vt(m)+'"][href="'+Vt(s)+'"]',w=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Wh(s)}if(!Ur.has(w)&&(s=v({rel:"modulepreload",href:s},r),Ur.set(w,s),f.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(ym(w)))return}m=f.createElement("link"),Ds(m,"link",s),H(m),f.head.appendChild(m)}}}function xN(s,r,f){Gl.S(s,r,f);var m=Gh;if(m&&s){var _=fr(m).hoistableStyles,w=jh(s);r=r||"default";var L=_.get(w);if(!L){var G={loading:0,preload:null};if(L=m.querySelector(vm(w)))G.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},f),(f=Ur.get(w))&&db(s,f);var J=L=m.createElement("link");H(J),Ds(J,"link",s),J._p=new Promise(function(ye,Le){J.onload=ye,J.onerror=Le}),J.addEventListener("load",function(){G.loading|=1}),J.addEventListener("error",function(){G.loading|=2}),G.loading|=4,xv(L,r,m)}L={type:"stylesheet",instance:L,count:1,state:G},_.set(w,L)}}}function bN(s,r){Gl.X(s,r);var f=Gh;if(f&&s){var m=fr(f).hoistableScripts,_=Wh(s),w=m.get(_);w||(w=f.querySelector(ym(_)),w||(s=v({src:s,async:!0},r),(r=Ur.get(_))&&pb(s,r),w=f.createElement("script"),H(w),Ds(w,"link",s),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function _N(s,r){Gl.M(s,r);var f=Gh;if(f&&s){var m=fr(f).hoistableScripts,_=Wh(s),w=m.get(_);w||(w=f.querySelector(ym(_)),w||(s=v({src:s,async:!0,type:"module"},r),(r=Ur.get(_))&&pb(s,r),w=f.createElement("script"),H(w),Ds(w,"link",s),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function B3(s,r,f,m){var _=(_=ce.current)?yv(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(r=jh(f.href),f=fr(_).hoistableStyles,m=f.get(r),m||(m={type:"style",instance:null,count:0,state:null},f.set(r,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=jh(f.href);var w=fr(_).hoistableStyles,L=w.get(s);if(L||(_=_.ownerDocument||_,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,L),(w=_.querySelector(vm(s)))&&!w._p&&(L.instance=w,L.state.loading=5),Ur.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ur.set(s,f),w||SN(_,s,f,L.state))),r&&m===null)throw Error(i(528,""));return L}if(r&&m!==null)throw Error(i(529,""));return null;case"script":return r=f.async,f=f.src,typeof f=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wh(f),f=fr(_).hoistableScripts,m=f.get(r),m||(m={type:"script",instance:null,count:0,state:null},f.set(r,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function jh(s){return'href="'+Vt(s)+'"'}function vm(s){return'link[rel="stylesheet"]['+s+"]"}function F3(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function SN(s,r,f,m){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?m.loading=1:(r=s.createElement("link"),m.preload=r,r.addEventListener("load",function(){return m.loading|=1}),r.addEventListener("error",function(){return m.loading|=2}),Ds(r,"link",f),H(r),s.head.appendChild(r))}function Wh(s){return'[src="'+Vt(s)+'"]'}function ym(s){return"script[async]"+s}function k3(s,r,f){if(r.count++,r.instance===null)switch(r.type){case"style":var m=s.querySelector('style[data-href~="'+Vt(f.href)+'"]');if(m)return r.instance=m,H(m),m;var _=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),H(m),Ds(m,"style",_),xv(m,f.precedence,s),r.instance=m;case"stylesheet":_=jh(f.href);var w=s.querySelector(vm(_));if(w)return r.state.loading|=4,r.instance=w,H(w),w;m=F3(f),(_=Ur.get(_))&&db(m,_),w=(s.ownerDocument||s).createElement("link"),H(w);var L=w;return L._p=new Promise(function(G,J){L.onload=G,L.onerror=J}),Ds(w,"link",m),r.state.loading|=4,xv(w,f.precedence,s),r.instance=w;case"script":return w=Wh(f.src),(_=s.querySelector(ym(w)))?(r.instance=_,H(_),_):(m=f,(_=Ur.get(w))&&(m=v({},f),pb(m,_)),s=s.ownerDocument||s,_=s.createElement("script"),H(_),Ds(_,"link",m),s.head.appendChild(_),r.instance=_);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(m=r.instance,r.state.loading|=4,xv(m,f.precedence,s));return r.instance}function xv(s,r,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,w=_,L=0;L<m.length;L++){var G=m[L];if(G.dataset.precedence===r)w=G;else if(w!==_)break}w?w.parentNode.insertBefore(s,w.nextSibling):(r=f.nodeType===9?f.head:f,r.insertBefore(s,r.firstChild))}function db(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function pb(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var bv=null;function V3(s,r,f){if(bv===null){var m=new Map,_=bv=new Map;_.set(f,m)}else _=bv,m=_.get(f),m||(m=new Map,_.set(f,m));if(m.has(s))return m;for(m.set(s,null),f=f.getElementsByTagName(s),_=0;_<f.length;_++){var w=f[_];if(!(w[Qa]||w[si]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var L=w.getAttribute(r)||"";L=s+L;var G=m.get(L);G?G.push(w):m.set(L,[w])}}return m}function H3(s,r,f){s=s.ownerDocument||s,s.head.insertBefore(f,r==="title"?s.querySelector("head > title"):null)}function MN(s,r,f){if(f===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function G3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function wN(s,r,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var _=jh(m.href),w=r.querySelector(vm(_));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=_v.bind(s),r.then(s,s)),f.state.loading|=4,f.instance=w,H(w);return}w=r.ownerDocument||r,m=F3(m),(_=Ur.get(_))&&db(m,_),w=w.createElement("link"),H(w);var L=w;L._p=new Promise(function(G,J){L.onload=G,L.onerror=J}),Ds(w,"link",m),f.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,r),(r=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=_v.bind(s),r.addEventListener("load",f),r.addEventListener("error",f))}}var mb=0;function TN(s,r){return s.stylesheets&&s.count===0&&Mv(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var m=setTimeout(function(){if(s.stylesheets&&Mv(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+r);0<s.imgBytes&&mb===0&&(mb=62500*aN());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Mv(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>mb?50:800)+r);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function _v(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Sv=null;function Mv(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Sv=new Map,r.forEach(EN,s),Sv=null,_v.call(s))}function EN(s,r){if(!(r.state.loading&4)){var f=Sv.get(s);if(f)var m=f.get(null);else{f=new Map,Sv.set(s,f);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var L=_[w];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(f.set(L.dataset.precedence,L),m=L)}m&&f.set(null,m)}_=r.instance,L=_.getAttribute("data-precedence"),w=f.get(L)||m,w===m&&f.set(null,_),f.set(L,_),this.count++,m=_v.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),w?w.parentNode.insertBefore(_,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),r.state.loading|=4}}var xm={$$typeof:D,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function AN(s,r,f,m,_,w,L,G,J){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cn(0),this.hiddenUpdates=cn(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function j3(s,r,f,m,_,w,L,G,J,ye,Le,ze){return s=new AN(s,r,f,L,J,ye,Le,ze,G),r=1,w===!0&&(r|=24),w=ai(3,null,null,r),s.current=w,w.stateNode=s,r=Mp(),r.refCount++,s.pooledCache=r,r.refCount++,w.memoizedState={element:m,isDehydrated:f,cache:r},Bu(w),s}function W3(s){return s?(s=Ro,s):Ro}function X3(s,r,f,m,_,w){_=W3(_),m.context===null?m.context=_:m.pendingContext=_,m=$r(r),m.payload={element:f},w=w===void 0?null:w,w!==null&&(m.callback=w),f=zo(s,m,r),f!==null&&(on(f,s,r),Bo(f,s,r))}function q3(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<r?f:r}}function gb(s,r){q3(s,r),(s=s.alternate)&&q3(s,r)}function Y3(s){if(s.tag===13||s.tag===31){var r=ws(s,67108864);r!==null&&on(r,s,67108864),gb(s,67108864)}}function Z3(s){if(s.tag===13||s.tag===31){var r=ha();r=Ka(r);var f=ws(s,r);f!==null&&on(f,s,r),gb(s,r)}}var wv=!0;function CN(s,r,f,m){var _=q.T;q.T=null;var w=K.p;try{K.p=2,vb(s,r,f,m)}finally{K.p=w,q.T=_}}function RN(s,r,f,m){var _=q.T;q.T=null;var w=K.p;try{K.p=8,vb(s,r,f,m)}finally{K.p=w,q.T=_}}function vb(s,r,f,m){if(wv){var _=yb(m);if(_===null)ib(s,r,m,Tv,f),Q3(s,m);else if(DN(_,s,r,f,m))m.stopPropagation();else if(Q3(s,m),r&4&&-1<NN.indexOf(s)){for(;_!==null;){var w=jr(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var L=ke(w.pendingLanes);if(L!==0){var G=w;for(G.pendingLanes|=2,G.entangledLanes|=2;L;){var J=1<<31-ft(L);G.entanglements[1]|=J,L&=~J}qe(w),(Nt&6)===0&&(bi=O()+500,gt(0))}}break;case 31:case 13:G=ws(w,2),G!==null&&on(G,w,2),ir(),gb(w,2)}if(w=yb(m),w===null&&ib(s,r,m,Tv,f),w===_)break;_=w}_!==null&&m.stopPropagation()}else ib(s,r,m,null,f)}}function yb(s){return s=Hf(s),xb(s)}var Tv=null;function xb(s){if(Tv=null,s=Gr(s),s!==null){var r=o(s);if(r===null)s=null;else{var f=r.tag;if(f===13){if(s=u(r),s!==null)return s;s=null}else if(f===31){if(s=h(r),s!==null)return s;s=null}else if(f===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Tv=s,null}function K3(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case Me:return 2;case Ue:return 8;case Te:case ut:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var bb=!1,Vc=null,Hc=null,Gc=null,bm=new Map,_m=new Map,jc=[],NN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q3(s,r){switch(s){case"focusin":case"focusout":Vc=null;break;case"dragenter":case"dragleave":Hc=null;break;case"mouseover":case"mouseout":Gc=null;break;case"pointerover":case"pointerout":bm.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_m.delete(r.pointerId)}}function Sm(s,r,f,m,_,w){return s===null||s.nativeEvent!==w?(s={blockedOn:r,domEventName:f,eventSystemFlags:m,nativeEvent:w,targetContainers:[_]},r!==null&&(r=jr(r),r!==null&&Y3(r)),s):(s.eventSystemFlags|=m,r=s.targetContainers,_!==null&&r.indexOf(_)===-1&&r.push(_),s)}function DN(s,r,f,m,_){switch(r){case"focusin":return Vc=Sm(Vc,s,r,f,m,_),!0;case"dragenter":return Hc=Sm(Hc,s,r,f,m,_),!0;case"mouseover":return Gc=Sm(Gc,s,r,f,m,_),!0;case"pointerover":var w=_.pointerId;return bm.set(w,Sm(bm.get(w)||null,s,r,f,m,_)),!0;case"gotpointercapture":return w=_.pointerId,_m.set(w,Sm(_m.get(w)||null,s,r,f,m,_)),!0}return!1}function J3(s){var r=Gr(s.target);if(r!==null){var f=o(r);if(f!==null){if(r=f.tag,r===13){if(r=u(f),r!==null){s.blockedOn=r,hs(s.priority,function(){Z3(f)});return}}else if(r===31){if(r=h(f),r!==null){s.blockedOn=r,hs(s.priority,function(){Z3(f)});return}}else if(r===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ev(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var f=yb(s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);Vf=m,f.target.dispatchEvent(m),Vf=null}else return r=jr(f),r!==null&&Y3(r),s.blockedOn=f,!1;r.shift()}return!0}function $3(s,r,f){Ev(s)&&f.delete(r)}function LN(){bb=!1,Vc!==null&&Ev(Vc)&&(Vc=null),Hc!==null&&Ev(Hc)&&(Hc=null),Gc!==null&&Ev(Gc)&&(Gc=null),bm.forEach($3),_m.forEach($3)}function Av(s,r){s.blockedOn===r&&(s.blockedOn=null,bb||(bb=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,LN)))}var Cv=null;function ew(s){Cv!==s&&(Cv=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Cv===s&&(Cv=null);for(var r=0;r<s.length;r+=3){var f=s[r],m=s[r+1],_=s[r+2];if(typeof m!="function"){if(xb(m||f)===null)continue;break}var w=jr(f);w!==null&&(s.splice(r,3),r-=3,Kp(w,{pending:!0,data:_,method:f.method,action:m},m,_))}}))}function Xh(s){function r(J){return Av(J,s)}Vc!==null&&Av(Vc,s),Hc!==null&&Av(Hc,s),Gc!==null&&Av(Gc,s),bm.forEach(r),_m.forEach(r);for(var f=0;f<jc.length;f++){var m=jc[f];m.blockedOn===s&&(m.blockedOn=null)}for(;0<jc.length&&(f=jc[0],f.blockedOn===null);)J3(f),f.blockedOn===null&&jc.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var _=f[m],w=f[m+1],L=_[zi]||null;if(typeof w=="function")L||ew(f);else if(L){var G=null;if(w&&w.hasAttribute("formAction")){if(_=w,L=w[zi]||null)G=L.formAction;else if(xb(_)!==null)continue}else G=L.action;typeof G=="function"?f[m+1]=G:(f.splice(m,3),m-=3),ew(f)}}}function tw(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(L){return _=L})},focusReset:"manual",scroll:"manual"})}function r(){_!==null&&(_(),_=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),_!==null&&(_(),_=null)}}}function _b(s){this._internalRoot=s}Rv.prototype.render=_b.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var f=r.current,m=ha();X3(f,m,s,r,null,null)},Rv.prototype.unmount=_b.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;X3(s.current,2,null,s,null,null),ir(),r[ea]=null}};function Rv(s){this._internalRoot=s}Rv.prototype.unstable_scheduleHydration=function(s){if(s){var r=So();s={blockedOn:null,target:s,priority:r};for(var f=0;f<jc.length&&r!==0&&r<jc[f].priority;f++);jc.splice(f,0,s),f===0&&J3(s)}};var nw=e.version;if(nw!=="19.2.0")throw Error(i(527,nw,"19.2.0"));K.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var IN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nv.isDisabled&&Nv.supportsFiber)try{je=Nv.inject(IN),Qe=Nv}catch{}}return wm.createRoot=function(s,r){if(!a(s))throw Error(i(299));var f=!1,m="",_=ov,w=nm,L=im;return r!=null&&(r.unstable_strictMode===!0&&(f=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(_=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(L=r.onRecoverableError)),r=j3(s,1,!1,null,null,f,m,null,_,w,L,tw),s[ea]=r.current,nb(s),new _b(r)},wm.hydrateRoot=function(s,r,f){if(!a(s))throw Error(i(299));var m=!1,_="",w=ov,L=nm,G=im,J=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(L=f.onCaughtError),f.onRecoverableError!==void 0&&(G=f.onRecoverableError),f.formState!==void 0&&(J=f.formState)),r=j3(s,1,!0,r,f??null,m,_,J,w,L,G,tw),r.context=W3(null),f=r.current,m=ha(),m=Ka(m),_=$r(m),_.callback=null,zo(f,_,m),f=m,r.current.lanes=f,xn(r,f),qe(r),s[ea]=r.current,nb(s),new Rv(r)},wm.version="19.2.0",wm}var hw;function VN(){if(hw)return wb.exports;hw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wb.exports=kN(),wb.exports}var HN=VN(),zA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dw=Je.createContext&&Je.createContext(zA),GN=["attr","size","title"];function jN(n,e){if(n==null)return{};var t=WN(n,e),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)i=o[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function WN(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function jy(){return jy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jy.apply(this,arguments)}function pw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Wy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(t),!0).forEach(function(i){XN(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function XN(n,e,t){return e=qN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qN(n){var e=YN(n,"string");return typeof e=="symbol"?e:e+""}function YN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BA(n){return n&&n.map((e,t)=>Je.createElement(e.tag,Wy({key:t},e.attr),BA(e.child)))}function Bn(n){return e=>Je.createElement(ZN,jy({attr:Wy({},n.attr)},e),BA(n.child))}function ZN(n){var e=t=>{var{attr:i,size:a,title:o}=n,u=jN(n,GN),h=a||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Je.createElement("svg",jy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:d,style:Wy(Wy({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Je.createElement("title",null,o),n.children)};return dw!==void 0?Je.createElement(dw.Consumer,null,t=>e(t)):e(zA)}function mw(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(n)}function FA(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(n)}function kA(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(n)}function KN(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13 7H7v6h6V7z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z",clipRule:"evenodd"},child:[]}]})(n)}function VA(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(n)}function vd(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"},child:[]}]})(n)}function QN(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"},child:[]}]})(n)}function JN(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(n)}function $N(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"},child:[]}]})(n)}function r0(n){return Bn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(n)}const WS=de.createContext({});function ou(n){const e=de.useRef(null);return e.current===null&&(e.current=n()),e.current}const HA=typeof window<"u",$1=HA?de.useLayoutEffect:de.useEffect,ex=de.createContext(null);function XS(n,e){n.indexOf(e)===-1&&n.push(e)}function qS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const xo=(n,e,t)=>t>e?e:t<n?n:t;let o0=()=>{};const ec={},GA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function jA(n){return typeof n=="object"&&n!==null}const WA=n=>/^0[^.\s]+$/u.test(n);function YS(n){let e;return()=>(e===void 0&&(e=n()),e)}const qa=n=>n,eD=(n,e)=>t=>e(n(t)),D0=(...n)=>n.reduce(eD),Rd=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class ZS{constructor(){this.subscriptions=[]}add(e){return XS(this.subscriptions,e),()=>qS(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jl=n=>n*1e3,Br=n=>n/1e3;function KS(n,e){return e?n*(1e3/e):0}const XA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,tD=1e-7,nD=12;function iD(n,e,t,i,a){let o,u,h=0;do u=e+(t-e)/2,o=XA(u,i,a)-n,o>0?t=u:e=u;while(Math.abs(o)>tD&&++h<nD);return u}function L0(n,e,t,i){if(n===e&&t===i)return qa;const a=o=>iD(o,0,1,n,t);return o=>o===0||o===1?o:XA(a(o),e,i)}const qA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,YA=n=>e=>1-n(1-e),ZA=L0(.33,1.53,.69,.99),QS=YA(ZA),KA=qA(QS),QA=n=>(n*=2)<1?.5*QS(n):.5*(2-Math.pow(2,-10*(n-1))),JS=n=>1-Math.sin(Math.acos(n)),JA=YA(JS),$A=qA(JS),sD=L0(.42,0,1,1),aD=L0(0,0,.58,1),e4=L0(.42,0,.58,1),rD=n=>Array.isArray(n)&&typeof n[0]!="number",t4=n=>Array.isArray(n)&&typeof n[0]=="number",oD={linear:qa,easeIn:sD,easeInOut:e4,easeOut:aD,circIn:JS,circInOut:$A,circOut:JA,backIn:QS,backInOut:KA,backOut:ZA,anticipate:QA},lD=n=>typeof n=="string",gw=n=>{if(t4(n)){o0(n.length===4);const[e,t,i,a]=n;return L0(e,t,i,a)}else if(lD(n))return oD[n];return n},Dv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cD(n,e){let t=new Set,i=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),n()),y(h)}const p={schedule:(y,v=!1,x=!1)=>{const T=x&&a?t:i;return v&&u.add(y),T.has(y)||T.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){o=!0;return}a=!0,[t,i]=[i,t],t.forEach(d),t.clear(),a=!1,o&&(o=!1,p.process(y))}};return p}const uD=40;function n4(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,u=Dv.reduce((D,I)=>(D[I]=cD(o),D),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:x,render:S,postRender:T}=u,C=()=>{const D=ec.useManualTiming?a.timestamp:performance.now();t=!1,ec.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(D-a.timestamp,uD),1)),a.timestamp=D,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),x.process(a),S.process(a),T.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(C))},A=()=>{t=!0,i=!0,a.isProcessing||n(C)};return{schedule:Dv.reduce((D,I)=>{const z=u[I];return D[I]=(F,k=!1,j=!1)=>(t||A(),z.schedule(F,k,j)),D},{}),cancel:D=>{for(let I=0;I<Dv.length;I++)u[Dv[I]].cancel(D)},state:a,steps:u}}const{schedule:zn,cancel:bo,state:ys,steps:Cb}=n4(typeof requestAnimationFrame<"u"?requestAnimationFrame:qa,!0);let Iy;function fD(){Iy=void 0}const va={now:()=>(Iy===void 0&&va.set(ys.isProcessing||ec.useManualTiming?ys.timestamp:performance.now()),Iy),set:n=>{Iy=n,queueMicrotask(fD)}},i4=n=>e=>typeof e=="string"&&e.startsWith(n),s4=i4("--"),hD=i4("var(--"),$S=n=>hD(n)?dD.test(n.split("/*")[0].trim()):!1,dD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function vw(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Gd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},l0={...Gd,transform:n=>xo(0,1,n)},Lv={...Gd,default:1},Wm=n=>Math.round(n*1e5)/1e5,eM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pD(n){return n==null}const mD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tM=(n,e)=>t=>!!(typeof t=="string"&&mD.test(t)&&t.startsWith(n)||e&&!pD(t)&&Object.prototype.hasOwnProperty.call(t,e)),a4=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,o,u,h]=i.match(eM);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},gD=n=>xo(0,255,n),Rb={...Gd,transform:n=>Math.round(gD(n))},Sf={test:tM("rgb","red"),parse:a4("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Rb.transform(n)+", "+Rb.transform(e)+", "+Rb.transform(t)+", "+Wm(l0.transform(i))+")"};function vD(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const q_={test:tM("#"),parse:vD,transform:Sf.transform},I0=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),$c=I0("deg"),rl=I0("%"),_t=I0("px"),yD=I0("vh"),xD=I0("vw"),yw={...rl,parse:n=>rl.parse(n)/100,transform:n=>rl.transform(n*100)},yd={test:tM("hsl","hue"),parse:a4("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+rl.transform(Wm(e))+", "+rl.transform(Wm(t))+", "+Wm(l0.transform(i))+")"},ts={test:n=>Sf.test(n)||q_.test(n)||yd.test(n),parse:n=>Sf.test(n)?Sf.parse(n):yd.test(n)?yd.parse(n):q_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Sf.transform(n):yd.transform(n),getAnimatableNone:n=>{const e=ts.parse(n);return e.alpha=0,ts.transform(e)}},bD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _D(n){return isNaN(n)&&typeof n=="string"&&(n.match(eM)?.length||0)+(n.match(bD)?.length||0)>0}const r4="number",o4="color",SD="var",MD="var(",xw="${}",wD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function c0(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(wD,d=>(ts.test(d)?(i.color.push(o),a.push(o4),t.push(ts.parse(d))):d.startsWith(MD)?(i.var.push(o),a.push(SD),t.push(d)):(i.number.push(o),a.push(r4),t.push(parseFloat(d))),++o,xw)).split(xw);return{values:t,split:h,indexes:i,types:a}}function l4(n){return c0(n).values}function c4(n){const{split:e,types:t}=c0(n),i=e.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],a[u]!==void 0){const h=t[u];h===r4?o+=Wm(a[u]):h===o4?o+=ts.transform(a[u]):o+=a[u]}return o}}const TD=n=>typeof n=="number"?0:ts.test(n)?ts.getAnimatableNone(n):n;function ED(n){const e=l4(n);return c4(n)(e.map(TD))}const lu={test:_D,parse:l4,createTransformer:c4,getAnimatableNone:ED};function Nb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function AD({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,o=0,u=0;if(!e)a=o=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,d=2*t-h;a=Nb(d,h,n+1/3),o=Nb(d,h,n),u=Nb(d,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function Xy(n,e){return t=>t>0?e:n}const wi=(n,e,t)=>n+(e-n)*t,Db=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},CD=[q_,Sf,yd],RD=n=>CD.find(e=>e.test(n));function bw(n){const e=RD(n);if(!e)return!1;let t=e.parse(n);return e===yd&&(t=AD(t)),t}const _w=(n,e)=>{const t=bw(n),i=bw(e);if(!t||!i)return Xy(n,e);const a={...t};return o=>(a.red=Db(t.red,i.red,o),a.green=Db(t.green,i.green,o),a.blue=Db(t.blue,i.blue,o),a.alpha=wi(t.alpha,i.alpha,o),Sf.transform(a))},Y_=new Set(["none","hidden"]);function ND(n,e){return Y_.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function DD(n,e){return t=>wi(n,e,t)}function nM(n){return typeof n=="number"?DD:typeof n=="string"?$S(n)?Xy:ts.test(n)?_w:PD:Array.isArray(n)?u4:typeof n=="object"?ts.test(n)?_w:LD:Xy}function u4(n,e){const t=[...n],i=t.length,a=n.map((o,u)=>nM(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)t[u]=a[u](o);return t}}function LD(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=nM(n[a])(n[a],e[a]));return a=>{for(const o in i)t[o]=i[o](a);return t}}function ID(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],u=n.indexes[o][i[o]],h=n.values[u]??0;t[a]=h,i[o]++}return t}const PD=(n,e)=>{const t=lu.createTransformer(e),i=c0(n),a=c0(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Y_.has(n)&&!a.values.length||Y_.has(e)&&!i.values.length?ND(n,e):D0(u4(ID(i,a),a.values),t):Xy(n,e)};function f4(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?wi(n,e,t):nM(n)(n,e)}const UD=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>zn.update(e,t),stop:()=>bo(e),now:()=>ys.isProcessing?ys.timestamp:va.now()}},h4=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)i+=Math.round(n(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},qy=2e4;function iM(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<qy;)e+=t,i=n.next(e);return e>=qy?1/0:e}function OD(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(iM(i),qy);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:Br(a)}}const zD=5;function d4(n,e,t){const i=Math.max(e-zD,0);return KS(t-n(i),e-i)}const Pi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lb=.001;function BD({duration:n=Pi.duration,bounce:e=Pi.bounce,velocity:t=Pi.velocity,mass:i=Pi.mass}){let a,o,u=1-e;u=xo(Pi.minDamping,Pi.maxDamping,u),n=xo(Pi.minDuration,Pi.maxDuration,Br(n)),u<1?(a=p=>{const y=p*u,v=y*n,x=y-t,S=Z_(p,u),T=Math.exp(-v);return Lb-x/S*T},o=p=>{const v=p*u*n,x=v*t+t,S=Math.pow(u,2)*Math.pow(p,2)*n,T=Math.exp(-v),C=Z_(Math.pow(p,2),u);return(-a(p)+Lb>0?-1:1)*((x-S)*T)/C}):(a=p=>{const y=Math.exp(-p*n),v=(p-t)*n+1;return-Lb+y*v},o=p=>{const y=Math.exp(-p*n),v=(t-p)*(n*n);return y*v});const h=5/n,d=kD(a,o,h);if(n=Jl(n),isNaN(d))return{stiffness:Pi.stiffness,damping:Pi.damping,duration:n};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const FD=12;function kD(n,e,t){let i=t;for(let a=1;a<FD;a++)i=i-n(i)/e(i);return i}function Z_(n,e){return n*Math.sqrt(1-e*e)}const VD=["duration","bounce"],HD=["stiffness","damping","mass"];function Sw(n,e){return e.some(t=>n[t]!==void 0)}function GD(n){let e={velocity:Pi.velocity,stiffness:Pi.stiffness,damping:Pi.damping,mass:Pi.mass,isResolvedFromDuration:!1,...n};if(!Sw(n,HD)&&Sw(n,VD))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,o=2*xo(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Pi.mass,stiffness:a,damping:o}}else{const t=BD(n);e={...e,...t,mass:Pi.mass},e.isResolvedFromDuration=!0}return e}function Yy(n=Pi.visualDuration,e=Pi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const o=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:p,mass:y,duration:v,velocity:x,isResolvedFromDuration:S}=GD({...t,velocity:-Br(t.velocity||0)}),T=x||0,C=p/(2*Math.sqrt(d*y)),A=u-o,M=Br(Math.sqrt(d/y)),N=Math.abs(A)<5;i||(i=N?Pi.restSpeed.granular:Pi.restSpeed.default),a||(a=N?Pi.restDelta.granular:Pi.restDelta.default);let D;if(C<1){const z=Z_(M,C);D=F=>{const k=Math.exp(-C*M*F);return u-k*((T+C*M*A)/z*Math.sin(z*F)+A*Math.cos(z*F))}}else if(C===1)D=z=>u-Math.exp(-M*z)*(A+(T+M*A)*z);else{const z=M*Math.sqrt(C*C-1);D=F=>{const k=Math.exp(-C*M*F),j=Math.min(z*F,300);return u-k*((T+C*M*A)*Math.sinh(j)+z*A*Math.cosh(j))/z}}const I={calculatedDuration:S&&v||null,next:z=>{const F=D(z);if(S)h.done=z>=v;else{let k=z===0?T:0;C<1&&(k=z===0?Jl(T):d4(D,z,F));const j=Math.abs(k)<=i,U=Math.abs(u-F)<=a;h.done=j&&U}return h.value=h.done?u:F,h},toString:()=>{const z=Math.min(iM(I),qy),F=h4(k=>I.next(z*k).value,z,30);return z+"ms "+F},toTransition:()=>{}};return I}Yy.applyToOptions=n=>{const e=OD(n,100,Yy);return n.ease=e.ease,n.duration=Jl(e.duration),n.type="keyframes",n};function K_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=n[0],x={done:!1,value:v},S=j=>h!==void 0&&j<h||d!==void 0&&j>d,T=j=>h===void 0?d:d===void 0||Math.abs(h-j)<Math.abs(d-j)?h:d;let C=t*e;const A=v+C,M=u===void 0?A:u(A);M!==A&&(C=M-v);const N=j=>-C*Math.exp(-j/i),D=j=>M+N(j),I=j=>{const U=N(j),B=D(j);x.done=Math.abs(U)<=p,x.value=x.done?M:B};let z,F;const k=j=>{S(x.value)&&(z=j,F=Yy({keyframes:[x.value,T(x.value)],velocity:d4(D,j,x.value),damping:a,stiffness:o,restDelta:p,restSpeed:y}))};return k(0),{calculatedDuration:null,next:j=>{let U=!1;return!F&&z===void 0&&(U=!0,I(j),k(j)),z!==void 0&&j>=z?F.next(j-z):(!U&&I(j),x)}}}function jD(n,e,t){const i=[],a=t||ec.mix||f4,o=n.length-1;for(let u=0;u<o;u++){let h=a(n[u],n[u+1]);if(e){const d=Array.isArray(e)?e[u]||qa:e;h=D0(d,h)}i.push(h)}return i}function sM(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const o=n.length;if(o0(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=jD(e,i,a),d=h.length,p=y=>{if(u&&y<n[0])return e[0];let v=0;if(d>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const x=Rd(n[v],n[v+1],y);return h[v](x)};return t?y=>p(xo(n[0],n[o-1],y)):p}function WD(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=Rd(0,e,i);n.push(wi(t,1,a))}}function p4(n){const e=[0];return WD(e,n.length-1),e}function XD(n,e){return n.map(t=>t*e)}function qD(n,e){return n.map(()=>e||e4).splice(0,n.length-1)}function Xm({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=rD(i)?i.map(gw):gw(i),o={done:!1,value:e[0]},u=XD(t&&t.length===e.length?t:p4(e),n),h=sM(u,e,{ease:Array.isArray(a)?a:qD(e,a)});return{calculatedDuration:n,next:d=>(o.value=h(d),o.done=d>=n,o)}}const YD=n=>n!==null;function aM(n,{repeat:e,repeatType:t="loop"},i,a=1){const o=n.filter(YD),h=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const ZD={decay:K_,inertia:K_,tween:Xm,keyframes:Xm,spring:Yy};function m4(n){typeof n.type=="string"&&(n.type=ZD[n.type])}class rM{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const KD=n=>n/100;class tx extends rM{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==va.now()&&this.tick(va.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;m4(e);const{type:t=Xm,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const d=t||Xm;d!==Xm&&typeof h[0]!="number"&&(this.mixKeyframes=D0(KD,f4(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=iM(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:x,repeatDelay:S,type:T,onUpdate:C,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?M<0:M>a;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let D=this.currentTime,I=i;if(v){const j=Math.min(this.currentTime,a)/h;let U=Math.floor(j),B=j%1;!B&&j>=1&&(B=1),B===1&&U--,U=Math.min(U,v+1),!!(U%2)&&(x==="reverse"?(B=1-B,S&&(B-=S/h)):x==="mirror"&&(I=u)),D=xo(0,1,B)*h}const z=N?{done:!1,value:y[0]}:I.next(D);o&&(z.value=o(z.value));let{done:F}=z;!N&&d!==null&&(F=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return k&&T!==K_&&(z.value=aM(y,this.options,A,this.speed)),C&&C(z.value),k&&this.finish(),z}then(e,t){return this.finished.then(e,t)}get duration(){return Br(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Br(e)}get time(){return Br(this.currentTime)}set time(e){e=Jl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(va.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Br(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=UD,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(va.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function QD(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Mf=n=>n*180/Math.PI,Q_=n=>{const e=Mf(Math.atan2(n[1],n[0]));return J_(e)},JD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Q_,rotateZ:Q_,skewX:n=>Mf(Math.atan(n[1])),skewY:n=>Mf(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},J_=n=>(n=n%360,n<0&&(n+=360),n),Mw=Q_,ww=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Tw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),$D={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ww,scaleY:Tw,scale:n=>(ww(n)+Tw(n))/2,rotateX:n=>J_(Mf(Math.atan2(n[6],n[5]))),rotateY:n=>J_(Mf(Math.atan2(-n[2],n[0]))),rotateZ:Mw,rotate:Mw,skewX:n=>Mf(Math.atan(n[4])),skewY:n=>Mf(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function $_(n){return n.includes("scale")?1:0}function eS(n,e){if(!n||n==="none")return $_(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=$D,a=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=JD,a=h}if(!a)return $_(e);const o=i[e],u=a[1].split(",").map(t6);return typeof o=="function"?o(u):u[o]}const e6=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return eS(t,e)};function t6(n){return parseFloat(n.trim())}const jd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wd=new Set(jd),Ew=n=>n===Gd||n===_t,n6=new Set(["x","y","z"]),i6=jd.filter(n=>!n6.has(n));function s6(n){const e=[];return i6.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const iu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>eS(e,"x"),y:(n,{transform:e})=>eS(e,"y")};iu.translateX=iu.x;iu.translateY=iu.y;const Cf=new Set;let tS=!1,nS=!1,iS=!1;function g4(){if(nS){const n=Array.from(Cf).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=s6(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}nS=!1,tS=!1,Cf.forEach(n=>n.complete(iS)),Cf.clear()}function v4(){Cf.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(nS=!0)})}function a6(){iS=!0,v4(),g4(),iS=!1}class oM{constructor(e,t,i,a,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Cf.add(this),tS||(tS=!0,zn.read(v4),zn.resolveKeyframes(g4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const o=a?.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&o===void 0&&a.set(e[0])}QD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Cf.delete(this)}cancel(){this.state==="scheduled"&&(Cf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r6=n=>n.startsWith("--");function o6(n,e,t){r6(e)?n.style.setProperty(e,t):n.style[e]=t}const y4=YS(()=>window.ScrollTimeline!==void 0),l6={};function c6(n,e){const t=YS(n);return()=>l6[e]??t()}const x4=c6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),km=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Aw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:km([0,.65,.55,1]),circOut:km([.55,0,1,.45]),backIn:km([.31,.01,.66,-.59]),backOut:km([.33,1.53,.69,.99])};function b4(n,e){if(n)return typeof n=="function"?x4()?h4(n,e):"ease-out":t4(n)?km(n):Array.isArray(n)?n.map(t=>b4(t,e)||Aw.easeOut):Aw[n]}function u6(n,e,t,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:t};d&&(y.offset=d);const v=b4(h,a);Array.isArray(v)&&(y.easing=v);const x={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(y,x)}function _4(n){return typeof n=="function"&&"applyToOptions"in n}function f6({type:n,...e}){return _4(n)&&x4()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class h6 extends rM{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,o0(typeof e.type!="string");const p=f6(e);this.animation=u6(t,i,a,p,o),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=aM(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):o6(t,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Br(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Br(e)}get time(){return Br(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Jl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&y4()?(this.animation.timeline=e,qa):t(this)}}const S4={anticipate:QA,backInOut:KA,circInOut:$A};function d6(n){return n in S4}function p6(n){typeof n.ease=="string"&&d6(n.ease)&&(n.ease=S4[n.ease])}const Ib=10;class m6 extends h6{constructor(e){p6(e),m4(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:o,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new tx({...u,autoplay:!1}),d=Math.max(Ib,va.now()-this.startTime),p=xo(0,Ib,d-Ib);t.setWithVelocity(h.sample(Math.max(0,d-p)).value,h.sample(d).value,p),h.stop()}}const Cw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(lu.test(n)||n==="0")&&!n.startsWith("url("));function g6(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function v6(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],u=Cw(a,e),h=Cw(o,e);return!u||!h?!1:g6(n)||(t==="spring"||_4(t))&&i}function sS(n){n.duration=0,n.type="keyframes"}const y6=new Set(["opacity","clipPath","filter","transform"]),x6=YS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function b6(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:o,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return x6()&&t&&y6.has(t)&&(t!=="transform"||!p)&&!d&&!i&&a!=="mirror"&&o!==0&&u!=="inertia"}const _6=40;class S6 extends rM{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=va.now();const x={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:o,repeatType:u,name:d,motionValue:p,element:y,...v},S=y?.KeyframeResolver||oM;this.keyframeResolver=new S(h,(T,C,A)=>this.onKeyframesResolved(T,C,x,!A),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=i;this.resolvedAt=va.now(),v6(e,o,u,h)||((ec.instantAnimations||!d)&&y?.(aM(e,i,t)),e[0]=e[e.length-1],sS(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>_6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},S=!p&&b6(x),T=x.motionValue?.owner?.current,C=S?new m6({...x,element:T}):new tx(x);C.finished.then(()=>{this.notifyFinished()}).catch(qa),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),a6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function M4(n,e,t,i=0,a=1){const o=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(o,u):a===1?o*i:h-o*i}const M6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w6(n){const e=M6.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function w4(n,e,t=1){const[i,a]=w6(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return GA(u)?parseFloat(u):u}return $S(a)?w4(a,e,t+1):a}const T6={type:"spring",stiffness:500,damping:25,restSpeed:10},E6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),A6={type:"keyframes",duration:.8},C6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R6=(n,{keyframes:e})=>e.length>2?A6:Wd.has(n)?n.startsWith("scale")?E6(e[1]):T6:C6,N6=n=>n!==null;function D6(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(N6),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[o]}function lM(n,e){return n?.[e]??n?.default??n}function L6({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const cM=(n,e,t,i={},a,o)=>u=>{const h=lM(i,n)||{},d=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Jl(d);const y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:a};L6(h)||Object.assign(y,R6(n,y)),y.duration&&(y.duration=Jl(y.duration)),y.repeatDelay&&(y.repeatDelay=Jl(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(sS(y),y.delay===0&&(v=!0)),(ec.instantAnimations||ec.skipAnimations)&&(v=!0,sS(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const x=D6(y.keyframes,h);if(x!==void 0){zn.update(()=>{y.onUpdate(x),y.onComplete()});return}}return h.isSync?new tx(y):new S6(y)};function Rw(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function uM(n,e,t,i){if(typeof e=="function"){const[a,o]=Rw(i);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=Rw(i);e=e(t!==void 0?t:n.custom,a,o)}return e}function Ed(n,e,t){const i=n.getProps();return uM(i,e,t!==void 0?t:i.custom,n)}const T4=new Set(["width","height","top","left","right","bottom",...jd]),Nw=30,I6=n=>!isNaN(parseFloat(n)),qm={current:void 0};class P6{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=va.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=va.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=I6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ZS);const i=this.events[e].add(t);return e==="change"?()=>{i(),zn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return qm.current&&qm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=va.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Nw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Nw);return KS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function go(n,e){return new P6(n,e)}const aS=n=>Array.isArray(n);function U6(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,go(t))}function O6(n){return aS(n)?n[n.length-1]||0:n}function z6(n,e){const t=Ed(n,e);let{transitionEnd:i={},transition:a={},...o}=t||{};o={...o,...i};for(const u in o){const h=O6(o[u]);U6(n,u,h)}}const bs=n=>!!(n&&n.getVelocity);function B6(n){return!!(bs(n)&&n.add)}function rS(n,e){const t=n.getValue("willChange");if(B6(t))return t.add(e);if(!t&&ec.WillChange){const i=new ec.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function fM(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const F6="framerAppearId",E4="data-"+fM(F6);function A4(n){return n.props[E4]}function k6({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function C4(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(o=i);const d=[],p=a&&n.animationState&&n.animationState.getState()[a];for(const y in h){const v=n.getValue(y,n.latestValues[y]??null),x=h[y];if(x===void 0||p&&k6(p,y))continue;const S={delay:t,...lM(o||{},y)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===T&&!S.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=A4(n);if(M){const N=window.MotionHandoffAnimation(M,y,zn);N!==null&&(S.startTime=N,C=!0)}}rS(n,y),v.start(cM(y,v,x,n.shouldReduceMotion&&T4.has(y)?{type:!1}:S,n,C));const A=v.animation;A&&d.push(A)}return u&&Promise.all(d).then(()=>{zn.update(()=>{u&&z6(n,u)})}),d}function oS(n,e,t={}){const i=Ed(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const o=i?()=>Promise.all(C4(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return V6(n,e,d,p,y,v,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>p())}else return Promise.all([o(),u(t.delay)])}function V6(n,e,t=0,i=0,a=0,o=1,u){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",e),h.push(oS(d,e,{...u,delay:t+(typeof i=="function"?0:i)+M4(n.variantChildren,d,i,a,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function H6(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>oS(n,o,t));i=Promise.all(a)}else if(typeof e=="string")i=oS(n,e,t);else{const a=typeof e=="function"?Ed(n,e,t.custom):e;i=Promise.all(C4(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const G6={test:n=>n==="auto",parse:n=>n},R4=n=>e=>e.test(n),N4=[Gd,_t,rl,$c,xD,yD,G6],Dw=n=>N4.find(R4(n));function j6(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||WA(n):!0}const W6=new Set(["brightness","contrast","saturate","opacity"]);function X6(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(eM)||[];if(!i)return n;const a=t.replace(i,"");let o=W6.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+a+")"}const q6=/\b([a-z-]*)\(.*?\)/gu,lS={...lu,getAnimatableNone:n=>{const e=n.match(q6);return e?e.map(X6).join(" "):n}},Lw={...Gd,transform:Math.round},Y6={rotate:$c,rotateX:$c,rotateY:$c,rotateZ:$c,scale:Lv,scaleX:Lv,scaleY:Lv,scaleZ:Lv,skew:$c,skewX:$c,skewY:$c,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:l0,originX:yw,originY:yw,originZ:_t},hM={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,top:_t,right:_t,bottom:_t,left:_t,inset:_t,insetBlock:_t,insetBlockStart:_t,insetBlockEnd:_t,insetInline:_t,insetInlineStart:_t,insetInlineEnd:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,paddingBlock:_t,paddingBlockStart:_t,paddingBlockEnd:_t,paddingInline:_t,paddingInlineStart:_t,paddingInlineEnd:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,marginBlock:_t,marginBlockStart:_t,marginBlockEnd:_t,marginInline:_t,marginInlineStart:_t,marginInlineEnd:_t,backgroundPositionX:_t,backgroundPositionY:_t,...Y6,zIndex:Lw,fillOpacity:l0,strokeOpacity:l0,numOctaves:Lw},Z6={...hM,color:ts,backgroundColor:ts,outlineColor:ts,fill:ts,stroke:ts,borderColor:ts,borderTopColor:ts,borderRightColor:ts,borderBottomColor:ts,borderLeftColor:ts,filter:lS,WebkitFilter:lS},D4=n=>Z6[n];function L4(n,e){let t=D4(n);return t!==lS&&(t=lu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const K6=new Set(["auto","none","0"]);function Q6(n,e,t){let i=0,a;for(;i<n.length&&!a;){const o=n[i];typeof o=="string"&&!K6.has(o)&&c0(o).values.length&&(a=n[i]),i++}if(a&&t)for(const o of e)n[o]=L4(t,a)}class J6 extends oM{constructor(e,t,i,a,o){super(e,t,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),$S(v))){const x=w4(v,t.current);x!==void 0&&(e[y]=x),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!T4.has(i)||e.length!==2)return;const[a,o]=e,u=Dw(a),h=Dw(o),d=vw(a),p=vw(o);if(d!==p&&iu[i]){this.needsMeasurement=!0;return}if(u!==h)if(Ew(u)&&Ew(h))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else iu[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||j6(e[a]))&&i.push(a);i.length&&Q6(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=iu[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=iu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function I4(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const a=document.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const P4=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function dM(n){return jA(n)&&"offsetHeight"in n}const{schedule:pM}=n4(queueMicrotask,!1),po={x:!1,y:!1};function U4(){return po.x||po.y}function $6(n){return n==="x"||n==="y"?po[n]?null:(po[n]=!0,()=>{po[n]=!1}):po.x||po.y?null:(po.x=po.y=!0,()=>{po.x=po.y=!1})}function O4(n,e){const t=I4(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function Iw(n){return!(n.pointerType==="touch"||U4())}function e2(n,e,t={}){const[i,a,o]=O4(n,t),u=h=>{if(!Iw(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{Iw(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),o}const z4=(n,e)=>e?n===e?!0:z4(n,e.parentElement):!1,mM=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,t2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function B4(n){return t2.has(n.tagName)||n.isContentEditable===!0}const Py=new WeakSet;function Pw(n){return e=>{e.key==="Enter"&&n(e)}}function Pb(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const n2=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Pw(()=>{if(Py.has(t))return;Pb(t,"down");const a=Pw(()=>{Pb(t,"up")}),o=()=>Pb(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Uw(n){return mM(n)&&!U4()}function i2(n,e,t={}){const[i,a,o]=O4(n,t),u=h=>{const d=h.currentTarget;if(!Uw(h))return;Py.add(d);const p=e(d,h),y=(S,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Py.has(d)&&Py.delete(d),Uw(S)&&typeof p=="function"&&p(S,{success:T})},v=S=>{y(S,d===window||d===document||t.useGlobalTarget||z4(d,S.target))},x=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",x,a)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),dM(h)&&(h.addEventListener("focus",p=>n2(p,a)),!B4(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function gM(n){return jA(n)&&"ownerSVGElement"in n}const Uy=new WeakMap;let Oy;const F4=(n,e,t)=>(i,a)=>a&&a[0]?a[0][n+"Size"]:gM(i)&&"getBBox"in i?i.getBBox()[e]:i[t],s2=F4("inline","width","offsetWidth"),a2=F4("block","height","offsetHeight");function r2({target:n,borderBoxSize:e}){Uy.get(n)?.forEach(t=>{t(n,{get width(){return s2(n,e)},get height(){return a2(n,e)}})})}function o2(n){n.forEach(r2)}function l2(){typeof ResizeObserver>"u"||(Oy=new ResizeObserver(o2))}function c2(n,e){Oy||l2();const t=I4(n);return t.forEach(i=>{let a=Uy.get(i);a||(a=new Set,Uy.set(i,a)),a.add(e),Oy?.observe(i)}),()=>{t.forEach(i=>{const a=Uy.get(i);a?.delete(e),a?.size||Oy?.unobserve(i)})}}const zy=new Set;let xd;function u2(){xd=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};zy.forEach(e=>e(n))},window.addEventListener("resize",xd)}function f2(n){return zy.add(n),xd||u2(),()=>{zy.delete(n),!zy.size&&typeof xd=="function"&&(window.removeEventListener("resize",xd),xd=void 0)}}function h2(n,e){return typeof n=="function"?f2(n):c2(n,e)}function k4(n,e){let t;const i=()=>{const{currentTime:a}=e,u=(a===null?0:a.value)/100;t!==u&&n(u),t=u};return zn.preUpdate(i,!0),()=>bo(i)}function d2(n){return gM(n)&&n.tagName==="svg"}function p2(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],a=n[1+t],o=n[2+t],u=n[3+t],h=sM(a,o,u);return e?h(i):h}function m2(n,e,t){const i=n.get();let a=null,o=i,u;const h=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,d=()=>{a&&(a.stop(),a=null)},p=()=>{d(),a=new tx({keyframes:[zw(n.get()),zw(o)],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:u})};if(n.attach((y,v)=>{o=y,u=x=>v(Ow(x,h)),zn.postRender(()=>{p(),n.events.animationStart?.notify(),a?.then(()=>{n.events.animationComplete?.notify()})})},d),bs(e)){const y=e.on("change",x=>n.set(Ow(x,h))),v=n.on("destroy",y);return()=>{y(),v()}}return d}function Ow(n,e){return e?n+e:n}function zw(n){return typeof n=="number"?n:parseFloat(n)}const g2=[...N4,ts,lu],v2=n=>g2.find(R4(n)),Bw=()=>({translate:0,scale:1,origin:0,originPoint:0}),bd=()=>({x:Bw(),y:Bw()}),Fw=()=>({min:0,max:0}),cs=()=>({x:Fw(),y:Fw()}),cS={current:null},V4={current:!1},y2=typeof window<"u";function x2(){if(V4.current=!0,!!y2)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>cS.current=n.matches;n.addEventListener("change",e),e()}else cS.current=!1}const b2=new WeakMap;function nx(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function u0(n){return typeof n=="string"||Array.isArray(n)}const vM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yM=["initial",...vM];function ix(n){return nx(n.animate)||yM.some(e=>u0(n[e]))}function H4(n){return!!(ix(n)||n.variants)}function _2(n,e,t){for(const i in e){const a=e[i],o=t[i];if(bs(a))n.addValue(i,a);else if(bs(o))n.addValue(i,go(a,{owner:n}));else if(o!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,go(u!==void 0?u:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const kw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Zy={};function G4(n){Zy=n}function S2(){return Zy}class M2{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=va.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,zn.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=ix(t),this.isVariantNode=H4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in v){const S=v[x];d[x]!==void 0&&bs(S)&&S.set(d[x])}}mount(e){this.current=e,b2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(V4.current||x2(),this.shouldReduceMotion=cS.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bo(this.notifyUpdate),bo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Wd.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&zn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zy){const t=Zy[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<kw.length;i++){const a=kw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=_2(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=go(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(GA(i)||WA(i))?i=parseFloat(i):!v2(i)&&lu.test(t)&&(i=L4(e,t)),this.setBaseTarget(e,bs(i)?i.get():i)),bs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=uM(this.props,t,this.presenceContext?.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!bs(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ZS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){pM.render(this.render)}}class j4 extends M2{constructor(){super(...arguments),this.KeyframeResolver=J6}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const i=e.style;return i?i[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class du{constructor(e){this.isMounted=!1,this.node=e}update(){}}function W4({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function w2({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function T2(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Ub(n){return n===void 0||n===1}function uS({scale:n,scaleX:e,scaleY:t}){return!Ub(n)||!Ub(e)||!Ub(t)}function xf(n){return uS(n)||X4(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function X4(n){return Vw(n.x)||Vw(n.y)}function Vw(n){return n&&n!=="0%"}function Ky(n,e,t){const i=n-t,a=e*i;return t+a}function Hw(n,e,t,i,a){return a!==void 0&&(n=Ky(n,a,i)),Ky(n,t,i)+e}function fS(n,e=0,t=1,i,a){n.min=Hw(n.min,e,t,i,a),n.max=Hw(n.max,e,t,i,a)}function q4(n,{x:e,y:t}){fS(n.x,e.translate,e.scale,e.originPoint),fS(n.y,t.translate,t.scale,t.originPoint)}const Gw=.999999999999,jw=1.0000000000001;function E2(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,u;for(let h=0;h<a;h++){o=t[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Sd(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,q4(n,u)),i&&xf(o.latestValues)&&Sd(n,o.latestValues))}e.x<jw&&e.x>Gw&&(e.x=1),e.y<jw&&e.y>Gw&&(e.y=1)}function _d(n,e){n.min=n.min+e,n.max=n.max+e}function Ww(n,e,t,i,a=.5){const o=wi(n.min,n.max,a);fS(n,e,t,o,i)}function Sd(n,e){Ww(n.x,e.x,e.scaleX,e.scale,e.originX),Ww(n.y,e.y,e.scaleY,e.scale,e.originY)}function Y4(n,e){return W4(T2(n.getBoundingClientRect(),e))}function A2(n,e,t){const i=Y4(n,t),{scroll:a}=e;return a&&(_d(i.x,a.offset.x),_d(i.y,a.offset.y)),i}const C2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R2=jd.length;function N2(n,e,t){let i="",a=!0;for(let o=0;o<R2;o++){const u=jd[o],h=n[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||t){const p=P4(h,hM[u]);if(!d){a=!1;const y=C2[u]||u;i+=`${y}(${p}) `}t&&(e[u]=p)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function xM(n,e,t){const{style:i,vars:a,transformOrigin:o}=n;let u=!1,h=!1;for(const d in e){const p=e[d];if(Wd.has(d)){u=!0;continue}else if(s4(d)){a[d]=p;continue}else{const y=P4(p,hM[d]);d.startsWith("origin")?(h=!0,o[d]=y):i[d]=y}}if(e.transform||(u||t?i.transform=N2(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${p} ${y}`}}function Z4(n,{style:e,vars:t},i,a){const o=n.style;let u;for(u in e)o[u]=e[u];a?.applyProjectionStyles(o,i);for(u in t)o.setProperty(u,t[u])}function Xw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Tm={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(_t.test(n))n=parseFloat(n);else return n;const t=Xw(n,e.target.x),i=Xw(n,e.target.y);return`${t}% ${i}%`}},D2={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=lu.parse(n);if(a.length>5)return i;const o=lu.createTransformer(n),u=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,d=t.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=wi(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),o(a)}},hS={borderRadius:{...Tm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tm,borderTopRightRadius:Tm,borderBottomLeftRadius:Tm,borderBottomRightRadius:Tm,boxShadow:D2};function K4(n,{layout:e,layoutId:t}){return Wd.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!hS[n]||n==="opacity")}function bM(n,e,t){const i=n.style,a=e?.style,o={};if(!i)return o;for(const u in i)(bs(i[u])||a&&bs(a[u])||K4(u,n)||t?.getValue(u)?.liveStyle!==void 0)&&(o[u]=i[u]);return o}function L2(n){return window.getComputedStyle(n)}class I2 extends j4{constructor(){super(...arguments),this.type="html",this.renderInstance=Z4}readValueFromInstance(e,t){if(Wd.has(t))return this.projection?.isProjecting?$_(t):e6(e,t);{const i=L2(e),a=(s4(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Y4(e,t)}build(e,t,i){xM(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return bM(e,t,i)}}const P2={offset:"stroke-dashoffset",array:"stroke-dasharray"},U2={offset:"strokeDashoffset",array:"strokeDasharray"};function O2(n,e,t=1,i=0,a=!0){n.pathLength=1;const o=a?P2:U2;n[o.offset]=_t.transform(-i);const u=_t.transform(e),h=_t.transform(t);n[o.array]=`${u} ${h}`}const z2=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Q4(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...h},d,p,y){if(xM(n,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:x}=n;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const S of z2)v[S]!==void 0&&(x[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),a!==void 0&&O2(v,a,o,u,!1)}const J4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),$4=n=>typeof n=="string"&&n.toLowerCase()==="svg";function B2(n,e,t,i){Z4(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(J4.has(a)?a:fM(a),e.attrs[a])}function eC(n,e,t){const i=bM(n,e,t);for(const a in n)if(bs(n[a])||bs(e[a])){const o=jd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=n[a]}return i}class F2 extends j4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cs}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Wd.has(t)){const i=D4(t);return i&&i.default||0}return t=J4.has(t)?t:fM(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return eC(e,t,i)}build(e,t,i){Q4(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){B2(e,t,i,a)}mount(e){this.isSVGTag=$4(e.tagName),super.mount(e)}}const k2=yM.length;function tC(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?tC(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<k2;t++){const i=yM[t],a=n.props[i];(u0(a)||a===!1)&&(e[i]=a)}return e}function nC(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const V2=[...vM].reverse(),H2=vM.length;function G2(n){return e=>Promise.all(e.map(({animation:t,options:i})=>H6(n,t,i)))}function j2(n){let e=G2(n),t=qw(),i=!0;const a=d=>(p,y)=>{const v=Ed(n,y,d==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:S,...T}=v;p={...p,...T,...S}}return p};function o(d){e=d(n)}function u(d){const{props:p}=n,y=tC(n.parent)||{},v=[],x=new Set;let S={},T=1/0;for(let A=0;A<H2;A++){const M=V2[A],N=t[M],D=p[M]!==void 0?p[M]:y[M],I=u0(D),z=M===d?N.isActive:null;z===!1&&(T=A);let F=D===y[M]&&D!==p[M]&&I;if(F&&i&&n.manuallyAnimateOnMount&&(F=!1),N.protectedKeys={...S},!N.isActive&&z===null||!D&&!N.prevProp||nx(D)||typeof D=="boolean")continue;const k=W2(N.prevProp,D);let j=k||M===d&&N.isActive&&!F&&I||A>T&&I,U=!1;const B=Array.isArray(D)?D:[D];let Y=B.reduce(a(M),{});z===!1&&(Y={});const{prevResolvedValues:ie={}}=N,ee={...ie,...Y},me=K=>{j=!0,x.has(K)&&(U=!0,x.delete(K)),N.needsAnimating[K]=!0;const oe=n.getValue(K);oe&&(oe.liveStyle=!1)};for(const K in ee){const oe=Y[K],Ee=ie[K];if(S.hasOwnProperty(K))continue;let Ce=!1;aS(oe)&&aS(Ee)?Ce=!nC(oe,Ee):Ce=oe!==Ee,Ce?oe!=null?me(K):x.add(K):oe!==void 0&&x.has(K)?me(K):N.protectedKeys[K]=!0}N.prevProp=D,N.prevResolvedValues=Y,N.isActive&&(S={...S,...Y}),i&&n.blockInitialAnimation&&(j=!1);const he=F&&k;j&&(!he||U)&&v.push(...B.map(K=>{const oe={type:M};if(typeof K=="string"&&i&&!he&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ee}=n,Ce=Ed(Ee,K);if(Ee.enteringChildren&&Ce){const{delayChildren:X}=Ce.transition||{};oe.delay=M4(Ee.enteringChildren,n,X)}}return{animation:K,options:oe}}))}if(x.size){const A={};if(typeof p.initial!="boolean"){const M=Ed(n,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(A.transition=M.transition)}x.forEach(M=>{const N=n.getBaseTarget(M),D=n.getValue(M);D&&(D.liveStyle=!0),A[M]=N??null}),v.push({animation:A})}let C=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function h(d,p){if(t[d].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),t[d].isActive=p;const y=u(d);for(const v in t)t[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=qw()}}}function W2(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!nC(e,n):!1}function sf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qw(){return{animate:sf(!0),whileInView:sf(),whileHover:sf(),whileTap:sf(),whileDrag:sf(),whileFocus:sf(),exit:sf()}}function Yw(n,e){n.min=e.min,n.max=e.max}function co(n,e){Yw(n.x,e.x),Yw(n.y,e.y)}function Zw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const iC=1e-4,X2=1-iC,q2=1+iC,sC=.01,Y2=0-sC,Z2=0+sC;function ya(n){return n.max-n.min}function K2(n,e,t){return Math.abs(n-e)<=t}function Kw(n,e,t,i=.5){n.origin=i,n.originPoint=wi(e.min,e.max,n.origin),n.scale=ya(t)/ya(e),n.translate=wi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=X2&&n.scale<=q2||isNaN(n.scale))&&(n.scale=1),(n.translate>=Y2&&n.translate<=Z2||isNaN(n.translate))&&(n.translate=0)}function Ym(n,e,t,i){Kw(n.x,e.x,t.x,i?i.originX:void 0),Kw(n.y,e.y,t.y,i?i.originY:void 0)}function Qw(n,e,t){n.min=t.min+e.min,n.max=n.min+ya(e)}function Q2(n,e,t){Qw(n.x,e.x,t.x),Qw(n.y,e.y,t.y)}function Jw(n,e,t){n.min=e.min-t.min,n.max=n.min+ya(e)}function Qy(n,e,t){Jw(n.x,e.x,t.x),Jw(n.y,e.y,t.y)}function $w(n,e,t,i,a){return n-=e,n=Ky(n,1/t,i),a!==void 0&&(n=Ky(n,1/a,i)),n}function J2(n,e=0,t=1,i=.5,a,o=n,u=n){if(rl.test(e)&&(e=parseFloat(e),e=wi(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=wi(o.min,o.max,i);n===o&&(h-=e),n.min=$w(n.min,e,t,h,a),n.max=$w(n.max,e,t,h,a)}function eT(n,e,[t,i,a],o,u){J2(n,e[t],e[i],e[a],e.scale,o,u)}const $2=["x","scaleX","originX"],eL=["y","scaleY","originY"];function tT(n,e,t,i){eT(n.x,e,$2,t?t.x:void 0,i?i.x:void 0),eT(n.y,e,eL,t?t.y:void 0,i?i.y:void 0)}function nT(n){return n.translate===0&&n.scale===1}function aC(n){return nT(n.x)&&nT(n.y)}function iT(n,e){return n.min===e.min&&n.max===e.max}function tL(n,e){return iT(n.x,e.x)&&iT(n.y,e.y)}function sT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function rC(n,e){return sT(n.x,e.x)&&sT(n.y,e.y)}function aT(n){return ya(n.x)/ya(n.y)}function rT(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function zr(n){return[n("x"),n("y")]}function nL(n,e,t){let i="";const a=n.x.translate/e.x,o=n.y.translate/e.y,u=t?.z||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:x,skewX:S,skewY:T}=t;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),S&&(i+=`skewX(${S}deg) `),T&&(i+=`skewY(${T}deg) `)}const h=n.x.scale*e.x,d=n.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const oC=["TopLeft","TopRight","BottomLeft","BottomRight"],iL=oC.length,oT=n=>typeof n=="string"?parseFloat(n):n,lT=n=>typeof n=="number"||_t.test(n);function sL(n,e,t,i,a,o){a?(n.opacity=wi(0,t.opacity??1,aL(i)),n.opacityExit=wi(e.opacity??1,0,rL(i))):o&&(n.opacity=wi(e.opacity??1,t.opacity??1,i));for(let u=0;u<iL;u++){const h=`border${oC[u]}Radius`;let d=cT(e,h),p=cT(t,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||lT(d)===lT(p)?(n[h]=Math.max(wi(oT(d),oT(p),i),0),(rl.test(p)||rl.test(d))&&(n[h]+="%")):n[h]=p}(e.rotate||t.rotate)&&(n.rotate=wi(e.rotate||0,t.rotate||0,i))}function cT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const aL=lC(0,.5,JA),rL=lC(.5,.95,qa);function lC(n,e,t){return i=>i<n?0:i>e?1:t(Rd(n,e,i))}function oL(n,e,t){const i=bs(n)?n:go(n);return i.start(cM("",i,e,t)),i.animation}function f0(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const lL=(n,e)=>n.depth-e.depth;class cL{constructor(){this.children=[],this.isDirty=!1}add(e){XS(this.children,e),this.isDirty=!0}remove(e){qS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lL),this.isDirty=!1,this.children.forEach(e)}}function uL(n,e){const t=va.now(),i=({timestamp:a})=>{const o=a-t;o>=e&&(bo(i),n(o-e))};return zn.setup(i,!0),()=>bo(i)}function By(n){return bs(n)?n.get():n}class fL{constructor(){this.members=[]}add(e){XS(this.members,e),e.scheduleRender()}remove(e){if(qS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Fy={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ob=["","X","Y","Z"],hL=1e3;let dL=0;function zb(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function cC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=A4(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",zn,!(a||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&cC(i)}function uC({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=dL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gL),this.nodes.forEach(bL),this.nodes.forEach(_L),this.nodes.forEach(vL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new cL)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ZS),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=gM(u)&&!d2(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const x=()=>this.root.updateBlockedByResize=!1;zn.read(()=>{v=window.innerWidth}),n(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=uL(x,250),Fy.hasAnimatedSinceResize&&(Fy.hasAnimatedSinceResize=!1,this.nodes.forEach(hT)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||EL,{onLayoutAnimationStart:C,onLayoutAnimationComplete:A}=p.getProps(),M=!this.targetLayout||!rC(this.targetLayout,S),N=!v&&x;if(this.options.layoutRoot||this.resumeFrom||N||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...lM(T,"layout"),onPlay:C,onComplete:A};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(y,N)}else v||hT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xL),this.nodes.forEach(pL),this.nodes.forEach(mL)):this.nodes.forEach(fT),this.clearAllSnapshots();const h=va.now();ys.delta=xo(0,1e3/60,h-ys.timestamp),ys.timestamp=h,ys.isProcessing=!0,Cb.update.process(ys),Cb.preRender.process(ys),Cb.render.process(ys),ys.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yL),this.sharedNodes.forEach(ML)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ya(this.snapshot.measuredBox.x)&&!ya(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=cs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!aC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||xf(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),AL(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return cs();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(CL))){const{scroll:p}=this.root;p&&(_d(h.x,p.offset.x),_d(h.y,p.offset.y))}return h}removeElementScroll(u){const h=cs();if(co(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&co(h,u),_d(h.x,y.offset.x),_d(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=cs();co(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Sd(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),xf(y.latestValues)&&Sd(d,y.latestValues)}return xf(this.latestValues)&&Sd(d,this.latestValues),d}removeTransform(u){const h=cs();co(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!xf(p.latestValues))continue;uS(p.latestValues)&&p.updateSnapshot();const y=cs(),v=p.measurePageBox();co(y,v),tT(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return xf(this.latestValues)&&tT(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ys.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=ys.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cs(),this.targetWithTransforms=cs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):co(this.target,this.layout.layoutBox),q4(this.target,this.targetDelta)):co(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||uS(this.parent.latestValues)||X4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cs(),this.relativeTargetOrigin=cs(),Qy(this.relativeTargetOrigin,h,d),co(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ys.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;co(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;E2(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=cs());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zw(this.prevProjectionDelta.x,this.projectionDelta.x),Zw(this.prevProjectionDelta.y,this.projectionDelta.y)),Ym(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!rT(this.projectionDelta.x,this.prevProjectionDelta.x)||!rT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bd(),this.projectionDelta=bd(),this.projectionDeltaWithTransform=bd()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=bd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=cs(),S=d?d.source:void 0,T=this.layout?this.layout.source:void 0,C=S!==T,A=this.getStack(),M=!A||A.members.length<=1,N=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(TL));this.animationProgress=0;let D;this.mixTargetDelta=I=>{const z=I/1e3;dT(v.x,u.x,z),dT(v.y,u.y,z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qy(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wL(this.relativeTarget,this.relativeTargetOrigin,x,z),D&&tL(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=cs()),co(D,this.relativeTarget)),C&&(this.animationValues=y,sL(y,p,this.latestValues,z,N,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zn.update(()=>{Fy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=go(0)),this.currentAnimation=oL(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&fC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||cs();const v=ya(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const x=ya(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+x}co(h,d),Sd(h,y),Ym(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new fL),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&zb("z",u,p,this.animationValues);for(let y=0;y<Ob.length;y++)zb(`rotate${Ob[y]}`,u,p,this.animationValues),zb(`skew${Ob[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=By(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=By(h?.pointerEvents)||""),this.hasProjected&&!xf(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=nL(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x,y:S}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in hS){if(y[T]===void 0)continue;const{correct:C,applyTo:A,isCSSVariable:M}=hS[T],N=v==="none"?y[T]:C(y[T],p);if(A){const D=A.length;for(let I=0;I<D;I++)u[A[I]]=N}else M?this.options.visualElement.renderState.vars[T]=N:u[T]=N}this.options.layoutId&&(u.pointerEvents=p===this?By(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(uT),this.root.sharedNodes.clear()}}}function pL(n){n.updateLayout()}function mL(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:a}=n.options,o=e.source!==n.layout.source;a==="size"?zr(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],x=ya(v);v.min=t[y].min,v.max=v.min+x}):fC(a,e.layoutBox,t)&&zr(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],x=ya(t[y]);v.max=v.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+x)});const u=bd();Ym(u,t,e.layoutBox);const h=bd();o?Ym(h,n.applyTransform(i,!0),e.measuredBox):Ym(h,t,e.layoutBox);const d=!aC(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const S=cs();Qy(S,e.layoutBox,v.layoutBox);const T=cs();Qy(T,t,x.layoutBox),rC(S,T)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=S,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function gL(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function vL(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function yL(n){n.clearSnapshot()}function uT(n){n.clearMeasurements()}function fT(n){n.isLayoutDirty=!1}function xL(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function hT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function bL(n){n.resolveTargetDelta()}function _L(n){n.calcProjection()}function SL(n){n.resetSkewAndRotation()}function ML(n){n.removeLeadSnapshot()}function dT(n,e,t){n.translate=wi(e.translate,0,t),n.scale=wi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function pT(n,e,t,i){n.min=wi(e.min,t.min,i),n.max=wi(e.max,t.max,i)}function wL(n,e,t,i){pT(n.x,e.x,t.x,i),pT(n.y,e.y,t.y,i)}function TL(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const EL={duration:.45,ease:[.4,0,.1,1]},mT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),gT=mT("applewebkit/")&&!mT("chrome/")?Math.round:qa;function vT(n){n.min=gT(n.min),n.max=gT(n.max)}function AL(n){vT(n.x),vT(n.y)}function fC(n,e,t){return n==="position"||n==="preserve-aspect"&&!K2(aT(e),aT(t),.2)}function CL(n){return n!==n.root&&n.scroll?.wasRoot}const RL=uC({attachResizeListener:(n,e)=>f0(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bb={current:void 0},hC=uC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Bb.current){const n=new RL({});n.mount(window),n.setOptions({layoutScroll:!0}),Bb.current=n}return Bb.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),P0=de.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function yT(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function NL(...n){return e=>{let t=!1;const i=n.map(a=>{const o=yT(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():yT(n[a],null)}}}}function DL(...n){return de.useCallback(NL(...n),n)}class LL extends de.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,a=dM(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function IL({children:n,isPresent:e,anchorX:t,root:i}){const a=de.useId(),o=de.useRef(null),u=de.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=de.useContext(P0),d=n.props?.ref??n?.ref,p=DL(o,d);return de.useInsertionEffect(()=>{const{width:y,height:v,top:x,left:S,right:T}=u.current;if(e||!o.current||!y||!v)return;const C=t==="left"?`left: ${S}`:`right: ${T}`;o.current.dataset.motionPopId=a;const A=document.createElement("style");h&&(A.nonce=h);const M=i??document.head;return M.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${C}px !important;
            top: ${x}px !important;
          }
        `),()=>{M.contains(A)&&M.removeChild(A)}},[e]),P.jsx(LL,{isPresent:e,childRef:o,sizeRef:u,children:de.cloneElement(n,{ref:p})})}const PL=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h,root:d})=>{const p=ou(UL),y=de.useId();let v=!0,x=de.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:t,custom:a,onExitComplete:S=>{p.set(S,!0);for(const T of p.values())if(!T)return;i&&i()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[t,p,i]);return o&&v&&(x={...x}),de.useMemo(()=>{p.forEach((S,T)=>p.set(T,!1))},[t]),de.useEffect(()=>{!t&&!p.size&&i&&i()},[t]),u==="popLayout"&&(n=P.jsx(IL,{isPresent:t,anchorX:h,root:d,children:n})),P.jsx(ex.Provider,{value:x,children:n})};function UL(){return new Map}function dC(n=!0){const e=de.useContext(ex);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,o=de.useId();de.useEffect(()=>{if(n)return a(o)},[n]);const u=de.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,u]:[!0]}const Iv=n=>n.key||"";function xT(n){const e=[];return de.Children.forEach(n,t=>{de.isValidElement(t)&&e.push(t)}),e}const Lf=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[p,y]=dC(u),v=de.useMemo(()=>xT(n),[n]),x=u&&!p?[]:v.map(Iv),S=de.useRef(!0),T=de.useRef(v),C=ou(()=>new Map),A=de.useRef(new Set),[M,N]=de.useState(v),[D,I]=de.useState(v);$1(()=>{S.current=!1,T.current=v;for(let k=0;k<D.length;k++){const j=Iv(D[k]);x.includes(j)?(C.delete(j),A.current.delete(j)):C.get(j)!==!0&&C.set(j,!1)}},[D,x.length,x.join("-")]);const z=[];if(v!==M){let k=[...v];for(let j=0;j<D.length;j++){const U=D[j],B=Iv(U);x.includes(B)||(k.splice(j,0,U),z.push(U))}return o==="wait"&&z.length&&(k=z),I(xT(k)),N(v),null}const{forceRender:F}=de.useContext(WS);return P.jsx(P.Fragment,{children:D.map(k=>{const j=Iv(k),U=u&&!p?!1:v===D||x.includes(j),B=()=>{if(A.current.has(j))return;if(A.current.add(j),C.has(j))C.set(j,!0);else return;let Y=!0;C.forEach(ie=>{ie||(Y=!1)}),Y&&(F?.(),I(T.current),u&&y?.(),i&&i())};return P.jsx(PL,{isPresent:U,initial:!S.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:d,onExitComplete:U?void 0:B,anchorX:h,children:k},j)})})},pC=de.createContext({strict:!1}),bT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let _T=!1;function OL(){if(_T)return;const n={};for(const e in bT)n[e]={isEnabled:t=>bT[e].some(i=>!!t[i])};G4(n),_T=!0}function mC(){return OL(),S2()}function zL(n){const e=mC();for(const t in n)e[t]={...e[t],...n[t]};G4(e)}const BL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jy(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||BL.has(n)}let gC=n=>!Jy(n);function FL(n){typeof n=="function"&&(gC=e=>e.startsWith("on")?!Jy(e):n(e))}try{FL(require("@emotion/is-prop-valid").default)}catch{}function kL(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(gC(a)||t===!0&&Jy(a)||!e&&!Jy(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const sx=de.createContext({});function VL(n,e){if(ix(n)){const{initial:t,animate:i}=n;return{initial:t===!1||u0(t)?t:void 0,animate:u0(i)?i:void 0}}return n.inherit!==!1?e:{}}function HL(n){const{initial:e,animate:t}=VL(n,de.useContext(sx));return de.useMemo(()=>({initial:e,animate:t}),[ST(e),ST(t)])}function ST(n){return Array.isArray(n)?n.join(" "):n}const _M=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vC(n,e,t){for(const i in e)!bs(e[i])&&!K4(i,t)&&(n[i]=e[i])}function GL({transformTemplate:n},e){return de.useMemo(()=>{const t=_M();return xM(t,e,n),Object.assign({},t.vars,t.style)},[e])}function jL(n,e){const t=n.style||{},i={};return vC(i,t,n),Object.assign(i,GL(n,e)),i}function WL(n,e){const t={},i=jL(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const yC=()=>({..._M(),attrs:{}});function XL(n,e,t,i){const a=de.useMemo(()=>{const o=yC();return Q4(o,e,$4(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};vC(o,n.style,n),a.style={...o,...a.style}}return a}const qL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SM(n){return typeof n!="string"||n.includes("-")?!1:!!(qL.indexOf(n)>-1||/[A-Z]/u.test(n))}function YL(n,e,t,{latestValues:i},a,o=!1,u){const d=(u??SM(n)?XL:WL)(e,i,a,n),p=kL(e,typeof n=="string",o),y=n!==de.Fragment?{...p,...d,ref:t}:{},{children:v}=e,x=de.useMemo(()=>bs(v)?v.get():v,[v]);return de.createElement(n,{...y,children:x})}function ZL({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:KL(t,i,a,n),renderState:e()}}function KL(n,e,t,i){const a={},o=i(n,{});for(const x in o)a[x]=By(o[x]);let{initial:u,animate:h}=n;const d=ix(n),p=H4(n);e&&p&&!d&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=t?t.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!nx(v)){const x=Array.isArray(v)?v:[v];for(let S=0;S<x.length;S++){const T=uM(n,x[S]);if(T){const{transitionEnd:C,transition:A,...M}=T;for(const N in M){let D=M[N];if(Array.isArray(D)){const I=y?D.length-1:0;D=D[I]}D!==null&&(a[N]=D)}for(const N in C)a[N]=C[N]}}}return a}const xC=n=>(e,t)=>{const i=de.useContext(sx),a=de.useContext(ex),o=()=>ZL(n,e,i,a);return t?o():ou(o)},QL=xC({scrapeMotionValuesFromProps:bM,createRenderState:_M}),JL=xC({scrapeMotionValuesFromProps:eC,createRenderState:yC}),$L=Symbol.for("motionComponentSymbol");function e8(n,e,t){const i=de.useRef(t);de.useInsertionEffect(()=>{i.current=t});const a=de.useRef(null);return de.useCallback(o=>{o&&n.onMount?.(o),e&&(o?e.mount(o):e.unmount());const u=i.current;if(typeof u=="function")if(o){const h=u(o);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(o);else u&&(u.current=o)},[e])}const bC=de.createContext({});function Vm(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function t8(n,e,t,i,a,o){const{visualElement:u}=de.useContext(sx),h=de.useContext(pC),d=de.useContext(ex),p=de.useContext(P0).reducedMotion,y=de.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(n,{visualState:e,parent:u,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:o}));const v=y.current,x=de.useContext(bC);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&n8(y.current,t,a,x);const S=de.useRef(!1);de.useInsertionEffect(()=>{v&&S.current&&v.update(t,d)});const T=t[E4],C=de.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return $1(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),C.current&&v.animationState&&v.animationState.animateChanges())}),de.useEffect(()=>{v&&(!C.current&&v.animationState&&v.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),C.current=!1),v.enteringChildren=void 0)}),v}function n8(n,e,t,i){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:_C(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&Vm(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:p})}function _C(n){if(n)return n.options.allowProjection!==!1?n.projection:_C(n.parent)}function Fb(n,{forwardMotionProps:e=!1,type:t}={},i,a){i&&zL(i);const o=t?t==="svg":SM(n),u=o?JL:QL;function h(p,y){let v;const x={...de.useContext(P0),...p,layoutId:i8(p)},{isStatic:S}=x,T=HL(p),C=u(p,S);if(!S&&HA){s8();const A=a8(x);v=A.MeasureLayout,T.visualElement=t8(n,C,x,a,A.ProjectionNode,o)}return P.jsxs(sx.Provider,{value:T,children:[v&&T.visualElement?P.jsx(v,{visualElement:T.visualElement,...x}):null,YL(n,p,e8(C,T.visualElement,y),C,S,e,o)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=de.forwardRef(h);return d[$L]=n,d}function i8({layoutId:n}){const e=de.useContext(WS).id;return e&&n!==void 0?e+"-"+n:n}function s8(n,e){de.useContext(pC).strict}function a8(n){const e=mC(),{drag:t,layout:i}=e;if(!t&&!i)return{};const a={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function r8(n,e){if(typeof Proxy>"u")return Fb;const t=new Map,i=(o,u)=>Fb(o,u,n,e),a=(o,u)=>i(o,u);return new Proxy(a,{get:(o,u)=>u==="create"?i:(t.has(u)||t.set(u,Fb(u,void 0,n,e)),t.get(u))})}const o8=(n,e)=>e.isSVG??SM(n)?new F2(e):new I2(e,{allowProjection:n!==de.Fragment});class l8 extends du{constructor(e){super(e),e.animationState||(e.animationState=j2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let c8=0;class u8 extends du{constructor(){super(...arguments),this.id=c8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const f8={animation:{Feature:l8},exit:{Feature:u8}};function U0(n){return{point:{x:n.pageX,y:n.pageY}}}const h8=n=>e=>mM(e)&&n(e,U0(e));function Zm(n,e,t,i){return f0(n,e,h8(t),i)}const SC=({current:n})=>n?n.ownerDocument.defaultView:null,MT=(n,e)=>Math.abs(n-e);function d8(n,e){const t=MT(n.x,e.x),i=MT(n.y,e.y);return Math.sqrt(t**2+i**2)}const wT=new Set(["auto","scroll"]);class MC{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Vb(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,C=d8(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!C)return;const{point:A}=S,{timestamp:M}=ys;this.history.push({...A,timestamp:M});const{onStart:N,onMove:D}=this.handlers;T||(N&&N(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,S)},this.handlePointerMove=(S,T)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=kb(T,this.transformPagePoint),zn.update(this.updatePoint,!0)},this.handlePointerUp=(S,T)=>{this.end();const{onEnd:C,onSessionEnd:A,resumeAnimation:M}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Vb(S.type==="pointercancel"?this.lastMoveEventInfo:kb(T,this.transformPagePoint),this.history);this.startEvent&&C&&C(S,N),A&&A(S,N)},!mM(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const d=U0(e),p=kb(d,this.transformPagePoint),{point:y}=p,{timestamp:v}=ys;this.history=[{...y,timestamp:v}];const{onSessionStart:x}=t;x&&x(e,Vb(p,this.history)),this.removeListeners=D0(Zm(this.contextWindow,"pointermove",this.handlePointerMove),Zm(this.contextWindow,"pointerup",this.handlePointerUp),Zm(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const i=getComputedStyle(t);(wT.has(i.overflowX)||wT.has(i.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-t.x,y:a.y-t.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),zn.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),bo(this.updatePoint)}}function kb(n,e){return e?{point:e(n.point)}:n}function TT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Vb({point:n},e){return{point:n,delta:TT(n,wC(e)),offset:TT(n,p8(e)),velocity:m8(e,.1)}}function p8(n){return n[0]}function wC(n){return n[n.length-1]}function m8(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=wC(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>Jl(e)));)t--;if(!i)return{x:0,y:0};const o=Br(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function g8(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?wi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?wi(t,n,i.max):Math.min(n,t)),n}function ET(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function v8(n,{top:e,left:t,bottom:i,right:a}){return{x:ET(n.x,t,a),y:ET(n.y,e,i)}}function AT(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function y8(n,e){return{x:AT(n.x,e.x),y:AT(n.y,e.y)}}function x8(n,e){let t=.5;const i=ya(n),a=ya(e);return a>i?t=Rd(e.min,e.max-i,n.min):i>a&&(t=Rd(n.min,n.max-a,e.min)),xo(0,1,t)}function b8(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const dS=.35;function _8(n=dS){return n===!1?n=0:n===!0&&(n=dS),{x:CT(n,"left","right"),y:CT(n,"top","bottom")}}function CT(n,e,t){return{min:RT(n,e),max:RT(n,t)}}function RT(n,e){return typeof n=="number"?n:n[e]||0}const S8=new WeakMap;class M8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{t?(this.stopAnimation(),this.snapToCursor(U0(v).point)):this.pauseAnimation()},u=(v,x)=>{this.stopAnimation();const{drag:S,dragPropagation:T,onDragStart:C}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$6(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zr(M=>{let N=this.getAxisMotionValue(M).get()||0;if(rl.test(N)){const{projection:D}=this.visualElement;if(D&&D.layout){const I=D.layout.layoutBox[M];I&&(N=ya(I)*(parseFloat(N)/100))}}this.originPoint[M]=N}),C&&zn.postRender(()=>C(v,x)),rS(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:C,onDrag:A}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:M}=x;if(T&&this.currentDirection===null){this.currentDirection=w8(M),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,M),this.updateAxis("y",x.point,M),this.visualElement.render(),A&&A(v,x)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>zr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new MC(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:SC(this.visualElement),element:this.visualElement.current})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&zn.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!Pv(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=g8(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Vm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=v8(i.layoutBox,e):this.constraints=!1,this.elastic=_8(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=b8(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Vm(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=A2(i,a.root,this.visualElement.getTransformPagePoint());let u=y8(a.layout.layoutBox,o);if(t){const h=t(w2(u));this.hasMutatedConstraints=!!h,h&&(u=W4(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=zr(y=>{if(!Pv(y,t,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const x=a?200:1e6,S=a?40:1e7,T={type:"inertia",velocity:i?e[y]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,T)});return Promise.all(p).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return rS(this.visualElement,e),i.start(cM(e,i,0,t,this.visualElement,!1))}stopAnimation(){zr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){zr(t=>{const{drag:i}=this.getProps();if(!Pv(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[t],d=o.get()||0;o.set(e[t]-wi(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Vm(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};zr(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=x8({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),zr(u=>{if(!Pv(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(wi(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;S8.set(this.visualElement,this);const e=this.visualElement.current,t=Zm(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&!B4(d.target)&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Vm(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),zn.read(i);const u=f0(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(zr(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=dS,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function Pv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function w8(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class T8 extends du{constructor(e){super(e),this.removeGroupControls=qa,this.removeListeners=qa,this.controls=new M8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qa}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const NT=n=>(e,t)=>{n&&zn.postRender(()=>n(e,t))};class E8 extends du{constructor(){super(...arguments),this.removePointerDownListener=qa}onPointerDown(e){this.session=new MC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:NT(e),onStart:NT(t),onMove:i,onEnd:(o,u)=>{delete this.session,a&&zn.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Zm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Hb=!1;class A8 extends de.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),i&&i.register&&a&&i.register(o),Hb&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Fy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,Hb=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||zn.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pM.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;Hb=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TC(n){const[e,t]=dC(),i=de.useContext(WS);return P.jsx(A8,{...n,layoutGroup:i,switchLayoutGroup:de.useContext(bC),isPresent:e,safeToRemove:t})}const C8={pan:{Feature:E8},drag:{Feature:T8,ProjectionNode:hC,MeasureLayout:TC}};function DT(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=i[a];o&&zn.postRender(()=>o(e,U0(e)))}class R8 extends du{mount(){const{current:e}=this.node;e&&(this.unmount=e2(e,(t,i)=>(DT(this.node,i,"Start"),a=>DT(this.node,a,"End"))))}unmount(){}}class N8 extends du{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=D0(f0(this.node.current,"focus",()=>this.onFocus()),f0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LT(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=i[a];o&&zn.postRender(()=>o(e,U0(e)))}class D8 extends du{mount(){const{current:e}=this.node;e&&(this.unmount=i2(e,(t,i)=>(LT(this.node,i,"Start"),(a,{success:o})=>LT(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pS=new WeakMap,Gb=new WeakMap,L8=n=>{const e=pS.get(n.target);e&&e(n)},I8=n=>{n.forEach(L8)};function P8({root:n,...e}){const t=n||document;Gb.has(t)||Gb.set(t,{});const i=Gb.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(I8,{root:n,...e})),i[a]}function U8(n,e,t){const i=P8(e);return pS.set(n,t),i.observe(n),()=>{pS.delete(n),i.unobserve(n)}}const O8={some:0,all:1};class z8 extends du{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:o}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:O8[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=p?y:v;x&&x(d)};return U8(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(B8(e,t))&&this.startObserver()}unmount(){}}function B8({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const F8={inView:{Feature:z8},tap:{Feature:D8},focus:{Feature:N8},hover:{Feature:R8}},k8={layout:{ProjectionNode:hC,MeasureLayout:TC}},V8={...f8,...F8,...C8,...k8},zt=r8(V8,o8),H8=50,IT=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),G8=()=>({time:0,x:IT(),y:IT()}),j8={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function PT(n,e,t,i){const a=t[e],{length:o,position:u}=j8[e],h=a.current,d=t.time;a.current=n[`scroll${u}`],a.scrollLength=n[`scroll${o}`]-n[`client${o}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=Rd(0,a.scrollLength,a.current);const p=i-d;a.velocity=p>H8?0:KS(a.current-h,p)}function W8(n,e,t){PT(n,"x",e,t),PT(n,"y",e,t),e.time=t}function X8(n,e){const t={x:0,y:0};let i=n;for(;i&&i!==e;)if(dM(i))t.x+=i.offsetLeft,t.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const a=i.getBoundingClientRect();i=i.parentElement;const o=i.getBoundingClientRect();t.x+=a.left-o.left,t.y+=a.top-o.top}else if(i instanceof SVGGraphicsElement){const{x:a,y:o}=i.getBBox();t.x+=a,t.y+=o;let u=null,h=i.parentNode;for(;!u;)h.tagName==="svg"&&(u=h),h=i.parentNode;i=u}else break;return t}const mS={start:0,center:.5,end:1};function UT(n,e,t=0){let i=0;if(n in mS&&(n=mS[n]),typeof n=="string"){const a=parseFloat(n);n.endsWith("px")?i=a:n.endsWith("%")?n=a/100:n.endsWith("vw")?i=a/100*document.documentElement.clientWidth:n.endsWith("vh")?i=a/100*document.documentElement.clientHeight:n=a}return typeof n=="number"&&(i=e*n),t+i}const q8=[0,0];function Y8(n,e,t,i){let a=Array.isArray(n)?n:q8,o=0,u=0;return typeof n=="number"?a=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?a=n.split(" "):a=[n,mS[n]?n:"0"]),o=UT(a[0],t,i),u=UT(a[1],e),o-u}const Z8={All:[[0,0],[1,1]]},K8={x:0,y:0};function Q8(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function J8(n,e,t){const{offset:i=Z8.All}=t,{target:a=n,axis:o="y"}=t,u=o==="y"?"height":"width",h=a!==n?X8(a,n):K8,d=a===n?{width:n.scrollWidth,height:n.scrollHeight}:Q8(a),p={width:n.clientWidth,height:n.clientHeight};e[o].offset.length=0;let y=!e[o].interpolate;const v=i.length;for(let x=0;x<v;x++){const S=Y8(i[x],p[u],d[u],h[o]);!y&&S!==e[o].interpolatorOffsets[x]&&(y=!0),e[o].offset[x]=S}y&&(e[o].interpolate=sM(e[o].offset,p4(i),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=xo(0,1,e[o].interpolate(e[o].current))}function $8(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let i=e;for(;i&&i!==n;)t.x.targetOffset+=i.offsetLeft,t.y.targetOffset+=i.offsetTop,i=i.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function eI(n,e,t,i={}){return{measure:a=>{$8(n,i.target,t),W8(n,t,a),(i.offset||i.target)&&J8(n,t,i)},notify:()=>e(t)}}const Em=new WeakMap,OT=new WeakMap,jb=new WeakMap,zT=n=>n===document.scrollingElement?window:n;function EC(n,{container:e=document.scrollingElement,...t}={}){if(!e)return qa;let i=jb.get(e);i||(i=new Set,jb.set(e,i));const a=G8(),o=eI(e,n,a,t);if(i.add(o),!Em.has(e)){const h=()=>{for(const v of i)v.measure(ys.timestamp);zn.preUpdate(d)},d=()=>{for(const v of i)v.notify()},p=()=>zn.read(h);Em.set(e,p);const y=zT(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&OT.set(e,h2(e,p)),y.addEventListener("scroll",p,{passive:!0}),p()}const u=Em.get(e);return zn.read(u,!1,!0),()=>{bo(u);const h=jb.get(e);if(!h||(h.delete(o),h.size))return;const d=Em.get(e);Em.delete(e),d&&(zT(e).removeEventListener("scroll",d),OT.get(e)?.(),window.removeEventListener("resize",d))}}const BT=new Map;function tI(n){const e={value:0},t=EC(i=>{e.value=i[n.axis].progress*100},n);return{currentTime:e,cancel:t}}function AC({source:n,container:e,...t}){const{axis:i}=t;n&&(e=n);const a=BT.get(e)??new Map;BT.set(e,a);const o=t.target??"self",u=a.get(o)??{},h=i+(t.offset??[]).join(",");return u[h]||(u[h]=!t.target&&y4()?new ScrollTimeline({source:e,axis:i}):tI({container:e,...t})),u[h]}function nI(n,e){const t=AC(e);return n.attachTimeline({timeline:e.target?void 0:t,observe:i=>(i.pause(),k4(a=>{i.time=i.iterationDuration*a},t))})}function iI(n){return n.length===2}function sI(n,e){return iI(n)?EC(t=>{n(t[e.axis].progress,t)},e):k4(n,AC(e))}function aI(n,{axis:e="y",container:t=document.scrollingElement,...i}={}){if(!t)return qa;const a={axis:e,container:t,...i};return typeof n=="function"?sI(n,a):nI(n,a)}const rI=()=>({scrollX:go(0),scrollY:go(0),scrollXProgress:go(0),scrollYProgress:go(0)}),Uv=n=>n?!n.current:!1;function CC({container:n,target:e,...t}={}){const i=ou(rI),a=de.useRef(null),o=de.useRef(!1),u=de.useCallback(()=>(a.current=aI((h,{x:d,y:p})=>{i.scrollX.set(d.current),i.scrollXProgress.set(d.progress),i.scrollY.set(p.current),i.scrollYProgress.set(p.progress)},{...t,container:n?.current||void 0,target:e?.current||void 0}),()=>{a.current?.()}),[n,e,JSON.stringify(t.offset)]);return $1(()=>{if(o.current=!1,Uv(n)||Uv(e)){o.current=!0;return}else return u()},[u]),de.useEffect(()=>{if(o.current)return o0(!Uv(n)),o0(!Uv(e)),u()},[u]),i}function Nd(n){const e=ou(()=>go(n)),{isStatic:t}=de.useContext(P0);if(t){const[,i]=de.useState(n);de.useEffect(()=>e.on("change",i),[])}return e}function RC(n,e){const t=Nd(e()),i=()=>t.set(e());return i(),$1(()=>{const a=()=>zn.preRender(i,!1,!0),o=n.map(u=>u.on("change",a));return()=>{o.forEach(u=>u()),bo(i)}}),t}function oI(n){qm.current=[],n();const e=RC(qm.current,n);return qm.current=void 0,e}function Dd(n,e,t,i){if(typeof n=="function")return oI(n);if(t!==void 0&&!Array.isArray(t)&&typeof e!="function")return lI(n,e,t,i);const u=typeof e=="function"?e:p2(e,t,i);return Array.isArray(n)?FT(n,u):FT([n],([h])=>u(h))}function FT(n,e){const t=ou(()=>[]);return RC(n,()=>{t.length=0;const i=n.length;for(let a=0;a<i;a++)t[a]=n[a].get();return e(t)})}function lI(n,e,t,i){const a=ou(()=>Object.keys(t)),o=ou(()=>({}));for(const u of a)o[u]=Dd(n,e,t[u],i);return o}function $y(n,e={}){const{isStatic:t}=de.useContext(P0),i=()=>bs(n)?n.get():n;if(t)return Dd(i);const a=Nd(i());return de.useInsertionEffect(()=>m2(a,n,e),[a,JSON.stringify(e)]),a}const cI=()=>{const[n,e]=de.useState(!1),[t,i]=de.useState(!1),[a,o]=de.useState("home"),[u,h]=de.useState(!1),d=de.useRef(0),p=[{name:"Home",href:"#home"},{name:"About",href:"#about"},{name:"Skills",href:"#skills"},{name:"Projects",href:"#projects"},{name:"Achievements",href:"#achievements"},{name:"Contact",href:"#contact"}];de.useEffect(()=>{const x=()=>{const A=window.scrollY,M=window.innerHeight*.5,N=A<d.current;A<=M||N?e(!1):e(!0),d.current=A},S={root:null,rootMargin:"-20% 0px -70% 0px",threshold:0},T=A=>{A.forEach(M=>{M.isIntersecting&&o(M.target.id)})},C=new IntersectionObserver(T,S);return p.forEach(A=>{const M=document.querySelector(A.href);M&&C.observe(M)}),window.addEventListener("scroll",x,{passive:!0}),x(),()=>{window.removeEventListener("scroll",x),C.disconnect()}},[]);const y=(x,S)=>{x.preventDefault();const T=document.querySelector(S);if(T){const M=T.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:M,behavior:"smooth"}),h(!1)}},v=!n||t;return P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"fixed top-0 left-0 right-0 h-16 z-[99]",onMouseEnter:()=>i(!0)}),P.jsx(zt.nav,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),initial:!1,animate:{width:window.innerWidth>=768||v?window.innerWidth<768?"92%":"90%":"4.5rem",maxWidth:window.innerWidth>=768||v?window.innerWidth<768?"100%":"64rem":"4.5rem",x:window.innerWidth>=768||v?"-50%":"0%",right:window.innerWidth>=768||v?"auto":"1.5rem",left:window.innerWidth>=768||v?"50%":"auto"},transition:{duration:window.innerWidth<768?.3:.5,ease:window.innerWidth<768?"easeOut":[.23,1,.32,1]},className:"fixed z-[100] top-6 bg-white/95 md:bg-white/95 md:backdrop-blur-md shadow-lg border border-slate-200/50 rounded-full overflow-hidden",children:P.jsx("div",{className:"px-4 py-3",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx(Lf,{initial:!1,children:(v||window.innerWidth>=768)&&P.jsxs(zt.a,{href:"#home",onClick:x=>y(x,"#home"),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"text-xl font-bold font-display text-slate-900 tracking-tight whitespace-nowrap",children:["Sakthi",P.jsx("span",{className:"text-blue-600",children:"."})]})}),P.jsx("div",{className:"hidden md:flex items-center space-x-8 overflow-hidden ml-8",children:p.map(x=>{const S=a===x.href.replace("#","");return P.jsxs("a",{href:x.href,onClick:T=>y(T,x.href),className:`transition-all duration-300 font-medium text-sm relative group whitespace-nowrap ${S?"text-blue-600":"text-slate-500 hover:text-slate-900"}`,children:[x.name,P.jsx("span",{className:`absolute -bottom-1 left-0 h-0.5 bg-blue-600 transition-all duration-300 rounded-full ${S?"w-full":"w-0 group-hover:w-full"}`})]},x.name)})}),P.jsxs("div",{className:"flex items-center",children:[P.jsx("a",{href:"#contact",onClick:x=>y(x,"#contact"),className:"hidden md:block px-5 py-2 mr-0 bg-slate-900 text-white border border-transparent rounded-full font-semibold transition-all duration-300 text-xs tracking-wide whitespace-nowrap hover:bg-blue-600 hover:shadow-lg hover:shadow-blue-500/20",children:"Hire Me"}),P.jsx("button",{onClick:()=>h(!u),className:`p-2.5 rounded-full transition-all duration-500 md:hidden flex items-center justify-center ${u?"bg-slate-900 text-white rotate-90":"text-slate-700 hover:bg-slate-100"}`,children:u?P.jsx(r0,{size:20}):P.jsx(JN,{size:24})})]})]})})}),P.jsx(Lf,{children:u&&P.jsxs("div",{className:"fixed inset-0 z-[110] md:hidden",children:[P.jsx(zt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(!1),className:"absolute inset-0 bg-slate-900/60"}),P.jsxs(zt.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.4,ease:[.32,0,.67,0]},className:"absolute top-0 right-0 bottom-0 w-[85%] max-w-[320px] bg-white shadow-2xl flex flex-col",children:[P.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-slate-50",children:[P.jsxs("a",{href:"#home",onClick:x=>y(x,"#home"),className:"text-xl font-bold font-display text-slate-900 tracking-tight order-last",children:["Sakthi",P.jsx("span",{className:"text-blue-600",children:"."})]}),P.jsx("button",{onClick:()=>h(!1),className:"p-2 text-slate-500 hover:text-slate-900 transition-colors",children:P.jsx(r0,{size:24})})]}),P.jsx("div",{className:"flex-grow overflow-y-auto py-8",children:P.jsx("div",{className:"px-6 space-y-1",children:p.map((x,S)=>{const T=a===x.href.replace("#","");return P.jsxs(zt.a,{href:x.href,initial:{opacity:0,x:10},animate:{opacity:1,x:0,transition:{delay:window.innerWidth<768?0:S*.05,duration:.2}},onClick:C=>y(C,x.href),className:`flex items-center justify-between px-6 py-4 rounded-2xl transition-all duration-300 font-medium ${T?"bg-blue-50 text-blue-600":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[P.jsx("span",{className:"text-lg",children:x.name}),T&&window.innerWidth>=768&&P.jsx(zt.div,{layoutId:"drawerActive",className:"w-1.5 h-1.5 bg-blue-600 rounded-full"})]},x.name)})})}),P.jsxs("div",{className:"p-6 mt-auto border-t border-slate-50 space-y-4",children:[P.jsx("a",{href:"#contact",onClick:x=>y(x,"#contact"),className:"flex items-center justify-center w-full py-4 bg-slate-900 text-white rounded-2xl font-bold text-sm shadow-xl shadow-slate-900/10 hover:bg-blue-600 transition-all active:scale-95",children:"Start a Project"}),P.jsx("p",{className:"text-center text-[10px] text-slate-400 font-bold uppercase tracking-widest px-2",children:"Open for opportunities"})]})]})]})})]})};const O0="182",uI={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fI={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},NC=0,gS=1,DC=2,hI=3,LC=0,Ad=1,Km=2,wf=3,tc=0,ba=1,il=2,ol=0,Rf=1,e1=2,vS=3,yS=4,IC=5,tu=100,PC=101,UC=102,OC=103,zC=104,BC=200,FC=201,kC=202,VC=203,t1=204,n1=205,HC=206,GC=207,jC=208,WC=209,XC=210,qC=211,YC=212,ZC=213,KC=214,i1=0,s1=1,a1=2,If=3,r1=4,o1=5,l1=6,c1=7,z0=0,QC=1,JC=2,Fr=0,MM=1,wM=2,TM=3,ax=4,EM=5,AM=6,CM=7,xS="attached",$C="detached",rx=300,ll=301,cu=302,h0=303,d0=304,Xd=306,p0=1e3,Xa=1001,m0=1002,Wi=1003,RM=1004,dI=1004,Md=1005,pI=1005,hi=1006,Qm=1007,mI=1007,sl=1008,gI=1008,ma=1009,NM=1010,DM=1011,Ld=1012,ox=1013,kr=1014,xa=1015,cl=1016,lx=1017,cx=1018,Id=1020,LM=35902,IM=35899,PM=1021,UM=1022,Zs=1023,ul=1026,su=1027,ux=1028,B0=1029,Pf=1030,fx=1031,vI=1032,hx=1033,Jm=33776,$m=33777,e0=33778,t0=33779,u1=35840,f1=35841,h1=35842,d1=35843,p1=36196,m1=37492,g1=37496,v1=37488,y1=37489,x1=37490,b1=37491,_1=37808,S1=37809,M1=37810,w1=37811,T1=37812,E1=37813,A1=37814,C1=37815,R1=37816,N1=37817,D1=37818,L1=37819,I1=37820,P1=37821,U1=36492,O1=36494,z1=36495,B1=36283,F1=36284,k1=36285,V1=36286,e5=2200,t5=2201,n5=2202,g0=2300,H1=2301,ky=2302,Tf=2400,Ef=2401,v0=2402,dx=2500,OM=2501,yI=0,xI=1,bI=2,i5=3200,_I=3201,SI=3202,MI=3203,pu=0,s5=1,Kl="",Ys="srgb",uu="srgb-linear",y0="linear",Hn="srgb",wI="",TI="rg",EI="ga",AI=0,bf=7680,CI=7681,RI=7682,NI=7683,DI=34055,LI=34056,II=5386,PI=512,UI=513,OI=514,zI=515,BI=516,FI=517,kI=518,bS=519,a5=512,r5=513,o5=514,px=515,l5=516,c5=517,mx=518,u5=519,x0=35044,VI=35048,HI=35040,GI=35045,jI=35049,WI=35041,XI=35046,qI=35050,YI=35042,ZI="100",_S="300 es",rr=2e3,Pd=2001,KI={COMPUTE:"compute",RENDER:"render"},QI={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},JI={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function f5(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const $I={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function wd(n,e){return new $I[n](e)}function h5(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function b0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function d5(){const n=b0("canvas");return n.style.display="block",n}const kT={};let fu=null;function eP(n){fu=n}function tP(){return fu}function _0(...n){const e="THREE."+n.shift();fu?fu("log",e,...n):console.log(e,...n)}function ht(...n){const e="THREE."+n.shift();fu?fu("warn",e,...n):console.warn(e,...n)}function Dt(...n){const e="THREE."+n.shift();fu?fu("error",e,...n):console.error(e,...n)}function Ud(...n){const e=n.join(" ");e in kT||(kT[e]=!0,ht(...n))}function nP(n,e,t){return new Promise(function(i,a){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:i()}}setTimeout(o,t)})}class fl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const a=i[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let o=0,u=a.length;o<u;o++)a[o].call(this,e);e.target=null}}}const Ws=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let VT=1234567;const Nf=Math.PI/180,Od=180/Math.PI;function or(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ws[n&255]+Ws[n>>8&255]+Ws[n>>16&255]+Ws[n>>24&255]+"-"+Ws[e&255]+Ws[e>>8&255]+"-"+Ws[e>>16&15|64]+Ws[e>>24&255]+"-"+Ws[t&63|128]+Ws[t>>8&255]+"-"+Ws[t>>16&255]+Ws[t>>24&255]+Ws[i&255]+Ws[i>>8&255]+Ws[i>>16&255]+Ws[i>>24&255]).toLowerCase()}function jt(n,e,t){return Math.max(e,Math.min(t,n))}function zM(n,e){return(n%e+e)%e}function iP(n,e,t,i,a){return i+(n-e)*(a-i)/(t-e)}function sP(n,e,t){return n!==e?(t-n)/(e-n):0}function n0(n,e,t){return(1-t)*n+t*e}function aP(n,e,t,i){return n0(n,e,1-Math.exp(-t*i))}function rP(n,e=1){return e-Math.abs(zM(n,e*2)-e)}function oP(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function lP(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function cP(n,e){return n+Math.floor(Math.random()*(e-n+1))}function uP(n,e){return n+Math.random()*(e-n)}function fP(n){return n*(.5-Math.random())}function hP(n){n!==void 0&&(VT=n);let e=VT+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dP(n){return n*Nf}function pP(n){return n*Od}function mP(n){return(n&n-1)===0&&n!==0}function gP(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function vP(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function yP(n,e,t,i,a){const o=Math.cos,u=Math.sin,h=o(t/2),d=u(t/2),p=o((e+i)/2),y=u((e+i)/2),v=o((e-i)/2),x=u((e-i)/2),S=o((i-e)/2),T=u((i-e)/2);switch(a){case"XYX":n.set(h*y,d*v,d*x,h*p);break;case"YZY":n.set(d*x,h*y,d*v,h*p);break;case"ZXZ":n.set(d*v,d*x,h*y,h*p);break;case"XZX":n.set(h*y,d*T,d*S,h*p);break;case"YXY":n.set(d*S,h*y,d*T,h*p);break;case"ZYZ":n.set(d*T,d*S,h*y,h*p);break;default:ht("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function ga(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ln(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const p5={DEG2RAD:Nf,RAD2DEG:Od,generateUUID:or,clamp:jt,euclideanModulo:zM,mapLinear:iP,inverseLerp:sP,lerp:n0,damp:aP,pingpong:rP,smoothstep:oP,smootherstep:lP,randInt:cP,randFloat:uP,randFloatSpread:fP,seededRandom:hP,degToRad:dP,radToDeg:pP,isPowerOfTwo:mP,ceilPowerOfTwo:gP,floorPowerOfTwo:vP,setQuaternionFromProperEuler:yP,normalize:ln,denormalize:ga};class Ge{constructor(e=0,t=0){Ge.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6],this.y=a[1]*t+a[4]*i+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=jt(this.x,e.x,t.x),this.y=jt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=jt(this.x,e,t),this.y=jt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(jt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(jt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),a=Math.sin(t),o=this.x-e.x,u=this.y-e.y;return this.x=o*i-u*a+e.x,this.y=o*a+u*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ya{constructor(e=0,t=0,i=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=a}static slerpFlat(e,t,i,a,o,u,h){let d=i[a+0],p=i[a+1],y=i[a+2],v=i[a+3],x=o[u+0],S=o[u+1],T=o[u+2],C=o[u+3];if(h<=0){e[t+0]=d,e[t+1]=p,e[t+2]=y,e[t+3]=v;return}if(h>=1){e[t+0]=x,e[t+1]=S,e[t+2]=T,e[t+3]=C;return}if(v!==C||d!==x||p!==S||y!==T){let A=d*x+p*S+y*T+v*C;A<0&&(x=-x,S=-S,T=-T,C=-C,A=-A);let M=1-h;if(A<.9995){const N=Math.acos(A),D=Math.sin(N);M=Math.sin(M*N)/D,h=Math.sin(h*N)/D,d=d*M+x*h,p=p*M+S*h,y=y*M+T*h,v=v*M+C*h}else{d=d*M+x*h,p=p*M+S*h,y=y*M+T*h,v=v*M+C*h;const N=1/Math.sqrt(d*d+p*p+y*y+v*v);d*=N,p*=N,y*=N,v*=N}}e[t]=d,e[t+1]=p,e[t+2]=y,e[t+3]=v}static multiplyQuaternionsFlat(e,t,i,a,o,u){const h=i[a],d=i[a+1],p=i[a+2],y=i[a+3],v=o[u],x=o[u+1],S=o[u+2],T=o[u+3];return e[t]=h*T+y*v+d*S-p*x,e[t+1]=d*T+y*x+p*v-h*S,e[t+2]=p*T+y*S+h*x-d*v,e[t+3]=y*T-h*v-d*x-p*S,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,a=e._y,o=e._z,u=e._order,h=Math.cos,d=Math.sin,p=h(i/2),y=h(a/2),v=h(o/2),x=d(i/2),S=d(a/2),T=d(o/2);switch(u){case"XYZ":this._x=x*y*v+p*S*T,this._y=p*S*v-x*y*T,this._z=p*y*T+x*S*v,this._w=p*y*v-x*S*T;break;case"YXZ":this._x=x*y*v+p*S*T,this._y=p*S*v-x*y*T,this._z=p*y*T-x*S*v,this._w=p*y*v+x*S*T;break;case"ZXY":this._x=x*y*v-p*S*T,this._y=p*S*v+x*y*T,this._z=p*y*T+x*S*v,this._w=p*y*v-x*S*T;break;case"ZYX":this._x=x*y*v-p*S*T,this._y=p*S*v+x*y*T,this._z=p*y*T-x*S*v,this._w=p*y*v+x*S*T;break;case"YZX":this._x=x*y*v+p*S*T,this._y=p*S*v+x*y*T,this._z=p*y*T-x*S*v,this._w=p*y*v-x*S*T;break;case"XZY":this._x=x*y*v-p*S*T,this._y=p*S*v-x*y*T,this._z=p*y*T+x*S*v,this._w=p*y*v+x*S*T;break;default:ht("Quaternion: .setFromEuler() encountered an unknown order: "+u)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,a=Math.sin(i);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],a=t[4],o=t[8],u=t[1],h=t[5],d=t[9],p=t[2],y=t[6],v=t[10],x=i+h+v;if(x>0){const S=.5/Math.sqrt(x+1);this._w=.25/S,this._x=(y-d)*S,this._y=(o-p)*S,this._z=(u-a)*S}else if(i>h&&i>v){const S=2*Math.sqrt(1+i-h-v);this._w=(y-d)/S,this._x=.25*S,this._y=(a+u)/S,this._z=(o+p)/S}else if(h>v){const S=2*Math.sqrt(1+h-i-v);this._w=(o-p)/S,this._x=(a+u)/S,this._y=.25*S,this._z=(d+y)/S}else{const S=2*Math.sqrt(1+v-i-h);this._w=(u-a)/S,this._x=(o+p)/S,this._y=(d+y)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const a=Math.min(1,t/i);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,a=e._y,o=e._z,u=e._w,h=t._x,d=t._y,p=t._z,y=t._w;return this._x=i*y+u*h+a*p-o*d,this._y=a*y+u*d+o*h-i*p,this._z=o*y+u*p+i*d-a*h,this._w=u*y-i*h-a*d-o*p,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,a=e._y,o=e._z,u=e._w,h=this.dot(e);h<0&&(i=-i,a=-a,o=-o,u=-u,h=-h);let d=1-t;if(h<.9995){const p=Math.acos(h),y=Math.sin(p);d=Math.sin(d*p)/y,t=Math.sin(t*p)/y,this._x=this._x*d+i*t,this._y=this._y*d+a*t,this._z=this._z*d+o*t,this._w=this._w*d+u*t,this._onChangeCallback()}else this._x=this._x*d+i*t,this._y=this._y*d+a*t,this._z=this._z*d+o*t,this._w=this._w*d+u*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(a*Math.sin(e),a*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,t=0,i=0){Q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(HT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(HT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[3]*i+o[6]*a,this.y=o[1]*t+o[4]*i+o[7]*a,this.z=o[2]*t+o[5]*i+o[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,o=e.elements,u=1/(o[3]*t+o[7]*i+o[11]*a+o[15]);return this.x=(o[0]*t+o[4]*i+o[8]*a+o[12])*u,this.y=(o[1]*t+o[5]*i+o[9]*a+o[13])*u,this.z=(o[2]*t+o[6]*i+o[10]*a+o[14])*u,this}applyQuaternion(e){const t=this.x,i=this.y,a=this.z,o=e.x,u=e.y,h=e.z,d=e.w,p=2*(u*a-h*i),y=2*(h*t-o*a),v=2*(o*i-u*t);return this.x=t+d*p+u*v-h*y,this.y=i+d*y+h*p-o*v,this.z=a+d*v+o*y-u*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*a,this.y=o[1]*t+o[5]*i+o[9]*a,this.z=o[2]*t+o[6]*i+o[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=jt(this.x,e.x,t.x),this.y=jt(this.y,e.y,t.y),this.z=jt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=jt(this.x,e,t),this.y=jt(this.y,e,t),this.z=jt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(jt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,a=e.y,o=e.z,u=t.x,h=t.y,d=t.z;return this.x=a*d-o*h,this.y=o*u-i*d,this.z=i*h-a*u,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Wb.copy(this).projectOnVector(e),this.sub(Wb)}reflect(e){return this.sub(Wb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(jt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,a=this.z-e.z;return t*t+i*i+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const a=Math.sin(t)*e;return this.x=a*Math.sin(i),this.y=Math.cos(t)*e,this.z=a*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Wb=new Q,HT=new Ya;class sn{constructor(e,t,i,a,o,u,h,d,p){sn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,a,o,u,h,d,p)}set(e,t,i,a,o,u,h,d,p){const y=this.elements;return y[0]=e,y[1]=a,y[2]=h,y[3]=t,y[4]=o,y[5]=d,y[6]=i,y[7]=u,y[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,o=this.elements,u=i[0],h=i[3],d=i[6],p=i[1],y=i[4],v=i[7],x=i[2],S=i[5],T=i[8],C=a[0],A=a[3],M=a[6],N=a[1],D=a[4],I=a[7],z=a[2],F=a[5],k=a[8];return o[0]=u*C+h*N+d*z,o[3]=u*A+h*D+d*F,o[6]=u*M+h*I+d*k,o[1]=p*C+y*N+v*z,o[4]=p*A+y*D+v*F,o[7]=p*M+y*I+v*k,o[2]=x*C+S*N+T*z,o[5]=x*A+S*D+T*F,o[8]=x*M+S*I+T*k,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],a=e[2],o=e[3],u=e[4],h=e[5],d=e[6],p=e[7],y=e[8];return t*u*y-t*h*p-i*o*y+i*h*d+a*o*p-a*u*d}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],o=e[3],u=e[4],h=e[5],d=e[6],p=e[7],y=e[8],v=y*u-h*p,x=h*d-y*o,S=p*o-u*d,T=t*v+i*x+a*S;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/T;return e[0]=v*C,e[1]=(a*p-y*i)*C,e[2]=(h*i-a*u)*C,e[3]=x*C,e[4]=(y*t-a*d)*C,e[5]=(a*o-h*t)*C,e[6]=S*C,e[7]=(i*d-p*t)*C,e[8]=(u*t-i*o)*C,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,a,o,u,h){const d=Math.cos(o),p=Math.sin(o);return this.set(i*d,i*p,-i*(d*u+p*h)+u+e,-a*p,a*d,-a*(-p*u+d*h)+h+t,0,0,1),this}scale(e,t){return this.premultiply(Xb.makeScale(e,t)),this}rotate(e){return this.premultiply(Xb.makeRotation(-e)),this}translate(e,t){return this.premultiply(Xb.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<9;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Xb=new sn,GT=new sn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),jT=new sn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function xP(){const n={enabled:!0,workingColorSpace:uu,spaces:{},convert:function(a,o,u){return this.enabled===!1||o===u||!o||!u||(this.spaces[o].transfer===Hn&&(a.r=$l(a.r),a.g=$l(a.g),a.b=$l(a.b)),this.spaces[o].primaries!==this.spaces[u].primaries&&(a.applyMatrix3(this.spaces[o].toXYZ),a.applyMatrix3(this.spaces[u].fromXYZ)),this.spaces[u].transfer===Hn&&(a.r=Cd(a.r),a.g=Cd(a.g),a.b=Cd(a.b))),a},workingToColorSpace:function(a,o){return this.convert(a,this.workingColorSpace,o)},colorSpaceToWorking:function(a,o){return this.convert(a,o,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Kl?y0:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,o=this.workingColorSpace){return a.fromArray(this.spaces[o].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,o,u){return a.copy(this.spaces[o].toXYZ).multiply(this.spaces[u].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,o){return Ud("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,o)},toWorkingColorSpace:function(a,o){return Ud("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,o)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[uu]:{primaries:e,whitePoint:i,transfer:y0,toXYZ:GT,fromXYZ:jT,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ys},outputColorSpaceConfig:{drawingBufferColorSpace:Ys}},[Ys]:{primaries:e,whitePoint:i,transfer:Hn,toXYZ:GT,fromXYZ:jT,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ys}}}),n}const Tn=xP();function $l(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Cd(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let qh;class m5{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{qh===void 0&&(qh=b0("canvas")),qh.width=e.width,qh.height=e.height;const a=qh.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),i=qh}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=b0("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const a=i.getImageData(0,0,e.width,e.height),o=a.data;for(let u=0;u<o.length;u++)o[u]=$l(o[u]/255)*255;return i.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor($l(t[i]/255)*255):t[i]=$l(t[i]);return{data:t,width:e.width,height:e.height}}else return ht("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let bP=0;class au{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bP++}),this.uuid=or(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let u=0,h=a.length;u<h;u++)a[u].isDataTexture?o.push(qb(a[u].image)):o.push(qb(a[u]))}else o=qb(a);i.url=o}return t||(e.images[this.uuid]=i),i}}function qb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?m5.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(ht("Texture: Unable to serialize Texture."),{})}let _P=0;const Yb=new Q;class Ui extends fl{constructor(e=Ui.DEFAULT_IMAGE,t=Ui.DEFAULT_MAPPING,i=Xa,a=Xa,o=hi,u=sl,h=Zs,d=ma,p=Ui.DEFAULT_ANISOTROPY,y=Kl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_P++}),this.uuid=or(),this.name="",this.source=new au(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=o,this.minFilter=u,this.anisotropy=p,this.format=h,this.internalFormat=null,this.type=d,this.offset=new Ge(0,0),this.repeat=new Ge(1,1),this.center=new Ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=y,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Yb).x}get height(){return this.source.getSize(Yb).y}get depth(){return this.source.getSize(Yb).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){ht(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){ht(`Texture.setValues(): property '${t}' does not exist.`);continue}a&&i&&a.isVector2&&i.isVector2||a&&i&&a.isVector3&&i.isVector3||a&&i&&a.isMatrix3&&i.isMatrix3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==rx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case p0:e.x=e.x-Math.floor(e.x);break;case Xa:e.x=e.x<0?0:1;break;case m0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case p0:e.y=e.y-Math.floor(e.y);break;case Xa:e.y=e.y<0?0:1;break;case m0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ui.DEFAULT_IMAGE=null;Ui.DEFAULT_MAPPING=rx;Ui.DEFAULT_ANISOTROPY=1;class $n{constructor(e=0,t=0,i=0,a=1){$n.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,a){return this.x=e,this.y=t,this.z=i,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,o=this.w,u=e.elements;return this.x=u[0]*t+u[4]*i+u[8]*a+u[12]*o,this.y=u[1]*t+u[5]*i+u[9]*a+u[13]*o,this.z=u[2]*t+u[6]*i+u[10]*a+u[14]*o,this.w=u[3]*t+u[7]*i+u[11]*a+u[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,a,o;const d=e.elements,p=d[0],y=d[4],v=d[8],x=d[1],S=d[5],T=d[9],C=d[2],A=d[6],M=d[10];if(Math.abs(y-x)<.01&&Math.abs(v-C)<.01&&Math.abs(T-A)<.01){if(Math.abs(y+x)<.1&&Math.abs(v+C)<.1&&Math.abs(T+A)<.1&&Math.abs(p+S+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(p+1)/2,I=(S+1)/2,z=(M+1)/2,F=(y+x)/4,k=(v+C)/4,j=(T+A)/4;return D>I&&D>z?D<.01?(i=0,a=.707106781,o=.707106781):(i=Math.sqrt(D),a=F/i,o=k/i):I>z?I<.01?(i=.707106781,a=0,o=.707106781):(a=Math.sqrt(I),i=F/a,o=j/a):z<.01?(i=.707106781,a=.707106781,o=0):(o=Math.sqrt(z),i=k/o,a=j/o),this.set(i,a,o,t),this}let N=Math.sqrt((A-T)*(A-T)+(v-C)*(v-C)+(x-y)*(x-y));return Math.abs(N)<.001&&(N=1),this.x=(A-T)/N,this.y=(v-C)/N,this.z=(x-y)/N,this.w=Math.acos((p+S+M-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=jt(this.x,e.x,t.x),this.y=jt(this.y,e.y,t.y),this.z=jt(this.z,e.z,t.z),this.w=jt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=jt(this.x,e,t),this.y=jt(this.y,e,t),this.z=jt(this.z,e,t),this.w=jt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(jt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class BM extends fl{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new $n(0,0,e,t),this.scissorTest=!1,this.viewport=new $n(0,0,e,t);const a={width:e,height:t,depth:i.depth},o=new Ui(a);this.textures=[];const u=i.count;for(let h=0;h<u;h++)this.textures[h]=o.clone(),this.textures[h].isRenderTargetTexture=!0,this.textures[h].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:hi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let a=0,o=this.textures.length;a<o;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=i,this.textures[a].isData3DTexture!==!0&&(this.textures[a].isArrayTexture=this.textures[a].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new au(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class lr extends BM{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class gx extends Ui{constructor(e=null,t=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Wi,this.minFilter=Wi,this.wrapR=Xa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class SP extends lr{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new gx(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class vx extends Ui{constructor(e=null,t=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Wi,this.minFilter=Wi,this.wrapR=Xa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class MP extends lr{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new vx(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class Ks{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(uo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(uo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=uo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const o=i.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let u=0,h=o.count;u<h;u++)e.isMesh===!0?e.getVertexPosition(u,uo):uo.fromBufferAttribute(o,u),uo.applyMatrix4(e.matrixWorld),this.expandByPoint(uo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ov.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Ov.copy(i.boundingBox)),Ov.applyMatrix4(e.matrixWorld),this.union(Ov)}const a=e.children;for(let o=0,u=a.length;o<u;o++)this.expandByObject(a[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,uo),uo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Am),zv.subVectors(this.max,Am),Yh.subVectors(e.a,Am),Zh.subVectors(e.b,Am),Kh.subVectors(e.c,Am),Xc.subVectors(Zh,Yh),qc.subVectors(Kh,Zh),af.subVectors(Yh,Kh);let t=[0,-Xc.z,Xc.y,0,-qc.z,qc.y,0,-af.z,af.y,Xc.z,0,-Xc.x,qc.z,0,-qc.x,af.z,0,-af.x,-Xc.y,Xc.x,0,-qc.y,qc.x,0,-af.y,af.x,0];return!Zb(t,Yh,Zh,Kh,zv)||(t=[1,0,0,0,1,0,0,0,1],!Zb(t,Yh,Zh,Kh,zv))?!1:(Bv.crossVectors(Xc,qc),t=[Bv.x,Bv.y,Bv.z],Zb(t,Yh,Zh,Kh,zv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(uo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(jl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),jl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),jl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),jl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),jl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),jl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),jl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),jl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(jl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const jl=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],uo=new Q,Ov=new Ks,Yh=new Q,Zh=new Q,Kh=new Q,Xc=new Q,qc=new Q,af=new Q,Am=new Q,zv=new Q,Bv=new Q,rf=new Q;function Zb(n,e,t,i,a){for(let o=0,u=n.length-3;o<=u;o+=3){rf.fromArray(n,o);const h=a.x*Math.abs(rf.x)+a.y*Math.abs(rf.y)+a.z*Math.abs(rf.z),d=e.dot(rf),p=t.dot(rf),y=i.dot(rf);if(Math.max(-Math.max(d,p,y),Math.min(d,p,y))>h)return!1}return!0}const wP=new Ks,Cm=new Q,Kb=new Q;let Is=class{constructor(e=new Q,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):wP.setFromPoints(e).getCenter(i);let a=0;for(let o=0,u=e.length;o<u;o++)a=Math.max(a,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cm.subVectors(e,this.center);const t=Cm.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),a=(i-this.radius)*.5;this.center.addScaledVector(Cm,a/i),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Kb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cm.copy(e.center).add(Kb)),this.expandByPoint(Cm.copy(e.center).sub(Kb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}};const Wl=new Q,Qb=new Q,Fv=new Q,Yc=new Q,Jb=new Q,kv=new Q,$b=new Q;class qd{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Wl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Wl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Wl.copy(this.origin).addScaledVector(this.direction,t),Wl.distanceToSquared(e))}distanceSqToSegment(e,t,i,a){Qb.copy(e).add(t).multiplyScalar(.5),Fv.copy(t).sub(e).normalize(),Yc.copy(this.origin).sub(Qb);const o=e.distanceTo(t)*.5,u=-this.direction.dot(Fv),h=Yc.dot(this.direction),d=-Yc.dot(Fv),p=Yc.lengthSq(),y=Math.abs(1-u*u);let v,x,S,T;if(y>0)if(v=u*d-h,x=u*h-d,T=o*y,v>=0)if(x>=-T)if(x<=T){const C=1/y;v*=C,x*=C,S=v*(v+u*x+2*h)+x*(u*v+x+2*d)+p}else x=o,v=Math.max(0,-(u*x+h)),S=-v*v+x*(x+2*d)+p;else x=-o,v=Math.max(0,-(u*x+h)),S=-v*v+x*(x+2*d)+p;else x<=-T?(v=Math.max(0,-(-u*o+h)),x=v>0?-o:Math.min(Math.max(-o,-d),o),S=-v*v+x*(x+2*d)+p):x<=T?(v=0,x=Math.min(Math.max(-o,-d),o),S=x*(x+2*d)+p):(v=Math.max(0,-(u*o+h)),x=v>0?o:Math.min(Math.max(-o,-d),o),S=-v*v+x*(x+2*d)+p);else x=u>0?-o:o,v=Math.max(0,-(u*x+h)),S=-v*v+x*(x+2*d)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,v),a&&a.copy(Qb).addScaledVector(Fv,x),S}intersectSphere(e,t){Wl.subVectors(e.center,this.origin);const i=Wl.dot(this.direction),a=Wl.dot(Wl)-i*i,o=e.radius*e.radius;if(a>o)return null;const u=Math.sqrt(o-a),h=i-u,d=i+u;return d<0?null:h<0?this.at(d,t):this.at(h,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,a,o,u,h,d;const p=1/this.direction.x,y=1/this.direction.y,v=1/this.direction.z,x=this.origin;return p>=0?(i=(e.min.x-x.x)*p,a=(e.max.x-x.x)*p):(i=(e.max.x-x.x)*p,a=(e.min.x-x.x)*p),y>=0?(o=(e.min.y-x.y)*y,u=(e.max.y-x.y)*y):(o=(e.max.y-x.y)*y,u=(e.min.y-x.y)*y),i>u||o>a||((o>i||isNaN(i))&&(i=o),(u<a||isNaN(a))&&(a=u),v>=0?(h=(e.min.z-x.z)*v,d=(e.max.z-x.z)*v):(h=(e.max.z-x.z)*v,d=(e.min.z-x.z)*v),i>d||h>a)||((h>i||i!==i)&&(i=h),(d<a||a!==a)&&(a=d),a<0)?null:this.at(i>=0?i:a,t)}intersectsBox(e){return this.intersectBox(e,Wl)!==null}intersectTriangle(e,t,i,a,o){Jb.subVectors(t,e),kv.subVectors(i,e),$b.crossVectors(Jb,kv);let u=this.direction.dot($b),h;if(u>0){if(a)return null;h=1}else if(u<0)h=-1,u=-u;else return null;Yc.subVectors(this.origin,e);const d=h*this.direction.dot(kv.crossVectors(Yc,kv));if(d<0)return null;const p=h*this.direction.dot(Jb.cross(Yc));if(p<0||d+p>u)return null;const y=-h*Yc.dot($b);return y<0?null:this.at(y/u,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xt{constructor(e,t,i,a,o,u,h,d,p,y,v,x,S,T,C,A){Xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,a,o,u,h,d,p,y,v,x,S,T,C,A)}set(e,t,i,a,o,u,h,d,p,y,v,x,S,T,C,A){const M=this.elements;return M[0]=e,M[4]=t,M[8]=i,M[12]=a,M[1]=o,M[5]=u,M[9]=h,M[13]=d,M[2]=p,M[6]=y,M[10]=v,M[14]=x,M[3]=S,M[7]=T,M[11]=C,M[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),i.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this)}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,i=e.elements,a=1/Qh.setFromMatrixColumn(e,0).length(),o=1/Qh.setFromMatrixColumn(e,1).length(),u=1/Qh.setFromMatrixColumn(e,2).length();return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=0,t[4]=i[4]*o,t[5]=i[5]*o,t[6]=i[6]*o,t[7]=0,t[8]=i[8]*u,t[9]=i[9]*u,t[10]=i[10]*u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,a=e.y,o=e.z,u=Math.cos(i),h=Math.sin(i),d=Math.cos(a),p=Math.sin(a),y=Math.cos(o),v=Math.sin(o);if(e.order==="XYZ"){const x=u*y,S=u*v,T=h*y,C=h*v;t[0]=d*y,t[4]=-d*v,t[8]=p,t[1]=S+T*p,t[5]=x-C*p,t[9]=-h*d,t[2]=C-x*p,t[6]=T+S*p,t[10]=u*d}else if(e.order==="YXZ"){const x=d*y,S=d*v,T=p*y,C=p*v;t[0]=x+C*h,t[4]=T*h-S,t[8]=u*p,t[1]=u*v,t[5]=u*y,t[9]=-h,t[2]=S*h-T,t[6]=C+x*h,t[10]=u*d}else if(e.order==="ZXY"){const x=d*y,S=d*v,T=p*y,C=p*v;t[0]=x-C*h,t[4]=-u*v,t[8]=T+S*h,t[1]=S+T*h,t[5]=u*y,t[9]=C-x*h,t[2]=-u*p,t[6]=h,t[10]=u*d}else if(e.order==="ZYX"){const x=u*y,S=u*v,T=h*y,C=h*v;t[0]=d*y,t[4]=T*p-S,t[8]=x*p+C,t[1]=d*v,t[5]=C*p+x,t[9]=S*p-T,t[2]=-p,t[6]=h*d,t[10]=u*d}else if(e.order==="YZX"){const x=u*d,S=u*p,T=h*d,C=h*p;t[0]=d*y,t[4]=C-x*v,t[8]=T*v+S,t[1]=v,t[5]=u*y,t[9]=-h*y,t[2]=-p*y,t[6]=S*v+T,t[10]=x-C*v}else if(e.order==="XZY"){const x=u*d,S=u*p,T=h*d,C=h*p;t[0]=d*y,t[4]=-v,t[8]=p*y,t[1]=x*v+C,t[5]=u*y,t[9]=S*v-T,t[2]=T*v-S,t[6]=h*y,t[10]=C*v+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(TP,e,EP)}lookAt(e,t,i){const a=this.elements;return sr.subVectors(e,t),sr.lengthSq()===0&&(sr.z=1),sr.normalize(),Zc.crossVectors(i,sr),Zc.lengthSq()===0&&(Math.abs(i.z)===1?sr.x+=1e-4:sr.z+=1e-4,sr.normalize(),Zc.crossVectors(i,sr)),Zc.normalize(),Vv.crossVectors(sr,Zc),a[0]=Zc.x,a[4]=Vv.x,a[8]=sr.x,a[1]=Zc.y,a[5]=Vv.y,a[9]=sr.y,a[2]=Zc.z,a[6]=Vv.z,a[10]=sr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,o=this.elements,u=i[0],h=i[4],d=i[8],p=i[12],y=i[1],v=i[5],x=i[9],S=i[13],T=i[2],C=i[6],A=i[10],M=i[14],N=i[3],D=i[7],I=i[11],z=i[15],F=a[0],k=a[4],j=a[8],U=a[12],B=a[1],Y=a[5],ie=a[9],ee=a[13],me=a[2],he=a[6],q=a[10],K=a[14],oe=a[3],Ee=a[7],Ce=a[11],X=a[15];return o[0]=u*F+h*B+d*me+p*oe,o[4]=u*k+h*Y+d*he+p*Ee,o[8]=u*j+h*ie+d*q+p*Ce,o[12]=u*U+h*ee+d*K+p*X,o[1]=y*F+v*B+x*me+S*oe,o[5]=y*k+v*Y+x*he+S*Ee,o[9]=y*j+v*ie+x*q+S*Ce,o[13]=y*U+v*ee+x*K+S*X,o[2]=T*F+C*B+A*me+M*oe,o[6]=T*k+C*Y+A*he+M*Ee,o[10]=T*j+C*ie+A*q+M*Ce,o[14]=T*U+C*ee+A*K+M*X,o[3]=N*F+D*B+I*me+z*oe,o[7]=N*k+D*Y+I*he+z*Ee,o[11]=N*j+D*ie+I*q+z*Ce,o[15]=N*U+D*ee+I*K+z*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],a=e[8],o=e[12],u=e[1],h=e[5],d=e[9],p=e[13],y=e[2],v=e[6],x=e[10],S=e[14],T=e[3],C=e[7],A=e[11],M=e[15],N=d*S-p*x,D=h*S-p*v,I=h*x-d*v,z=u*S-p*y,F=u*x-d*y,k=u*v-h*y;return t*(C*N-A*D+M*I)-i*(T*N-A*z+M*F)+a*(T*D-C*z+M*k)-o*(T*I-C*F+A*k)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],o=e[3],u=e[4],h=e[5],d=e[6],p=e[7],y=e[8],v=e[9],x=e[10],S=e[11],T=e[12],C=e[13],A=e[14],M=e[15],N=v*A*p-C*x*p+C*d*S-h*A*S-v*d*M+h*x*M,D=T*x*p-y*A*p-T*d*S+u*A*S+y*d*M-u*x*M,I=y*C*p-T*v*p+T*h*S-u*C*S-y*h*M+u*v*M,z=T*v*d-y*C*d-T*h*x+u*C*x+y*h*A-u*v*A,F=t*N+i*D+a*I+o*z;if(F===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/F;return e[0]=N*k,e[1]=(C*x*o-v*A*o-C*a*S+i*A*S+v*a*M-i*x*M)*k,e[2]=(h*A*o-C*d*o+C*a*p-i*A*p-h*a*M+i*d*M)*k,e[3]=(v*d*o-h*x*o-v*a*p+i*x*p+h*a*S-i*d*S)*k,e[4]=D*k,e[5]=(y*A*o-T*x*o+T*a*S-t*A*S-y*a*M+t*x*M)*k,e[6]=(T*d*o-u*A*o-T*a*p+t*A*p+u*a*M-t*d*M)*k,e[7]=(u*x*o-y*d*o+y*a*p-t*x*p-u*a*S+t*d*S)*k,e[8]=I*k,e[9]=(T*v*o-y*C*o-T*i*S+t*C*S+y*i*M-t*v*M)*k,e[10]=(u*C*o-T*h*o+T*i*p-t*C*p-u*i*M+t*h*M)*k,e[11]=(y*h*o-u*v*o-y*i*p+t*v*p+u*i*S-t*h*S)*k,e[12]=z*k,e[13]=(y*C*a-T*v*a+T*i*x-t*C*x-y*i*A+t*v*A)*k,e[14]=(T*h*a-u*C*a-T*i*d+t*C*d+u*i*A-t*h*A)*k,e[15]=(u*v*a-y*h*a+y*i*d-t*v*d-u*i*x+t*h*x)*k,this}scale(e){const t=this.elements,i=e.x,a=e.y,o=e.z;return t[0]*=i,t[4]*=a,t[8]*=o,t[1]*=i,t[5]*=a,t[9]*=o,t[2]*=i,t[6]*=a,t[10]*=o,t[3]*=i,t[7]*=a,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,a))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),a=Math.sin(t),o=1-i,u=e.x,h=e.y,d=e.z,p=o*u,y=o*h;return this.set(p*u+i,p*h-a*d,p*d+a*h,0,p*h+a*d,y*h+i,y*d-a*u,0,p*d-a*h,y*d+a*u,o*d*d+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,a,o,u){return this.set(1,i,o,0,e,1,u,0,t,a,1,0,0,0,0,1),this}compose(e,t,i){const a=this.elements,o=t._x,u=t._y,h=t._z,d=t._w,p=o+o,y=u+u,v=h+h,x=o*p,S=o*y,T=o*v,C=u*y,A=u*v,M=h*v,N=d*p,D=d*y,I=d*v,z=i.x,F=i.y,k=i.z;return a[0]=(1-(C+M))*z,a[1]=(S+I)*z,a[2]=(T-D)*z,a[3]=0,a[4]=(S-I)*F,a[5]=(1-(x+M))*F,a[6]=(A+N)*F,a[7]=0,a[8]=(T+D)*k,a[9]=(A-N)*k,a[10]=(1-(x+C))*k,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,i){const a=this.elements;if(e.x=a[12],e.y=a[13],e.z=a[14],this.determinant()===0)return i.set(1,1,1),t.identity(),this;let o=Qh.set(a[0],a[1],a[2]).length();const u=Qh.set(a[4],a[5],a[6]).length(),h=Qh.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),fo.copy(this);const p=1/o,y=1/u,v=1/h;return fo.elements[0]*=p,fo.elements[1]*=p,fo.elements[2]*=p,fo.elements[4]*=y,fo.elements[5]*=y,fo.elements[6]*=y,fo.elements[8]*=v,fo.elements[9]*=v,fo.elements[10]*=v,t.setFromRotationMatrix(fo),i.x=o,i.y=u,i.z=h,this}makePerspective(e,t,i,a,o,u,h=rr,d=!1){const p=this.elements,y=2*o/(t-e),v=2*o/(i-a),x=(t+e)/(t-e),S=(i+a)/(i-a);let T,C;if(d)T=o/(u-o),C=u*o/(u-o);else if(h===rr)T=-(u+o)/(u-o),C=-2*u*o/(u-o);else if(h===Pd)T=-u/(u-o),C=-u*o/(u-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return p[0]=y,p[4]=0,p[8]=x,p[12]=0,p[1]=0,p[5]=v,p[9]=S,p[13]=0,p[2]=0,p[6]=0,p[10]=T,p[14]=C,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,i,a,o,u,h=rr,d=!1){const p=this.elements,y=2/(t-e),v=2/(i-a),x=-(t+e)/(t-e),S=-(i+a)/(i-a);let T,C;if(d)T=1/(u-o),C=u/(u-o);else if(h===rr)T=-2/(u-o),C=-(u+o)/(u-o);else if(h===Pd)T=-1/(u-o),C=-o/(u-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return p[0]=y,p[4]=0,p[8]=0,p[12]=x,p[1]=0,p[5]=v,p[9]=0,p[13]=S,p[2]=0,p[6]=0,p[10]=T,p[14]=C,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<16;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Qh=new Q,fo=new Xt,TP=new Q(0,0,0),EP=new Q(1,1,1),Zc=new Q,Vv=new Q,sr=new Q,WT=new Xt,XT=new Ya;class cr{constructor(e=0,t=0,i=0,a=cr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,a=this._order){return this._x=e,this._y=t,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const a=e.elements,o=a[0],u=a[4],h=a[8],d=a[1],p=a[5],y=a[9],v=a[2],x=a[6],S=a[10];switch(t){case"XYZ":this._y=Math.asin(jt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-y,S),this._z=Math.atan2(-u,o)):(this._x=Math.atan2(x,p),this._z=0);break;case"YXZ":this._x=Math.asin(-jt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(h,S),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-v,o),this._z=0);break;case"ZXY":this._x=Math.asin(jt(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-v,S),this._z=Math.atan2(-u,p)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-jt(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(x,S),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-u,p));break;case"YZX":this._z=Math.asin(jt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-y,p),this._y=Math.atan2(-v,o)):(this._x=0,this._y=Math.atan2(h,S));break;case"XZY":this._z=Math.asin(-jt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(x,p),this._y=Math.atan2(h,o)):(this._x=Math.atan2(-y,S),this._y=0);break;default:ht("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return WT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(WT,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return XT.setFromEuler(this),this.setFromQuaternion(XT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cr.DEFAULT_ORDER="XYZ";class zd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let AP=0;const qT=new Q,Jh=new Ya,Xl=new Xt,Hv=new Q,Rm=new Q,CP=new Q,RP=new Ya,YT=new Q(1,0,0),ZT=new Q(0,1,0),KT=new Q(0,0,1),QT={type:"added"},NP={type:"removed"},$h={type:"childadded",child:null},e_={type:"childremoved",child:null};class Dn extends fl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:AP++}),this.uuid=or(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Dn.DEFAULT_UP.clone();const e=new Q,t=new cr,i=new Ya,a=new Q(1,1,1);function o(){i.setFromEuler(t,!1)}function u(){t.setFromQuaternion(i,void 0,!1)}t._onChange(o),i._onChange(u),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Xt},normalMatrix:{value:new sn}}),this.matrix=new Xt,this.matrixWorld=new Xt,this.matrixAutoUpdate=Dn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new zd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Jh.setFromAxisAngle(e,t),this.quaternion.multiply(Jh),this}rotateOnWorldAxis(e,t){return Jh.setFromAxisAngle(e,t),this.quaternion.premultiply(Jh),this}rotateX(e){return this.rotateOnAxis(YT,e)}rotateY(e){return this.rotateOnAxis(ZT,e)}rotateZ(e){return this.rotateOnAxis(KT,e)}translateOnAxis(e,t){return qT.copy(e).applyQuaternion(this.quaternion),this.position.add(qT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(YT,e)}translateY(e){return this.translateOnAxis(ZT,e)}translateZ(e){return this.translateOnAxis(KT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Xl.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Hv.copy(e):Hv.set(e,t,i);const a=this.parent;this.updateWorldMatrix(!0,!1),Rm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xl.lookAt(Rm,Hv,this.up):Xl.lookAt(Hv,Rm,this.up),this.quaternion.setFromRotationMatrix(Xl),a&&(Xl.extractRotation(a.matrixWorld),Jh.setFromRotationMatrix(Xl),this.quaternion.premultiply(Jh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Dt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(QT),$h.child=e,this.dispatchEvent($h),$h.child=null):Dt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(NP),e_.child=e,this.dispatchEvent(e_),e_.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Xl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Xl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Xl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(QT),$h.child=e,this.dispatchEvent($h),$h.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,a=this.children.length;i<a;i++){const u=this.children[i].getObjectByProperty(e,t);if(u!==void 0)return u}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const a=this.children;for(let o=0,u=a.length;o<u;o++)a[o].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rm,e,CP),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rm,RP,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let o=0,u=a.length;o<u;o++)a[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(h=>({...h,boundingBox:h.boundingBox?h.boundingBox.toJSON():void 0,boundingSphere:h.boundingSphere?h.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(h=>({...h})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function o(h,d){return h[d.uuid]===void 0&&(h[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(e.geometries,this.geometry);const h=this.geometry.parameters;if(h!==void 0&&h.shapes!==void 0){const d=h.shapes;if(Array.isArray(d))for(let p=0,y=d.length;p<y;p++){const v=d[p];o(e.shapes,v)}else o(e.shapes,d)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const h=[];for(let d=0,p=this.material.length;d<p;d++)h.push(o(e.materials,this.material[d]));a.material=h}else a.material=o(e.materials,this.material);if(this.children.length>0){a.children=[];for(let h=0;h<this.children.length;h++)a.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let h=0;h<this.animations.length;h++){const d=this.animations[h];a.animations.push(o(e.animations,d))}}if(t){const h=u(e.geometries),d=u(e.materials),p=u(e.textures),y=u(e.images),v=u(e.shapes),x=u(e.skeletons),S=u(e.animations),T=u(e.nodes);h.length>0&&(i.geometries=h),d.length>0&&(i.materials=d),p.length>0&&(i.textures=p),y.length>0&&(i.images=y),v.length>0&&(i.shapes=v),x.length>0&&(i.skeletons=x),S.length>0&&(i.animations=S),T.length>0&&(i.nodes=T)}return i.object=a,i;function u(h){const d=[];for(const p in h){const y=h[p];delete y.metadata,d.push(y)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const a=e.children[i];this.add(a.clone())}return this}}Dn.DEFAULT_UP=new Q(0,1,0);Dn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ho=new Q,ql=new Q,t_=new Q,Yl=new Q,ed=new Q,td=new Q,JT=new Q,n_=new Q,i_=new Q,s_=new Q,a_=new $n,r_=new $n,o_=new $n;class Wa{constructor(e=new Q,t=new Q,i=new Q){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,a){a.subVectors(i,t),ho.subVectors(e,t),a.cross(ho);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(e,t,i,a,o){ho.subVectors(a,t),ql.subVectors(i,t),t_.subVectors(e,t);const u=ho.dot(ho),h=ho.dot(ql),d=ho.dot(t_),p=ql.dot(ql),y=ql.dot(t_),v=u*p-h*h;if(v===0)return o.set(0,0,0),null;const x=1/v,S=(p*d-h*y)*x,T=(u*y-h*d)*x;return o.set(1-S-T,T,S)}static containsPoint(e,t,i,a){return this.getBarycoord(e,t,i,a,Yl)===null?!1:Yl.x>=0&&Yl.y>=0&&Yl.x+Yl.y<=1}static getInterpolation(e,t,i,a,o,u,h,d){return this.getBarycoord(e,t,i,a,Yl)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(o,Yl.x),d.addScaledVector(u,Yl.y),d.addScaledVector(h,Yl.z),d)}static getInterpolatedAttribute(e,t,i,a,o,u){return a_.setScalar(0),r_.setScalar(0),o_.setScalar(0),a_.fromBufferAttribute(e,t),r_.fromBufferAttribute(e,i),o_.fromBufferAttribute(e,a),u.setScalar(0),u.addScaledVector(a_,o.x),u.addScaledVector(r_,o.y),u.addScaledVector(o_,o.z),u}static isFrontFacing(e,t,i,a){return ho.subVectors(i,t),ql.subVectors(e,t),ho.cross(ql).dot(a)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,a){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,i,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ho.subVectors(this.c,this.b),ql.subVectors(this.a,this.b),ho.cross(ql).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Wa.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,a,o){return Wa.getInterpolation(e,this.a,this.b,this.c,t,i,a,o)}containsPoint(e){return Wa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,a=this.b,o=this.c;let u,h;ed.subVectors(a,i),td.subVectors(o,i),n_.subVectors(e,i);const d=ed.dot(n_),p=td.dot(n_);if(d<=0&&p<=0)return t.copy(i);i_.subVectors(e,a);const y=ed.dot(i_),v=td.dot(i_);if(y>=0&&v<=y)return t.copy(a);const x=d*v-y*p;if(x<=0&&d>=0&&y<=0)return u=d/(d-y),t.copy(i).addScaledVector(ed,u);s_.subVectors(e,o);const S=ed.dot(s_),T=td.dot(s_);if(T>=0&&S<=T)return t.copy(o);const C=S*p-d*T;if(C<=0&&p>=0&&T<=0)return h=p/(p-T),t.copy(i).addScaledVector(td,h);const A=y*T-S*v;if(A<=0&&v-y>=0&&S-T>=0)return JT.subVectors(o,a),h=(v-y)/(v-y+(S-T)),t.copy(a).addScaledVector(JT,h);const M=1/(A+C+x);return u=C*M,h=x*M,t.copy(i).addScaledVector(ed,u).addScaledVector(td,h)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const g5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kc={h:0,s:0,l:0},Gv={h:0,s:0,l:0};function l_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class yt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ys){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Tn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,a=Tn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Tn.colorSpaceToWorking(this,a),this}setHSL(e,t,i,a=Tn.workingColorSpace){if(e=zM(e,1),t=jt(t,0,1),i=jt(i,0,1),t===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+t):i+t-i*t,u=2*i-o;this.r=l_(u,o,e+1/3),this.g=l_(u,o,e),this.b=l_(u,o,e-1/3)}return Tn.colorSpaceToWorking(this,a),this}setStyle(e,t=Ys){function i(o){o!==void 0&&parseFloat(o)<1&&ht("Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const u=a[1],h=a[2];switch(u){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:ht("Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=a[1],u=o.length;if(u===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(u===6)return this.setHex(parseInt(o,16),t);ht("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ys){const i=g5[e.toLowerCase()];return i!==void 0?this.setHex(i,t):ht("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$l(e.r),this.g=$l(e.g),this.b=$l(e.b),this}copyLinearToSRGB(e){return this.r=Cd(e.r),this.g=Cd(e.g),this.b=Cd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ys){return Tn.workingToColorSpace(Xs.copy(this),e),Math.round(jt(Xs.r*255,0,255))*65536+Math.round(jt(Xs.g*255,0,255))*256+Math.round(jt(Xs.b*255,0,255))}getHexString(e=Ys){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Tn.workingColorSpace){Tn.workingToColorSpace(Xs.copy(this),t);const i=Xs.r,a=Xs.g,o=Xs.b,u=Math.max(i,a,o),h=Math.min(i,a,o);let d,p;const y=(h+u)/2;if(h===u)d=0,p=0;else{const v=u-h;switch(p=y<=.5?v/(u+h):v/(2-u-h),u){case i:d=(a-o)/v+(a<o?6:0);break;case a:d=(o-i)/v+2;break;case o:d=(i-a)/v+4;break}d/=6}return e.h=d,e.s=p,e.l=y,e}getRGB(e,t=Tn.workingColorSpace){return Tn.workingToColorSpace(Xs.copy(this),t),e.r=Xs.r,e.g=Xs.g,e.b=Xs.b,e}getStyle(e=Ys){Tn.workingToColorSpace(Xs.copy(this),e);const t=Xs.r,i=Xs.g,a=Xs.b;return e!==Ys?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(e,t,i){return this.getHSL(Kc),this.setHSL(Kc.h+e,Kc.s+t,Kc.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Kc),e.getHSL(Gv);const i=n0(Kc.h,Gv.h,t),a=n0(Kc.s,Gv.s,t),o=n0(Kc.l,Gv.l,t);return this.setHSL(i,a,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,a=this.b,o=e.elements;return this.r=o[0]*t+o[3]*i+o[6]*a,this.g=o[1]*t+o[4]*i+o[7]*a,this.b=o[2]*t+o[5]*i+o[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Xs=new yt;yt.NAMES=g5;let DP=0;class Qs extends fl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:DP++}),this.uuid=or(),this.name="",this.type="Material",this.blending=Rf,this.side=tc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=t1,this.blendDst=n1,this.blendEquation=tu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new yt(0,0,0),this.blendAlpha=0,this.depthFunc=If,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=bf,this.stencilZFail=bf,this.stencilZPass=bf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){ht(`Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){ht(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(i):a&&a.isVector3&&i&&i.isVector3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Rf&&(i.blending=this.blending),this.side!==tc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==t1&&(i.blendSrc=this.blendSrc),this.blendDst!==n1&&(i.blendDst=this.blendDst),this.blendEquation!==tu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==If&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==bS&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==bf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==bf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==bf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.allowOverride===!1&&(i.allowOverride=!1),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function a(o){const u=[];for(const h in o){const d=o[h];delete d.metadata,u.push(d)}return u}if(t){const o=a(e.textures),u=a(e.images);o.length>0&&(i.textures=o),u.length>0&&(i.images=u)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const a=t.length;i=new Array(a);for(let o=0;o!==a;++o)i[o]=t[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class mu extends Qs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cr,this.combine=z0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ql=LP();function LP(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),a=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(i[d]=0,i[d|256]=32768,a[d]=24,a[d|256]=24):p<-14?(i[d]=1024>>-p-14,i[d|256]=1024>>-p-14|32768,a[d]=-p-1,a[d|256]=-p-1):p<=15?(i[d]=p+15<<10,i[d|256]=p+15<<10|32768,a[d]=13,a[d|256]=13):p<128?(i[d]=31744,i[d|256]=64512,a[d]=24,a[d|256]=24):(i[d]=31744,i[d|256]=64512,a[d]=13,a[d|256]=13)}const o=new Uint32Array(2048),u=new Uint32Array(64),h=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,y=0;for(;(p&8388608)===0;)p<<=1,y-=8388608;p&=-8388609,y+=947912704,o[d]=p|y}for(let d=1024;d<2048;++d)o[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)u[d]=d<<23;u[31]=1199570944,u[32]=2147483648;for(let d=33;d<63;++d)u[d]=2147483648+(d-32<<23);u[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(h[d]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:a,mantissaTable:o,exponentTable:u,offsetTable:h}}function Ha(n){Math.abs(n)>65504&&ht("DataUtils.toHalfFloat(): Value out of range."),n=jt(n,-65504,65504),Ql.floatView[0]=n;const e=Ql.uint32View[0],t=e>>23&511;return Ql.baseTable[t]+((e&8388607)>>Ql.shiftTable[t])}function Hm(n){const e=n>>10;return Ql.uint32View[0]=Ql.mantissaTable[Ql.offsetTable[e]+(n&1023)]+Ql.exponentTable[e],Ql.floatView[0]}class IP{static toHalfFloat(e){return Ha(e)}static fromHalfFloat(e){return Hm(e)}}const es=new Q,jv=new Ge;let PP=0;class Kn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:PP++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=x0,this.updateRanges=[],this.gpuType=xa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[e+a]=t.array[i+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)jv.fromBufferAttribute(this,t),jv.applyMatrix3(e),this.setXY(t,jv.x,jv.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)es.fromBufferAttribute(this,t),es.applyMatrix3(e),this.setXYZ(t,es.x,es.y,es.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)es.fromBufferAttribute(this,t),es.applyMatrix4(e),this.setXYZ(t,es.x,es.y,es.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)es.fromBufferAttribute(this,t),es.applyNormalMatrix(e),this.setXYZ(t,es.x,es.y,es.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)es.fromBufferAttribute(this,t),es.transformDirection(e),this.setXYZ(t,es.x,es.y,es.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=ga(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ln(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),i=ln(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),i=ln(i,this.array),a=ln(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this}setXYZW(e,t,i,a,o){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),i=ln(i,this.array),a=ln(a,this.array),o=ln(o,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==x0&&(e.usage=this.usage),e}}class UP extends Kn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class OP extends Kn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class zP extends Kn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class BP extends Kn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class FM extends Kn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class FP extends Kn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class kM extends Kn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class kP extends Kn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Hm(this.array[e*this.itemSize]);return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize]=Ha(t),this}getY(e){let t=Hm(this.array[e*this.itemSize+1]);return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+1]=Ha(t),this}getZ(e){let t=Hm(this.array[e*this.itemSize+2]);return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+2]=Ha(t),this}getW(e){let t=Hm(this.array[e*this.itemSize+3]);return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+3]=Ha(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),i=ln(i,this.array)),this.array[e+0]=Ha(t),this.array[e+1]=Ha(i),this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),i=ln(i,this.array),a=ln(a,this.array)),this.array[e+0]=Ha(t),this.array[e+1]=Ha(i),this.array[e+2]=Ha(a),this}setXYZW(e,t,i,a,o){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),i=ln(i,this.array),a=ln(a,this.array),o=ln(o,this.array)),this.array[e+0]=Ha(t),this.array[e+1]=Ha(i),this.array[e+2]=Ha(a),this.array[e+3]=Ha(o),this}}class wt extends Kn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let VP=0;const Or=new Xt,c_=new Dn,nd=new Q,ar=new Ks,Nm=new Ks,vs=new Q;class tn extends fl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:VP++}),this.uuid=or(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(f5(e)?kM:FM)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new sn().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Or.makeRotationFromQuaternion(e),this.applyMatrix4(Or),this}rotateX(e){return Or.makeRotationX(e),this.applyMatrix4(Or),this}rotateY(e){return Or.makeRotationY(e),this.applyMatrix4(Or),this}rotateZ(e){return Or.makeRotationZ(e),this.applyMatrix4(Or),this}translate(e,t,i){return Or.makeTranslation(e,t,i),this.applyMatrix4(Or),this}scale(e,t,i){return Or.makeScale(e,t,i),this.applyMatrix4(Or),this}lookAt(e){return c_.lookAt(e),c_.updateMatrix(),this.applyMatrix4(c_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(nd).negate(),this.translate(nd.x,nd.y,nd.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let a=0,o=e.length;a<o;a++){const u=e[a];i.push(u.x,u.y,u.z||0)}this.setAttribute("position",new wt(i,3))}else{const i=Math.min(e.length,t.count);for(let a=0;a<i;a++){const o=e[a];t.setXYZ(a,o.x,o.y,o.z||0)}e.length>t.count&&ht("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ks);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Dt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,a=t.length;i<a;i++){const o=t[i];ar.setFromBufferAttribute(o),this.morphTargetsRelative?(vs.addVectors(this.boundingBox.min,ar.min),this.boundingBox.expandByPoint(vs),vs.addVectors(this.boundingBox.max,ar.max),this.boundingBox.expandByPoint(vs)):(this.boundingBox.expandByPoint(ar.min),this.boundingBox.expandByPoint(ar.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Dt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Is);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Dt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Q,1/0);return}if(e){const i=this.boundingSphere.center;if(ar.setFromBufferAttribute(e),t)for(let o=0,u=t.length;o<u;o++){const h=t[o];Nm.setFromBufferAttribute(h),this.morphTargetsRelative?(vs.addVectors(ar.min,Nm.min),ar.expandByPoint(vs),vs.addVectors(ar.max,Nm.max),ar.expandByPoint(vs)):(ar.expandByPoint(Nm.min),ar.expandByPoint(Nm.max))}ar.getCenter(i);let a=0;for(let o=0,u=e.count;o<u;o++)vs.fromBufferAttribute(e,o),a=Math.max(a,i.distanceToSquared(vs));if(t)for(let o=0,u=t.length;o<u;o++){const h=t[o],d=this.morphTargetsRelative;for(let p=0,y=h.count;p<y;p++)vs.fromBufferAttribute(h,p),d&&(nd.fromBufferAttribute(e,p),vs.add(nd)),a=Math.max(a,i.distanceToSquared(vs))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&Dt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Dt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,a=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kn(new Float32Array(4*i.count),4));const u=this.getAttribute("tangent"),h=[],d=[];for(let j=0;j<i.count;j++)h[j]=new Q,d[j]=new Q;const p=new Q,y=new Q,v=new Q,x=new Ge,S=new Ge,T=new Ge,C=new Q,A=new Q;function M(j,U,B){p.fromBufferAttribute(i,j),y.fromBufferAttribute(i,U),v.fromBufferAttribute(i,B),x.fromBufferAttribute(o,j),S.fromBufferAttribute(o,U),T.fromBufferAttribute(o,B),y.sub(p),v.sub(p),S.sub(x),T.sub(x);const Y=1/(S.x*T.y-T.x*S.y);isFinite(Y)&&(C.copy(y).multiplyScalar(T.y).addScaledVector(v,-S.y).multiplyScalar(Y),A.copy(v).multiplyScalar(S.x).addScaledVector(y,-T.x).multiplyScalar(Y),h[j].add(C),h[U].add(C),h[B].add(C),d[j].add(A),d[U].add(A),d[B].add(A))}let N=this.groups;N.length===0&&(N=[{start:0,count:e.count}]);for(let j=0,U=N.length;j<U;++j){const B=N[j],Y=B.start,ie=B.count;for(let ee=Y,me=Y+ie;ee<me;ee+=3)M(e.getX(ee+0),e.getX(ee+1),e.getX(ee+2))}const D=new Q,I=new Q,z=new Q,F=new Q;function k(j){z.fromBufferAttribute(a,j),F.copy(z);const U=h[j];D.copy(U),D.sub(z.multiplyScalar(z.dot(U))).normalize(),I.crossVectors(F,U);const Y=I.dot(d[j])<0?-1:1;u.setXYZW(j,D.x,D.y,D.z,Y)}for(let j=0,U=N.length;j<U;++j){const B=N[j],Y=B.start,ie=B.count;for(let ee=Y,me=Y+ie;ee<me;ee+=3)k(e.getX(ee+0)),k(e.getX(ee+1)),k(e.getX(ee+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Kn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let x=0,S=i.count;x<S;x++)i.setXYZ(x,0,0,0);const a=new Q,o=new Q,u=new Q,h=new Q,d=new Q,p=new Q,y=new Q,v=new Q;if(e)for(let x=0,S=e.count;x<S;x+=3){const T=e.getX(x+0),C=e.getX(x+1),A=e.getX(x+2);a.fromBufferAttribute(t,T),o.fromBufferAttribute(t,C),u.fromBufferAttribute(t,A),y.subVectors(u,o),v.subVectors(a,o),y.cross(v),h.fromBufferAttribute(i,T),d.fromBufferAttribute(i,C),p.fromBufferAttribute(i,A),h.add(y),d.add(y),p.add(y),i.setXYZ(T,h.x,h.y,h.z),i.setXYZ(C,d.x,d.y,d.z),i.setXYZ(A,p.x,p.y,p.z)}else for(let x=0,S=t.count;x<S;x+=3)a.fromBufferAttribute(t,x+0),o.fromBufferAttribute(t,x+1),u.fromBufferAttribute(t,x+2),y.subVectors(u,o),v.subVectors(a,o),y.cross(v),i.setXYZ(x+0,y.x,y.y,y.z),i.setXYZ(x+1,y.x,y.y,y.z),i.setXYZ(x+2,y.x,y.y,y.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)vs.fromBufferAttribute(e,t),vs.normalize(),e.setXYZ(t,vs.x,vs.y,vs.z)}toNonIndexed(){function e(h,d){const p=h.array,y=h.itemSize,v=h.normalized,x=new p.constructor(d.length*y);let S=0,T=0;for(let C=0,A=d.length;C<A;C++){h.isInterleavedBufferAttribute?S=d[C]*h.data.stride+h.offset:S=d[C]*y;for(let M=0;M<y;M++)x[T++]=p[S++]}return new Kn(x,y,v)}if(this.index===null)return ht("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new tn,i=this.index.array,a=this.attributes;for(const h in a){const d=a[h],p=e(d,i);t.setAttribute(h,p)}const o=this.morphAttributes;for(const h in o){const d=[],p=o[h];for(let y=0,v=p.length;y<v;y++){const x=p[y],S=e(x,i);d.push(S)}t.morphAttributes[h]=d}t.morphTargetsRelative=this.morphTargetsRelative;const u=this.groups;for(let h=0,d=u.length;h<d;h++){const p=u[h];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const d in i){const p=i[d];e.data.attributes[d]=p.toJSON(e.data)}const a={};let o=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],y=[];for(let v=0,x=p.length;v<x;v++){const S=p[v];y.push(S.toJSON(e.data))}y.length>0&&(a[d]=y,o=!0)}o&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const u=this.groups;u.length>0&&(e.data.groups=JSON.parse(JSON.stringify(u)));const h=this.boundingSphere;return h!==null&&(e.data.boundingSphere=h.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const a=e.attributes;for(const p in a){const y=a[p];this.setAttribute(p,y.clone(t))}const o=e.morphAttributes;for(const p in o){const y=[],v=o[p];for(let x=0,S=v.length;x<S;x++)y.push(v[x].clone(t));this.morphAttributes[p]=y}this.morphTargetsRelative=e.morphTargetsRelative;const u=e.groups;for(let p=0,y=u.length;p<y;p++){const v=u[p];this.addGroup(v.start,v.count,v.materialIndex)}const h=e.boundingBox;h!==null&&(this.boundingBox=h.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const $T=new Xt,of=new qd,Wv=new Is,eE=new Q,Xv=new Q,qv=new Q,Yv=new Q,u_=new Q,Zv=new Q,tE=new Q,Kv=new Q;class ns extends Dn{constructor(e=new tn,t=new mu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,u=a.length;o<u;o++){const h=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}getVertexPosition(e,t){const i=this.geometry,a=i.attributes.position,o=i.morphAttributes.position,u=i.morphTargetsRelative;t.fromBufferAttribute(a,e);const h=this.morphTargetInfluences;if(o&&h){Zv.set(0,0,0);for(let d=0,p=o.length;d<p;d++){const y=h[d],v=o[d];y!==0&&(u_.fromBufferAttribute(v,e),u?Zv.addScaledVector(u_,y):Zv.addScaledVector(u_.sub(t),y))}t.add(Zv)}return t}raycast(e,t){const i=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Wv.copy(i.boundingSphere),Wv.applyMatrix4(o),of.copy(e.ray).recast(e.near),!(Wv.containsPoint(of.origin)===!1&&(of.intersectSphere(Wv,eE)===null||of.origin.distanceToSquared(eE)>(e.far-e.near)**2))&&($T.copy(o).invert(),of.copy(e.ray).applyMatrix4($T),!(i.boundingBox!==null&&of.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,of)))}_computeIntersections(e,t,i){let a;const o=this.geometry,u=this.material,h=o.index,d=o.attributes.position,p=o.attributes.uv,y=o.attributes.uv1,v=o.attributes.normal,x=o.groups,S=o.drawRange;if(h!==null)if(Array.isArray(u))for(let T=0,C=x.length;T<C;T++){const A=x[T],M=u[A.materialIndex],N=Math.max(A.start,S.start),D=Math.min(h.count,Math.min(A.start+A.count,S.start+S.count));for(let I=N,z=D;I<z;I+=3){const F=h.getX(I),k=h.getX(I+1),j=h.getX(I+2);a=Qv(this,M,e,i,p,y,v,F,k,j),a&&(a.faceIndex=Math.floor(I/3),a.face.materialIndex=A.materialIndex,t.push(a))}}else{const T=Math.max(0,S.start),C=Math.min(h.count,S.start+S.count);for(let A=T,M=C;A<M;A+=3){const N=h.getX(A),D=h.getX(A+1),I=h.getX(A+2);a=Qv(this,u,e,i,p,y,v,N,D,I),a&&(a.faceIndex=Math.floor(A/3),t.push(a))}}else if(d!==void 0)if(Array.isArray(u))for(let T=0,C=x.length;T<C;T++){const A=x[T],M=u[A.materialIndex],N=Math.max(A.start,S.start),D=Math.min(d.count,Math.min(A.start+A.count,S.start+S.count));for(let I=N,z=D;I<z;I+=3){const F=I,k=I+1,j=I+2;a=Qv(this,M,e,i,p,y,v,F,k,j),a&&(a.faceIndex=Math.floor(I/3),a.face.materialIndex=A.materialIndex,t.push(a))}}else{const T=Math.max(0,S.start),C=Math.min(d.count,S.start+S.count);for(let A=T,M=C;A<M;A+=3){const N=A,D=A+1,I=A+2;a=Qv(this,u,e,i,p,y,v,N,D,I),a&&(a.faceIndex=Math.floor(A/3),t.push(a))}}}}function HP(n,e,t,i,a,o,u,h){let d;if(e.side===ba?d=i.intersectTriangle(u,o,a,!0,h):d=i.intersectTriangle(a,o,u,e.side===tc,h),d===null)return null;Kv.copy(h),Kv.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(Kv);return p<t.near||p>t.far?null:{distance:p,point:Kv.clone(),object:n}}function Qv(n,e,t,i,a,o,u,h,d,p){n.getVertexPosition(h,Xv),n.getVertexPosition(d,qv),n.getVertexPosition(p,Yv);const y=HP(n,e,t,i,Xv,qv,Yv,tE);if(y){const v=new Q;Wa.getBarycoord(tE,Xv,qv,Yv,v),a&&(y.uv=Wa.getInterpolatedAttribute(a,h,d,p,v,new Ge)),o&&(y.uv1=Wa.getInterpolatedAttribute(o,h,d,p,v,new Ge)),u&&(y.normal=Wa.getInterpolatedAttribute(u,h,d,p,v,new Q),y.normal.dot(i.direction)>0&&y.normal.multiplyScalar(-1));const x={a:h,b:d,c:p,normal:new Q,materialIndex:0};Wa.getNormal(Xv,qv,Yv,x.normal),y.face=x,y.barycoord=v}return y}class Bf extends tn{constructor(e=1,t=1,i=1,a=1,o=1,u=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:a,heightSegments:o,depthSegments:u};const h=this;a=Math.floor(a),o=Math.floor(o),u=Math.floor(u);const d=[],p=[],y=[],v=[];let x=0,S=0;T("z","y","x",-1,-1,i,t,e,u,o,0),T("z","y","x",1,-1,i,t,-e,u,o,1),T("x","z","y",1,1,e,i,t,a,u,2),T("x","z","y",1,-1,e,i,-t,a,u,3),T("x","y","z",1,-1,e,t,i,a,o,4),T("x","y","z",-1,-1,e,t,-i,a,o,5),this.setIndex(d),this.setAttribute("position",new wt(p,3)),this.setAttribute("normal",new wt(y,3)),this.setAttribute("uv",new wt(v,2));function T(C,A,M,N,D,I,z,F,k,j,U){const B=I/k,Y=z/j,ie=I/2,ee=z/2,me=F/2,he=k+1,q=j+1;let K=0,oe=0;const Ee=new Q;for(let Ce=0;Ce<q;Ce++){const X=Ce*Y-ee;for(let re=0;re<he;re++){const pe=re*B-ie;Ee[C]=pe*N,Ee[A]=X*D,Ee[M]=me,p.push(Ee.x,Ee.y,Ee.z),Ee[C]=0,Ee[A]=0,Ee[M]=F>0?1:-1,y.push(Ee.x,Ee.y,Ee.z),v.push(re/k),v.push(1-Ce/j),K+=1}}for(let Ce=0;Ce<j;Ce++)for(let X=0;X<k;X++){const re=x+X+he*Ce,pe=x+X+he*(Ce+1),De=x+(X+1)+he*(Ce+1),Xe=x+(X+1)+he*Ce;d.push(re,pe,Xe),d.push(pe,De,Xe),oe+=6}h.addGroup(S,oe,U),S+=oe,x+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bd(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const a=n[t][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(ht("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=a.clone():Array.isArray(a)?e[t][i]=a.slice():e[t][i]=a}}return e}function pa(n){const e={};for(let t=0;t<n.length;t++){const i=Bd(n[t]);for(const a in i)e[a]=i[a]}return e}function GP(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function v5(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Tn.workingColorSpace}const y5={clone:Bd,merge:pa};var jP=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,WP=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ur extends Qs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jP,this.fragmentShader=WP,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bd(e.uniforms),this.uniformsGroups=GP(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const u=this.uniforms[a].value;u&&u.isTexture?t.uniforms[a]={type:"t",value:u.toJSON(e).uuid}:u&&u.isColor?t.uniforms[a]={type:"c",value:u.getHex()}:u&&u.isVector2?t.uniforms[a]={type:"v2",value:u.toArray()}:u&&u.isVector3?t.uniforms[a]={type:"v3",value:u.toArray()}:u&&u.isVector4?t.uniforms[a]={type:"v4",value:u.toArray()}:u&&u.isMatrix3?t.uniforms[a]={type:"m3",value:u.toArray()}:u&&u.isMatrix4?t.uniforms[a]={type:"m4",value:u.toArray()}:t.uniforms[a]={value:u}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class yx extends Dn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xt,this.projectionMatrix=new Xt,this.projectionMatrixInverse=new Xt,this.coordinateSystem=rr,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Qc=new Q,nE=new Ge,iE=new Ge;class xs extends yx{constructor(e=50,t=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Od*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Nf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Od*2*Math.atan(Math.tan(Nf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Qc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Qc.x,Qc.y).multiplyScalar(-e/Qc.z),Qc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Qc.x,Qc.y).multiplyScalar(-e/Qc.z)}getViewSize(e,t){return this.getViewBounds(e,nE,iE),t.subVectors(iE,nE)}setViewOffset(e,t,i,a,o,u){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Nf*.5*this.fov)/this.zoom,i=2*t,a=this.aspect*i,o=-.5*a;const u=this.view;if(this.view!==null&&this.view.enabled){const d=u.fullWidth,p=u.fullHeight;o+=u.offsetX*a/d,t-=u.offsetY*i/p,a*=u.width/d,i*=u.height/p}const h=this.filmOffset;h!==0&&(o+=e*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const id=-90,sd=1;class x5 extends Dn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new xs(id,sd,e,t);a.layers=this.layers,this.add(a);const o=new xs(id,sd,e,t);o.layers=this.layers,this.add(o);const u=new xs(id,sd,e,t);u.layers=this.layers,this.add(u);const h=new xs(id,sd,e,t);h.layers=this.layers,this.add(h);const d=new xs(id,sd,e,t);d.layers=this.layers,this.add(d);const p=new xs(id,sd,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,a,o,u,h,d]=t;for(const p of t)this.remove(p);if(e===rr)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),u.up.set(0,0,1),u.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===Pd)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),u.up.set(0,0,-1),u.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,u,h,d,p,y]=this.children,v=e.getRenderTarget(),x=e.getActiveCubeFace(),S=e.getActiveMipmapLevel(),T=e.xr.enabled;e.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,a),e.render(t,o),e.setRenderTarget(i,1,a),e.render(t,u),e.setRenderTarget(i,2,a),e.render(t,h),e.setRenderTarget(i,3,a),e.render(t,d),e.setRenderTarget(i,4,a),e.render(t,p),i.texture.generateMipmaps=C,e.setRenderTarget(i,5,a),e.render(t,y),e.setRenderTarget(v,x,S),e.xr.enabled=T,i.texture.needsPMREMUpdate=!0}}class F0 extends Ui{constructor(e=[],t=ll,i,a,o,u,h,d,p,y){super(e,t,i,a,o,u,h,d,p,y),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class VM extends lr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},a=[i,i,i,i,i,i];this.texture=new F0(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Bf(5,5,5),o=new ur({name:"CubemapFromEquirect",uniforms:Bd(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ba,blending:ol});o.uniforms.tEquirect.value=t;const u=new ns(a,o),h=t.minFilter;return t.minFilter===sl&&(t.minFilter=hi),new x5(1,10,this).update(e,u),t.minFilter=h,u.geometry.dispose(),u.material.dispose(),this}clear(e,t=!0,i=!0,a=!0){const o=e.getRenderTarget();for(let u=0;u<6;u++)e.setRenderTarget(this,u),e.clear(t,i,a);e.setRenderTarget(o)}}class Td extends Dn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const XP={type:"move"};class Vy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Td,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Td,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Td,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let a=null,o=null,u=null;const h=this._targetRay,d=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){u=!0;for(const C of e.hand.values()){const A=t.getJointPose(C,i),M=this._getHandJoint(p,C);A!==null&&(M.matrix.fromArray(A.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=A.radius),M.visible=A!==null}const y=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],x=y.position.distanceTo(v.position),S=.02,T=.005;p.inputState.pinching&&x>S+T?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&x<=S-T&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,i),o!==null&&(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1));h!==null&&(a=t.getPose(e.targetRaySpace,i),a===null&&o!==null&&(a=o),a!==null&&(h.matrix.fromArray(a.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,a.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(a.linearVelocity)):h.hasLinearVelocity=!1,a.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(a.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(XP)))}return h!==null&&(h.visible=a!==null),d!==null&&(d.visible=o!==null),p!==null&&(p.visible=u!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Td;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class xx{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new yt(e),this.density=t}clone(){return new xx(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class bx{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new yt(e),this.near=t,this.far=i}clone(){return new bx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class HM extends Dn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new cr,this.environmentIntensity=1,this.environmentRotation=new cr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class _x{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=x0,this.updateRanges=[],this.version=0,this.uuid=or()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let a=0,o=this.stride;a<o;a++)this.array[e+a]=t.array[i+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const da=new Q;class Uf{constructor(e,t,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)da.fromBufferAttribute(this,t),da.applyMatrix4(e),this.setXYZ(t,da.x,da.y,da.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)da.fromBufferAttribute(this,t),da.applyNormalMatrix(e),this.setXYZ(t,da.x,da.y,da.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)da.fromBufferAttribute(this,t),da.transformDirection(e),this.setXYZ(t,da.x,da.y,da.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=ga(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ln(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ga(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ga(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ga(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ga(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ln(t,this.array),i=ln(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=ln(t,this.array),i=ln(i,this.array),a=ln(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this}setXYZW(e,t,i,a,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=ln(t,this.array),i=ln(i,this.array),a=ln(a,this.array),o=ln(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this.data.array[e+3]=o,this}clone(e){if(e===void 0){_0("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return new Kn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Uf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){_0("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class GM extends Qs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ad;const Dm=new Q,rd=new Q,od=new Q,ld=new Ge,Lm=new Ge,b5=new Xt,Jv=new Q,Im=new Q,$v=new Q,sE=new Ge,f_=new Ge,aE=new Ge;class _5 extends Dn{constructor(e=new GM){if(super(),this.isSprite=!0,this.type="Sprite",ad===void 0){ad=new tn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new _x(t,5);ad.setIndex([0,1,2,0,2,3]),ad.setAttribute("position",new Uf(i,3,0,!1)),ad.setAttribute("uv",new Uf(i,2,3,!1))}this.geometry=ad,this.material=e,this.center=new Ge(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Dt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rd.setFromMatrixScale(this.matrixWorld),b5.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),od.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&rd.multiplyScalar(-od.z);const i=this.material.rotation;let a,o;i!==0&&(o=Math.cos(i),a=Math.sin(i));const u=this.center;ey(Jv.set(-.5,-.5,0),od,u,rd,a,o),ey(Im.set(.5,-.5,0),od,u,rd,a,o),ey($v.set(.5,.5,0),od,u,rd,a,o),sE.set(0,0),f_.set(1,0),aE.set(1,1);let h=e.ray.intersectTriangle(Jv,Im,$v,!1,Dm);if(h===null&&(ey(Im.set(-.5,.5,0),od,u,rd,a,o),f_.set(0,1),h=e.ray.intersectTriangle(Jv,$v,Im,!1,Dm),h===null))return;const d=e.ray.origin.distanceTo(Dm);d<e.near||d>e.far||t.push({distance:d,point:Dm.clone(),uv:Wa.getInterpolation(Dm,Jv,Im,$v,sE,f_,aE,new Ge),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ey(n,e,t,i,a,o){ld.subVectors(n,t).addScalar(.5).multiply(i),a!==void 0?(Lm.x=o*ld.x-a*ld.y,Lm.y=a*ld.x+o*ld.y):Lm.copy(ld),n.copy(e),n.x+=Lm.x,n.y+=Lm.y,n.applyMatrix4(b5)}const ty=new Q,rE=new Q;class S5 extends Dn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,a=t.length;i<a;i++){const o=t[i];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const a=this.levels;let o;for(o=0;o<a.length&&!(t<a[o].distance);o++);return a.splice(o,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const a=t.splice(i,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,a;for(i=1,a=t.length;i<a;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),e<o)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){ty.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(ty);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ty.setFromMatrixPosition(e.matrixWorld),rE.setFromMatrixPosition(this.matrixWorld);const i=ty.distanceTo(rE)/e.zoom;t[0].object.visible=!0;let a,o;for(a=1,o=t.length;a<o;a++){let u=t[a].distance;if(t[a].object.visible&&(u-=u*t[a].hysteresis),i>=u)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<o;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let a=0,o=i.length;a<o;a++){const u=i[a];t.object.levels.push({object:u.object.uuid,distance:u.distance,hysteresis:u.hysteresis})}return t}}const oE=new Q,lE=new $n,cE=new $n,qP=new Q,uE=new Xt,ny=new Q,h_=new Is,fE=new Xt,d_=new qd;class M5 extends ns{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=xS,this.bindMatrix=new Xt,this.bindMatrixInverse=new Xt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ks),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,ny),this.boundingBox.expandByPoint(ny)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Is),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,ny),this.boundingSphere.expandByPoint(ny)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,a=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),h_.copy(this.boundingSphere),h_.applyMatrix4(a),e.ray.intersectsSphere(h_)!==!1&&(fE.copy(a).invert(),d_.copy(e.ray).applyMatrix4(fE),!(this.boundingBox!==null&&d_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,d_)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $n,t=this.geometry.attributes.skinWeight;for(let i=0,a=t.count;i<a;i++){e.fromBufferAttribute(t,i);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===xS?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$C?this.bindMatrixInverse.copy(this.bindMatrix).invert():ht("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,a=this.geometry;lE.fromBufferAttribute(a.attributes.skinIndex,e),cE.fromBufferAttribute(a.attributes.skinWeight,e),oE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const u=cE.getComponent(o);if(u!==0){const h=lE.getComponent(o);uE.multiplyMatrices(i.bones[h].matrixWorld,i.boneInverses[h]),t.addScaledVector(qP.copy(oE).applyMatrix4(uE),u)}}return t.applyMatrix4(this.bindMatrixInverse)}}class jM extends Dn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class yo extends Ui{constructor(e=null,t=1,i=1,a,o,u,h,d,p=Wi,y=Wi,v,x){super(null,u,h,d,p,y,a,o,v,x),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const hE=new Xt,YP=new Xt;class Sx{constructor(e=[],t=[]){this.uuid=or(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){ht("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new Xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Xt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,a=this.boneTexture;for(let o=0,u=e.length;o<u;o++){const h=e[o]?e[o].matrixWorld:YP;hE.multiplyMatrices(h,t[o]),hE.toArray(i,o*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new Sx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new yo(t,e,e,Zs,xa);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,a=e.bones.length;i<a;i++){const o=e.bones[i];let u=t[o];u===void 0&&(ht("Skeleton: No bone found with UUID:",o),u=new jM),this.bones.push(u),this.boneInverses.push(new Xt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let a=0,o=t.length;a<o;a++){const u=t[a];e.bones.push(u.uuid);const h=i[a];e.boneInverses.push(h.toArray())}return e}}class Fd extends Kn{constructor(e,t,i,a=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const cd=new Xt,dE=new Xt,iy=[],pE=new Ks,ZP=new Xt,Pm=new ns,Um=new Is;class w5 extends ns{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Fd(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<i;a++)this.setMatrixAt(a,ZP)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ks),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,cd),pE.copy(e.boundingBox).applyMatrix4(cd),this.boundingBox.union(pE)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Is),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,cd),Um.copy(e.boundingSphere).applyMatrix4(cd),this.boundingSphere.union(Um)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,a=this.morphTexture.source.data.data,o=i.length+1,u=e*o+1;for(let h=0;h<i.length;h++)i[h]=a[u+h]}raycast(e,t){const i=this.matrixWorld,a=this.count;if(Pm.geometry=this.geometry,Pm.material=this.material,Pm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Um.copy(this.boundingSphere),Um.applyMatrix4(i),e.ray.intersectsSphere(Um)!==!1))for(let o=0;o<a;o++){this.getMatrixAt(o,cd),dE.multiplyMatrices(i,cd),Pm.matrixWorld=dE,Pm.raycast(e,iy);for(let u=0,h=iy.length;u<h;u++){const d=iy[u];d.instanceId=o,d.object=this,t.push(d)}iy.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Fd(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,a=i.length+1;this.morphTexture===null&&(this.morphTexture=new yo(new Float32Array(a*this.count),a,this.count,ux,xa));const o=this.morphTexture.source.data.data;let u=0;for(let p=0;p<i.length;p++)u+=i[p];const h=this.geometry.morphTargetsRelative?1:1-u,d=a*e;o[d]=h,o.set(i,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const p_=new Q,KP=new Q,QP=new sn;class eu{constructor(e=new Q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,a){return this.normal.set(e,t,i),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const a=p_.subVectors(i,t).cross(KP.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(p_),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:t.copy(e.start).addScaledVector(i,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||QP.getNormalMatrix(e),a=this.coplanarPoint(p_).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const lf=new Is,JP=new Ge(.5,.5),sy=new Q;class Yd{constructor(e=new eu,t=new eu,i=new eu,a=new eu,o=new eu,u=new eu){this.planes=[e,t,i,a,o,u]}set(e,t,i,a,o,u){const h=this.planes;return h[0].copy(e),h[1].copy(t),h[2].copy(i),h[3].copy(a),h[4].copy(o),h[5].copy(u),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=rr,i=!1){const a=this.planes,o=e.elements,u=o[0],h=o[1],d=o[2],p=o[3],y=o[4],v=o[5],x=o[6],S=o[7],T=o[8],C=o[9],A=o[10],M=o[11],N=o[12],D=o[13],I=o[14],z=o[15];if(a[0].setComponents(p-u,S-y,M-T,z-N).normalize(),a[1].setComponents(p+u,S+y,M+T,z+N).normalize(),a[2].setComponents(p+h,S+v,M+C,z+D).normalize(),a[3].setComponents(p-h,S-v,M-C,z-D).normalize(),i)a[4].setComponents(d,x,A,I).normalize(),a[5].setComponents(p-d,S-x,M-A,z-I).normalize();else if(a[4].setComponents(p-d,S-x,M-A,z-I).normalize(),t===rr)a[5].setComponents(p+d,S+x,M+A,z+I).normalize();else if(t===Pd)a[5].setComponents(d,x,A,I).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),lf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),lf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(lf)}intersectsSprite(e){lf.center.set(0,0,0);const t=JP.distanceTo(e.center);return lf.radius=.7071067811865476+t,lf.applyMatrix4(e.matrixWorld),this.intersectsSphere(lf)}intersectsSphere(e){const t=this.planes,i=e.center,a=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(i)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const a=t[i];if(sy.x=a.normal.x>0?e.max.x:e.min.x,sy.y=a.normal.y>0?e.max.y:e.min.y,sy.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(sy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const $o=new Xt,el=new Yd;class Mx{constructor(){this.coordinateSystem=rr}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if($o.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),el.setFromProjectionMatrix($o,a.coordinateSystem,a.reversedDepth),el.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if($o.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),el.setFromProjectionMatrix($o,a.coordinateSystem,a.reversedDepth),el.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if($o.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),el.setFromProjectionMatrix($o,a.coordinateSystem,a.reversedDepth),el.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if($o.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),el.setFromProjectionMatrix($o,a.coordinateSystem,a.reversedDepth),el.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if($o.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),el.setFromProjectionMatrix($o,a.coordinateSystem,a.reversedDepth),el.containsPoint(e))return!0}return!1}clone(){return new Mx}}function m_(n,e){return n-e}function $P(n,e){return n.z-e.z}function eU(n,e){return e.z-n.z}class tU{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,a){const o=this.pool,u=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const h=o[this.index];u.push(h),this.index++,h.start=e,h.count=t,h.z=i,h.index=a}reset(){this.list.length=0,this.index=0}}const Va=new Xt,nU=new yt(1,1,1),mE=new Yd,iU=new Mx,ay=new Ks,cf=new Is,Om=new Q,gE=new Q,sU=new Q,g_=new tU,qs=new ns,ry=[];function aU(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let o=0;o<a;o++)for(let u=0;u<i;u++)e.setComponent(o+t,u,n.getComponent(o,u))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function uf(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class T5 extends ns{constructor(e,t,i=t*2,a){super(new tn,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new yo(t,e,e,Zs,xa);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new yo(t,e,e,B0,kr);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new yo(t,e,e,Zs,xa);i.colorSpace=Tn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const u=e.getAttribute(o),{array:h,itemSize:d,normalized:p}=u,y=new h.constructor(i*d),v=new Kn(y,d,p);t.setAttribute(o,v)}if(e.getIndex()!==null){const o=i>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new Kn(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const a=e.getAttribute(i),o=t.getAttribute(i);if(a.itemSize!==o.itemSize||a.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ks);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const o=t[i].geometryIndex;this.getMatrixAt(i,Va),this.getBoundingBoxAt(o,ay).applyMatrix4(Va),e.union(ay)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Is);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const o=t[i].geometryIndex;this.getMatrixAt(i,Va),this.getBoundingSphereAt(o,cf).applyMatrix4(Va),e.union(cf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(m_),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=i):(a=this._instanceInfo.length,this._instanceInfo.push(i));const o=this._matricesTexture;Va.identity().toArray(o.image.data,a*16),o.needsUpdate=!0;const u=this._colorsTexture;return u&&(nU.toArray(u.image.data,a*4),u.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const u=e.getIndex();if(u!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=i===-1?u.count:i),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(m_),d=this._availableGeometryIds.shift(),o[d]=a):(d=this._geometryCount,this._geometryCount++,o.push(a)),this.setGeometryAt(d,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,d}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,a=i.getIndex()!==null,o=i.getIndex(),u=t.getIndex(),h=this._geometryInfo[e];if(a&&u.count>h.reservedIndexCount||t.attributes.position.count>h.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=h.vertexStart,p=h.reservedVertexCount;h.vertexCount=t.getAttribute("position").count;for(const y in i.attributes){const v=t.getAttribute(y),x=i.getAttribute(y);aU(v,x,d);const S=v.itemSize;for(let T=v.count,C=p;T<C;T++){const A=d+T;for(let M=0;M<S;M++)x.setComponent(A,M,0)}x.needsUpdate=!0,x.addUpdateRange(d*S,p*S)}if(a){const y=h.indexStart,v=h.reservedIndexCount;h.indexCount=t.getIndex().count;for(let x=0;x<u.count;x++)o.setX(y+x,d+u.getX(x));for(let x=u.count,S=v;x<S;x++)o.setX(y+x,d);o.needsUpdate=!0,o.addUpdateRange(y,h.reservedIndexCount)}return h.start=a?h.indexStart:h.vertexStart,h.count=a?h.indexCount:h.vertexCount,h.boundingBox=null,t.boundingBox!==null&&(h.boundingBox=t.boundingBox.clone()),h.boundingSphere=null,t.boundingSphere!==null&&(h.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let a=0,o=i.length;a<o;a++)i[a].active&&i[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,a=i.map((u,h)=>h).sort((u,h)=>i[u].vertexStart-i[h].vertexStart),o=this.geometry;for(let u=0,h=i.length;u<h;u++){const d=a[u],p=i[d];if(p.active!==!1){if(o.index!==null){if(p.indexStart!==t){const{indexStart:y,vertexStart:v,reservedIndexCount:x}=p,S=o.index,T=S.array,C=e-v;for(let A=y;A<y+x;A++)T[A]=T[A]+C;S.array.copyWithin(t,y,y+x),S.addUpdateRange(t,x),S.needsUpdate=!0,p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:y,reservedVertexCount:v}=p,x=o.attributes;for(const S in x){const T=x[S],{array:C,itemSize:A}=T;C.copyWithin(e*A,y*A,(y+v)*A),T.addUpdateRange(e*A,v*A),T.needsUpdate=!0}p.vertexStart=e}e+=p.reservedVertexCount,p.start=o.index?p.indexStart:p.vertexStart,this._nextIndexStart=o.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const o=new Ks,u=i.index,h=i.attributes.position;for(let d=a.start,p=a.start+a.count;d<p;d++){let y=d;u&&(y=u.getX(y)),o.expandByPoint(Om.fromBufferAttribute(h,y))}a.boundingBox=o}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const o=new Is;this.getBoundingBoxAt(e,ay),ay.getCenter(o.center);const u=i.index,h=i.attributes.position;let d=0;for(let p=a.start,y=a.start+a.count;p<y;p++){let v=p;u&&(v=u.getX(v)),Om.fromBufferAttribute(h,v),d=Math.max(d,o.center.distanceToSquared(Om))}o.radius=Math.sqrt(d),a.boundingSphere=o}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(m_);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),o=new Int32Array(e);uf(this._multiDrawCounts,a),uf(this._multiDrawStarts,o),this._multiDrawCounts=a,this._multiDrawStarts=o,this._maxInstanceCount=e;const u=this._indirectTexture,h=this._matricesTexture,d=this._colorsTexture;u.dispose(),this._initIndirectTexture(),uf(u.image.data,this._indirectTexture.image.data),h.dispose(),this._initMatricesTexture(),uf(h.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),uf(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(h=>h.active);if(Math.max(...i.map(h=>h.vertexStart+h.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(d=>d.indexStart+d.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tn,this._initializeGeometry(o));const u=this.geometry;o.index&&uf(o.index.array,u.index.array);for(const h in o.attributes)uf(o.attributes[h].array,u.attributes[h].array)}raycast(e,t){const i=this._instanceInfo,a=this._geometryInfo,o=this.matrixWorld,u=this.geometry;qs.material=this.material,qs.geometry.index=u.index,qs.geometry.attributes=u.attributes,qs.geometry.boundingBox===null&&(qs.geometry.boundingBox=new Ks),qs.geometry.boundingSphere===null&&(qs.geometry.boundingSphere=new Is);for(let h=0,d=i.length;h<d;h++){if(!i[h].visible||!i[h].active)continue;const p=i[h].geometryIndex,y=a[p];qs.geometry.setDrawRange(y.start,y.count),this.getMatrixAt(h,qs.matrixWorld).premultiply(o),this.getBoundingBoxAt(p,qs.geometry.boundingBox),this.getBoundingSphereAt(p,qs.geometry.boundingSphere),qs.raycast(e,ry);for(let v=0,x=ry.length;v<x;v++){const S=ry[v];S.object=this,S.batchId=h,t.push(S)}ry.length=0}qs.material=null,qs.geometry.index=null,qs.geometry.attributes={},qs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,a,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const u=a.getIndex(),h=u===null?1:u.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,y=this._multiDrawCounts,v=this._geometryInfo,x=this.perObjectFrustumCulled,S=this._indirectTexture,T=S.image.data,C=i.isArrayCamera?iU:mE;x&&!i.isArrayCamera&&(Va.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),mE.setFromProjectionMatrix(Va,i.coordinateSystem,i.reversedDepth));let A=0;if(this.sortObjects){Va.copy(this.matrixWorld).invert(),Om.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Va),gE.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Va);for(let D=0,I=d.length;D<I;D++)if(d[D].visible&&d[D].active){const z=d[D].geometryIndex;this.getMatrixAt(D,Va),this.getBoundingSphereAt(z,cf).applyMatrix4(Va);let F=!1;if(x&&(F=!C.intersectsSphere(cf,i)),!F){const k=v[z],j=sU.subVectors(cf.center,Om).dot(gE);g_.push(k.start,k.count,j,D)}}const M=g_.list,N=this.customSort;N===null?M.sort(o.transparent?eU:$P):N.call(this,M,i);for(let D=0,I=M.length;D<I;D++){const z=M[D];p[A]=z.start*h,y[A]=z.count,T[A]=z.index,A++}g_.reset()}else for(let M=0,N=d.length;M<N;M++)if(d[M].visible&&d[M].active){const D=d[M].geometryIndex;let I=!1;if(x&&(this.getMatrixAt(M,Va),this.getBoundingSphereAt(D,cf).applyMatrix4(Va),I=!C.intersectsSphere(cf,i)),!I){const z=v[D];p[A]=z.start*h,y[A]=z.count,T[A]=M,A++}}S.needsUpdate=!0,this._multiDrawCount=A,this._visibilityChanged=!1}onBeforeShadow(e,t,i,a,o,u){this.onBeforeRender(e,null,a,o,u)}}class _a extends Qs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new yt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const G1=new Q,j1=new Q,vE=new Xt,zm=new qd,oy=new Is,v_=new Q,yE=new Q;class hu extends Dn{constructor(e=new tn,t=new _a){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let a=1,o=t.count;a<o;a++)G1.fromBufferAttribute(t,a-1),j1.fromBufferAttribute(t,a),i[a]=i[a-1],i[a]+=G1.distanceTo(j1);e.setAttribute("lineDistance",new wt(i,1))}else ht("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,o=e.params.Line.threshold,u=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),oy.copy(i.boundingSphere),oy.applyMatrix4(a),oy.radius+=o,e.ray.intersectsSphere(oy)===!1)return;vE.copy(a).invert(),zm.copy(e.ray).applyMatrix4(vE);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=this.isLineSegments?2:1,y=i.index,x=i.attributes.position;if(y!==null){const S=Math.max(0,u.start),T=Math.min(y.count,u.start+u.count);for(let C=S,A=T-1;C<A;C+=p){const M=y.getX(C),N=y.getX(C+1),D=ly(this,e,zm,d,M,N,C);D&&t.push(D)}if(this.isLineLoop){const C=y.getX(T-1),A=y.getX(S),M=ly(this,e,zm,d,C,A,T-1);M&&t.push(M)}}else{const S=Math.max(0,u.start),T=Math.min(x.count,u.start+u.count);for(let C=S,A=T-1;C<A;C+=p){const M=ly(this,e,zm,d,C,C+1,C);M&&t.push(M)}if(this.isLineLoop){const C=ly(this,e,zm,d,T-1,S,T-1);C&&t.push(C)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,u=a.length;o<u;o++){const h=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}}function ly(n,e,t,i,a,o,u){const h=n.geometry.attributes.position;if(G1.fromBufferAttribute(h,a),j1.fromBufferAttribute(h,o),t.distanceSqToSegment(G1,j1,v_,yE)>i)return;v_.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(v_);if(!(p<e.near||p>e.far))return{distance:p,point:yE.clone().applyMatrix4(n.matrixWorld),index:u,face:null,faceIndex:null,barycoord:null,object:n}}const xE=new Q,bE=new Q;class hl extends hu{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let a=0,o=t.count;a<o;a+=2)xE.fromBufferAttribute(t,a),bE.fromBufferAttribute(t,a+1),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+xE.distanceTo(bE);e.setAttribute("lineDistance",new wt(i,1))}else ht("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class E5 extends hu{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class WM extends Qs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _E=new Xt,SS=new qd,cy=new Is,uy=new Q;class A5 extends Dn{constructor(e=new tn,t=new WM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,o=e.params.Points.threshold,u=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),cy.copy(i.boundingSphere),cy.applyMatrix4(a),cy.radius+=o,e.ray.intersectsSphere(cy)===!1)return;_E.copy(a).invert(),SS.copy(e.ray).applyMatrix4(_E);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=i.index,v=i.attributes.position;if(p!==null){const x=Math.max(0,u.start),S=Math.min(p.count,u.start+u.count);for(let T=x,C=S;T<C;T++){const A=p.getX(T);uy.fromBufferAttribute(v,A),SE(uy,A,d,a,e,t,this)}}else{const x=Math.max(0,u.start),S=Math.min(v.count,u.start+u.count);for(let T=x,C=S;T<C;T++)uy.fromBufferAttribute(v,T),SE(uy,T,d,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,u=a.length;o<u;o++){const h=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}}function SE(n,e,t,i,a,o,u){const h=SS.distanceSqToPoint(n);if(h<t){const d=new Q;SS.closestPointToPoint(n,d),d.applyMatrix4(i);const p=a.ray.origin.distanceTo(d);if(p<a.near||p>a.far)return;o.push({distance:p,distanceToRay:Math.sqrt(h),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:u})}}class C5 extends Ui{constructor(e,t,i,a,o=hi,u=hi,h,d,p){super(e,t,i,a,o,u,h,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const y=this;function v(){y.needsUpdate=!0,y._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class rU extends C5{constructor(e,t,i,a,o,u,h,d){super({},e,t,i,a,o,u,h,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class oU extends Ui{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Wi,this.minFilter=Wi,this.generateMipmaps=!1,this.needsUpdate=!0}}class wx extends Ui{constructor(e,t,i,a,o,u,h,d,p,y,v,x){super(null,u,h,d,p,y,a,o,v,x),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class lU extends wx{constructor(e,t,i,a,o,u){super(e,t,i,o,u),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Xa,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class cU extends wx{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,ll),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class uU extends Ui{constructor(e,t,i,a,o,u,h,d,p){super(e,t,i,a,o,u,h,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class kd extends Ui{constructor(e,t,i=kr,a,o,u,h=Wi,d=Wi,p,y=ul,v=1){if(y!==ul&&y!==su)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const x={width:e,height:t,depth:v};super(x,a,o,u,h,d,y,i,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new au(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class R5 extends kd{constructor(e,t=kr,i=ll,a,o,u=Wi,h=Wi,d,p=ul){const y={width:e,height:e,depth:1},v=[y,y,y,y,y,y];super(e,e,t,i,a,o,u,h,d,p),this.image=v,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class XM extends Ui{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Tx extends tn{constructor(e=1,t=1,i=4,a=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:a,heightSegments:o},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),a=Math.max(3,Math.floor(a)),o=Math.max(1,Math.floor(o));const u=[],h=[],d=[],p=[],y=t/2,v=Math.PI/2*e,x=t,S=2*v+x,T=i*2+o,C=a+1,A=new Q,M=new Q;for(let N=0;N<=T;N++){let D=0,I=0,z=0,F=0;if(N<=i){const U=N/i,B=U*Math.PI/2;I=-y-e*Math.cos(B),z=e*Math.sin(B),F=-e*Math.cos(B),D=U*v}else if(N<=i+o){const U=(N-i)/o;I=-y+U*t,z=e,F=0,D=v+U*x}else{const U=(N-i-o)/i,B=U*Math.PI/2;I=y+e*Math.sin(B),z=e*Math.cos(B),F=e*Math.sin(B),D=v+x+U*v}const k=Math.max(0,Math.min(1,D/S));let j=0;N===0?j=.5/a:N===T&&(j=-.5/a);for(let U=0;U<=a;U++){const B=U/a,Y=B*Math.PI*2,ie=Math.sin(Y),ee=Math.cos(Y);M.x=-z*ee,M.y=I,M.z=z*ie,h.push(M.x,M.y,M.z),A.set(-z*ee,F,z*ie),A.normalize(),d.push(A.x,A.y,A.z),p.push(B+j,k)}if(N>0){const U=(N-1)*C;for(let B=0;B<a;B++){const Y=U+B,ie=U+B+1,ee=N*C+B,me=N*C+B+1;u.push(Y,ie,ee),u.push(ie,me,ee)}}}this.setIndex(u),this.setAttribute("position",new wt(h,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tx(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Ex extends tn{constructor(e=1,t=32,i=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:a},t=Math.max(3,t);const o=[],u=[],h=[],d=[],p=new Q,y=new Ge;u.push(0,0,0),h.push(0,0,1),d.push(.5,.5);for(let v=0,x=3;v<=t;v++,x+=3){const S=i+v/t*a;p.x=e*Math.cos(S),p.y=e*Math.sin(S),u.push(p.x,p.y,p.z),h.push(0,0,1),y.x=(u[x]/e+1)/2,y.y=(u[x+1]/e+1)/2,d.push(y.x,y.y)}for(let v=1;v<=t;v++)o.push(v,v+1,0);this.setIndex(o),this.setAttribute("position",new wt(u,3)),this.setAttribute("normal",new wt(h,3)),this.setAttribute("uv",new wt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ex(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class k0 extends tn{constructor(e=1,t=1,i=1,a=32,o=1,u=!1,h=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:a,heightSegments:o,openEnded:u,thetaStart:h,thetaLength:d};const p=this;a=Math.floor(a),o=Math.floor(o);const y=[],v=[],x=[],S=[];let T=0;const C=[],A=i/2;let M=0;N(),u===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(y),this.setAttribute("position",new wt(v,3)),this.setAttribute("normal",new wt(x,3)),this.setAttribute("uv",new wt(S,2));function N(){const I=new Q,z=new Q;let F=0;const k=(t-e)/i;for(let j=0;j<=o;j++){const U=[],B=j/o,Y=B*(t-e)+e;for(let ie=0;ie<=a;ie++){const ee=ie/a,me=ee*d+h,he=Math.sin(me),q=Math.cos(me);z.x=Y*he,z.y=-B*i+A,z.z=Y*q,v.push(z.x,z.y,z.z),I.set(he,k,q).normalize(),x.push(I.x,I.y,I.z),S.push(ee,1-B),U.push(T++)}C.push(U)}for(let j=0;j<a;j++)for(let U=0;U<o;U++){const B=C[U][j],Y=C[U+1][j],ie=C[U+1][j+1],ee=C[U][j+1];(e>0||U!==0)&&(y.push(B,Y,ee),F+=3),(t>0||U!==o-1)&&(y.push(Y,ie,ee),F+=3)}p.addGroup(M,F,0),M+=F}function D(I){const z=T,F=new Ge,k=new Q;let j=0;const U=I===!0?e:t,B=I===!0?1:-1;for(let ie=1;ie<=a;ie++)v.push(0,A*B,0),x.push(0,B,0),S.push(.5,.5),T++;const Y=T;for(let ie=0;ie<=a;ie++){const me=ie/a*d+h,he=Math.cos(me),q=Math.sin(me);k.x=U*q,k.y=A*B,k.z=U*he,v.push(k.x,k.y,k.z),x.push(0,B,0),F.x=he*.5+.5,F.y=q*.5*B+.5,S.push(F.x,F.y),T++}for(let ie=0;ie<a;ie++){const ee=z+ie,me=Y+ie;I===!0?y.push(me,me+1,ee):y.push(me+1,me,ee),j+=3}p.addGroup(M,j,I===!0?1:2),M+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new k0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class V0 extends k0{constructor(e=1,t=1,i=32,a=1,o=!1,u=0,h=Math.PI*2){super(0,e,t,i,a,o,u,h),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:u,thetaLength:h}}static fromJSON(e){return new V0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gu extends tn{constructor(e=[],t=[],i=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:a};const o=[],u=[];h(a),p(i),y(),this.setAttribute("position",new wt(o,3)),this.setAttribute("normal",new wt(o.slice(),3)),this.setAttribute("uv",new wt(u,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function h(N){const D=new Q,I=new Q,z=new Q;for(let F=0;F<t.length;F+=3)S(t[F+0],D),S(t[F+1],I),S(t[F+2],z),d(D,I,z,N)}function d(N,D,I,z){const F=z+1,k=[];for(let j=0;j<=F;j++){k[j]=[];const U=N.clone().lerp(I,j/F),B=D.clone().lerp(I,j/F),Y=F-j;for(let ie=0;ie<=Y;ie++)ie===0&&j===F?k[j][ie]=U:k[j][ie]=U.clone().lerp(B,ie/Y)}for(let j=0;j<F;j++)for(let U=0;U<2*(F-j)-1;U++){const B=Math.floor(U/2);U%2===0?(x(k[j][B+1]),x(k[j+1][B]),x(k[j][B])):(x(k[j][B+1]),x(k[j+1][B+1]),x(k[j+1][B]))}}function p(N){const D=new Q;for(let I=0;I<o.length;I+=3)D.x=o[I+0],D.y=o[I+1],D.z=o[I+2],D.normalize().multiplyScalar(N),o[I+0]=D.x,o[I+1]=D.y,o[I+2]=D.z}function y(){const N=new Q;for(let D=0;D<o.length;D+=3){N.x=o[D+0],N.y=o[D+1],N.z=o[D+2];const I=A(N)/2/Math.PI+.5,z=M(N)/Math.PI+.5;u.push(I,1-z)}T(),v()}function v(){for(let N=0;N<u.length;N+=6){const D=u[N+0],I=u[N+2],z=u[N+4],F=Math.max(D,I,z),k=Math.min(D,I,z);F>.9&&k<.1&&(D<.2&&(u[N+0]+=1),I<.2&&(u[N+2]+=1),z<.2&&(u[N+4]+=1))}}function x(N){o.push(N.x,N.y,N.z)}function S(N,D){const I=N*3;D.x=e[I+0],D.y=e[I+1],D.z=e[I+2]}function T(){const N=new Q,D=new Q,I=new Q,z=new Q,F=new Ge,k=new Ge,j=new Ge;for(let U=0,B=0;U<o.length;U+=9,B+=6){N.set(o[U+0],o[U+1],o[U+2]),D.set(o[U+3],o[U+4],o[U+5]),I.set(o[U+6],o[U+7],o[U+8]),F.set(u[B+0],u[B+1]),k.set(u[B+2],u[B+3]),j.set(u[B+4],u[B+5]),z.copy(N).add(D).add(I).divideScalar(3);const Y=A(z);C(F,B+0,N,Y),C(k,B+2,D,Y),C(j,B+4,I,Y)}}function C(N,D,I,z){z<0&&N.x===1&&(u[D]=N.x-1),I.x===0&&I.z===0&&(u[D]=z/2/Math.PI+.5)}function A(N){return Math.atan2(N.z,-N.x)}function M(N){return Math.atan2(-N.y,Math.sqrt(N.x*N.x+N.z*N.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gu(e.vertices,e.indices,e.radius,e.detail)}}class Ax extends gu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],u=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,u,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ax(e.radius,e.detail)}}const fy=new Q,hy=new Q,y_=new Q,dy=new Wa;class N5 extends tn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),o=Math.cos(Nf*t),u=e.getIndex(),h=e.getAttribute("position"),d=u?u.count:h.count,p=[0,0,0],y=["a","b","c"],v=new Array(3),x={},S=[];for(let T=0;T<d;T+=3){u?(p[0]=u.getX(T),p[1]=u.getX(T+1),p[2]=u.getX(T+2)):(p[0]=T,p[1]=T+1,p[2]=T+2);const{a:C,b:A,c:M}=dy;if(C.fromBufferAttribute(h,p[0]),A.fromBufferAttribute(h,p[1]),M.fromBufferAttribute(h,p[2]),dy.getNormal(y_),v[0]=`${Math.round(C.x*a)},${Math.round(C.y*a)},${Math.round(C.z*a)}`,v[1]=`${Math.round(A.x*a)},${Math.round(A.y*a)},${Math.round(A.z*a)}`,v[2]=`${Math.round(M.x*a)},${Math.round(M.y*a)},${Math.round(M.z*a)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let N=0;N<3;N++){const D=(N+1)%3,I=v[N],z=v[D],F=dy[y[N]],k=dy[y[D]],j=`${I}_${z}`,U=`${z}_${I}`;U in x&&x[U]?(y_.dot(x[U].normal)<=o&&(S.push(F.x,F.y,F.z),S.push(k.x,k.y,k.z)),x[U]=null):j in x||(x[j]={index0:p[N],index1:p[D],normal:y_.clone()})}}for(const T in x)if(x[T]){const{index0:C,index1:A}=x[T];fy.fromBufferAttribute(h,C),hy.fromBufferAttribute(h,A),S.push(fy.x,fy.y,fy.z),S.push(hy.x,hy.y,hy.z)}this.setAttribute("position",new wt(S,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class _o{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){ht("Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,a=this.getPoint(0),o=0;t.push(0);for(let u=1;u<=e;u++)i=this.getPoint(u/e),o+=i.distanceTo(a),t.push(o),a=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let a=0;const o=i.length;let u;t?u=t:u=e*i[o-1];let h=0,d=o-1,p;for(;h<=d;)if(a=Math.floor(h+(d-h)/2),p=i[a]-u,p<0)h=a+1;else if(p>0)d=a-1;else{d=a;break}if(a=d,i[a]===u)return a/(o-1);const y=i[a],x=i[a+1]-y,S=(u-y)/x;return(a+S)/(o-1)}getTangent(e,t){let a=e-1e-4,o=e+1e-4;a<0&&(a=0),o>1&&(o=1);const u=this.getPoint(a),h=this.getPoint(o),d=t||(u.isVector2?new Ge:new Q);return d.copy(h).sub(u).normalize(),d}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new Q,a=[],o=[],u=[],h=new Q,d=new Xt;for(let S=0;S<=e;S++){const T=S/e;a[S]=this.getTangentAt(T,new Q)}o[0]=new Q,u[0]=new Q;let p=Number.MAX_VALUE;const y=Math.abs(a[0].x),v=Math.abs(a[0].y),x=Math.abs(a[0].z);y<=p&&(p=y,i.set(1,0,0)),v<=p&&(p=v,i.set(0,1,0)),x<=p&&i.set(0,0,1),h.crossVectors(a[0],i).normalize(),o[0].crossVectors(a[0],h),u[0].crossVectors(a[0],o[0]);for(let S=1;S<=e;S++){if(o[S]=o[S-1].clone(),u[S]=u[S-1].clone(),h.crossVectors(a[S-1],a[S]),h.length()>Number.EPSILON){h.normalize();const T=Math.acos(jt(a[S-1].dot(a[S]),-1,1));o[S].applyMatrix4(d.makeRotationAxis(h,T))}u[S].crossVectors(a[S],o[S])}if(t===!0){let S=Math.acos(jt(o[0].dot(o[e]),-1,1));S/=e,a[0].dot(h.crossVectors(o[0],o[e]))>0&&(S=-S);for(let T=1;T<=e;T++)o[T].applyMatrix4(d.makeRotationAxis(a[T],S*T)),u[T].crossVectors(a[T],o[T])}return{tangents:a,normals:o,binormals:u}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Cx extends _o{constructor(e=0,t=0,i=1,a=1,o=0,u=Math.PI*2,h=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=a,this.aStartAngle=o,this.aEndAngle=u,this.aClockwise=h,this.aRotation=d}getPoint(e,t=new Ge){const i=t,a=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const u=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=a;for(;o>a;)o-=a;o<Number.EPSILON&&(u?o=0:o=a),this.aClockwise===!0&&!u&&(o===a?o=-a:o=o-a);const h=this.aStartAngle+e*o;let d=this.aX+this.xRadius*Math.cos(h),p=this.aY+this.yRadius*Math.sin(h);if(this.aRotation!==0){const y=Math.cos(this.aRotation),v=Math.sin(this.aRotation),x=d-this.aX,S=p-this.aY;d=x*y-S*v+this.aX,p=x*v+S*y+this.aY}return i.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class D5 extends Cx{constructor(e,t,i,a,o,u){super(e,t,i,i,a,o,u),this.isArcCurve=!0,this.type="ArcCurve"}}function qM(){let n=0,e=0,t=0,i=0;function a(o,u,h,d){n=o,e=h,t=-3*o+3*u-2*h-d,i=2*o-2*u+h+d}return{initCatmullRom:function(o,u,h,d,p){a(u,h,p*(h-o),p*(d-u))},initNonuniformCatmullRom:function(o,u,h,d,p,y,v){let x=(u-o)/p-(h-o)/(p+y)+(h-u)/y,S=(h-u)/y-(d-u)/(y+v)+(d-h)/v;x*=y,S*=y,a(u,h,x,S)},calc:function(o){const u=o*o,h=u*o;return n+e*o+t*u+i*h}}}const py=new Q,x_=new qM,b_=new qM,__=new qM;class L5 extends _o{constructor(e=[],t=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=a}getPoint(e,t=new Q){const i=t,a=this.points,o=a.length,u=(o-(this.closed?0:1))*e;let h=Math.floor(u),d=u-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/o)+1)*o:d===0&&h===o-1&&(h=o-2,d=1);let p,y;this.closed||h>0?p=a[(h-1)%o]:(py.subVectors(a[0],a[1]).add(a[0]),p=py);const v=a[h%o],x=a[(h+1)%o];if(this.closed||h+2<o?y=a[(h+2)%o]:(py.subVectors(a[o-1],a[o-2]).add(a[o-1]),y=py),this.curveType==="centripetal"||this.curveType==="chordal"){const S=this.curveType==="chordal"?.5:.25;let T=Math.pow(p.distanceToSquared(v),S),C=Math.pow(v.distanceToSquared(x),S),A=Math.pow(x.distanceToSquared(y),S);C<1e-4&&(C=1),T<1e-4&&(T=C),A<1e-4&&(A=C),x_.initNonuniformCatmullRom(p.x,v.x,x.x,y.x,T,C,A),b_.initNonuniformCatmullRom(p.y,v.y,x.y,y.y,T,C,A),__.initNonuniformCatmullRom(p.z,v.z,x.z,y.z,T,C,A)}else this.curveType==="catmullrom"&&(x_.initCatmullRom(p.x,v.x,x.x,y.x,this.tension),b_.initCatmullRom(p.y,v.y,x.y,y.y,this.tension),__.initCatmullRom(p.z,v.z,x.z,y.z,this.tension));return i.set(x_.calc(d),b_.calc(d),__.calc(d)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new Q().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function ME(n,e,t,i,a){const o=(i-e)*.5,u=(a-t)*.5,h=n*n,d=n*h;return(2*t-2*i+o+u)*d+(-3*t+3*i-2*o-u)*h+o*n+t}function fU(n,e){const t=1-n;return t*t*e}function hU(n,e){return 2*(1-n)*n*e}function dU(n,e){return n*n*e}function i0(n,e,t,i){return fU(n,e)+hU(n,t)+dU(n,i)}function pU(n,e){const t=1-n;return t*t*t*e}function mU(n,e){const t=1-n;return 3*t*t*n*e}function gU(n,e){return 3*(1-n)*n*n*e}function vU(n,e){return n*n*n*e}function s0(n,e,t,i,a){return pU(n,e)+mU(n,t)+gU(n,i)+vU(n,a)}class YM extends _o{constructor(e=new Ge,t=new Ge,i=new Ge,a=new Ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new Ge){const i=t,a=this.v0,o=this.v1,u=this.v2,h=this.v3;return i.set(s0(e,a.x,o.x,u.x,h.x),s0(e,a.y,o.y,u.y,h.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class I5 extends _o{constructor(e=new Q,t=new Q,i=new Q,a=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new Q){const i=t,a=this.v0,o=this.v1,u=this.v2,h=this.v3;return i.set(s0(e,a.x,o.x,u.x,h.x),s0(e,a.y,o.y,u.y,h.y),s0(e,a.z,o.z,u.z,h.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZM extends _o{constructor(e=new Ge,t=new Ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ge){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ge){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class P5 extends _o{constructor(e=new Q,t=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Q){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KM extends _o{constructor(e=new Ge,t=new Ge,i=new Ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ge){const i=t,a=this.v0,o=this.v1,u=this.v2;return i.set(i0(e,a.x,o.x,u.x),i0(e,a.y,o.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QM extends _o{constructor(e=new Q,t=new Q,i=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Q){const i=t,a=this.v0,o=this.v1,u=this.v2;return i.set(i0(e,a.x,o.x,u.x),i0(e,a.y,o.y,u.y),i0(e,a.z,o.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JM extends _o{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ge){const i=t,a=this.points,o=(a.length-1)*e,u=Math.floor(o),h=o-u,d=a[u===0?u:u-1],p=a[u],y=a[u>a.length-2?a.length-1:u+1],v=a[u>a.length-3?a.length-1:u+2];return i.set(ME(h,d.x,p.x,y.x,v.x),ME(h,d.y,p.y,y.y,v.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new Ge().fromArray(a))}return this}}var W1=Object.freeze({__proto__:null,ArcCurve:D5,CatmullRomCurve3:L5,CubicBezierCurve:YM,CubicBezierCurve3:I5,EllipseCurve:Cx,LineCurve:ZM,LineCurve3:P5,QuadraticBezierCurve:KM,QuadraticBezierCurve3:QM,SplineCurve:JM});class U5 extends _o{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new W1[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),a=this.getCurveLengths();let o=0;for(;o<a.length;){if(a[o]>=i){const u=a[o]-i,h=this.curves[o],d=h.getLength(),p=d===0?0:1-u/d;return h.getPointAt(p,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,a=this.curves.length;i<a;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let a=0,o=this.curves;a<o.length;a++){const u=o[a],h=u.isEllipseCurve?e*2:u.isLineCurve||u.isLineCurve3?1:u.isSplineCurve?e*u.points.length:e,d=u.getPoints(h);for(let p=0;p<d.length;p++){const y=d[p];i&&i.equals(y)||(t.push(y),i=y)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(new W1[a.type]().fromJSON(a))}return this}}class X1 extends U5{constructor(e){super(),this.type="Path",this.currentPoint=new Ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new ZM(this.currentPoint.clone(),new Ge(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,a){const o=new KM(this.currentPoint.clone(),new Ge(e,t),new Ge(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}bezierCurveTo(e,t,i,a,o,u){const h=new YM(this.currentPoint.clone(),new Ge(e,t),new Ge(i,a),new Ge(o,u));return this.curves.push(h),this.currentPoint.set(o,u),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new JM(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,a,o,u){const h=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+h,t+d,i,a,o,u),this}absarc(e,t,i,a,o,u){return this.absellipse(e,t,i,i,a,o,u),this}ellipse(e,t,i,a,o,u,h,d){const p=this.currentPoint.x,y=this.currentPoint.y;return this.absellipse(e+p,t+y,i,a,o,u,h,d),this}absellipse(e,t,i,a,o,u,h,d){const p=new Cx(e,t,i,a,o,u,h,d);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const y=p.getPoint(1);return this.currentPoint.copy(y),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Df extends X1{constructor(e){super(e),this.uuid=or(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,a=this.holes.length;i<a;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(new X1().fromJSON(a))}return this}}function yU(n,e,t=2){const i=e&&e.length,a=i?e[0]*t:n.length;let o=O5(n,0,a,t,!0);const u=[];if(!o||o.next===o.prev)return u;let h,d,p;if(i&&(o=MU(n,e,o,t)),n.length>80*t){h=n[0],d=n[1];let y=h,v=d;for(let x=t;x<a;x+=t){const S=n[x],T=n[x+1];S<h&&(h=S),T<d&&(d=T),S>y&&(y=S),T>v&&(v=T)}p=Math.max(y-h,v-d),p=p!==0?32767/p:0}return S0(o,u,t,h,d,p,0),u}function O5(n,e,t,i,a){let o;if(a===PU(n,e,t,i)>0)for(let u=e;u<t;u+=i)o=wE(u/i|0,n[u],n[u+1],o);else for(let u=t-i;u>=e;u-=i)o=wE(u/i|0,n[u],n[u+1],o);return o&&Vd(o,o.next)&&(w0(o),o=o.next),o}function Of(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Vd(t,t.next)||Ti(t.prev,t,t.next)===0)){if(w0(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function S0(n,e,t,i,a,o,u){if(!n)return;!u&&o&&CU(n,i,a,o);let h=n;for(;n.prev!==n.next;){const d=n.prev,p=n.next;if(o?bU(n,i,a,o):xU(n)){e.push(d.i,n.i,p.i),w0(n),n=p.next,h=p.next;continue}if(n=p,n===h){u?u===1?(n=_U(Of(n),e),S0(n,e,t,i,a,o,2)):u===2&&SU(n,e,t,i,a,o):S0(Of(n),e,t,i,a,o,1);break}}}function xU(n){const e=n.prev,t=n,i=n.next;if(Ti(e,t,i)>=0)return!1;const a=e.x,o=t.x,u=i.x,h=e.y,d=t.y,p=i.y,y=Math.min(a,o,u),v=Math.min(h,d,p),x=Math.max(a,o,u),S=Math.max(h,d,p);let T=i.next;for(;T!==e;){if(T.x>=y&&T.x<=x&&T.y>=v&&T.y<=S&&Gm(a,h,o,d,u,p,T.x,T.y)&&Ti(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function bU(n,e,t,i){const a=n.prev,o=n,u=n.next;if(Ti(a,o,u)>=0)return!1;const h=a.x,d=o.x,p=u.x,y=a.y,v=o.y,x=u.y,S=Math.min(h,d,p),T=Math.min(y,v,x),C=Math.max(h,d,p),A=Math.max(y,v,x),M=MS(S,T,e,t,i),N=MS(C,A,e,t,i);let D=n.prevZ,I=n.nextZ;for(;D&&D.z>=M&&I&&I.z<=N;){if(D.x>=S&&D.x<=C&&D.y>=T&&D.y<=A&&D!==a&&D!==u&&Gm(h,y,d,v,p,x,D.x,D.y)&&Ti(D.prev,D,D.next)>=0||(D=D.prevZ,I.x>=S&&I.x<=C&&I.y>=T&&I.y<=A&&I!==a&&I!==u&&Gm(h,y,d,v,p,x,I.x,I.y)&&Ti(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;D&&D.z>=M;){if(D.x>=S&&D.x<=C&&D.y>=T&&D.y<=A&&D!==a&&D!==u&&Gm(h,y,d,v,p,x,D.x,D.y)&&Ti(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;I&&I.z<=N;){if(I.x>=S&&I.x<=C&&I.y>=T&&I.y<=A&&I!==a&&I!==u&&Gm(h,y,d,v,p,x,I.x,I.y)&&Ti(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function _U(n,e){let t=n;do{const i=t.prev,a=t.next.next;!Vd(i,a)&&B5(i,t,t.next,a)&&M0(i,a)&&M0(a,i)&&(e.push(i.i,t.i,a.i),w0(t),w0(t.next),t=n=a),t=t.next}while(t!==n);return Of(t)}function SU(n,e,t,i,a,o){let u=n;do{let h=u.next.next;for(;h!==u.prev;){if(u.i!==h.i&&DU(u,h)){let d=F5(u,h);u=Of(u,u.next),d=Of(d,d.next),S0(u,e,t,i,a,o,0),S0(d,e,t,i,a,o,0);return}h=h.next}u=u.next}while(u!==n)}function MU(n,e,t,i){const a=[];for(let o=0,u=e.length;o<u;o++){const h=e[o]*i,d=o<u-1?e[o+1]*i:n.length,p=O5(n,h,d,i,!1);p===p.next&&(p.steiner=!0),a.push(NU(p))}a.sort(wU);for(let o=0;o<a.length;o++)t=TU(a[o],t);return t}function wU(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),a=(e.next.y-e.y)/(e.next.x-e.x);t=i-a}return t}function TU(n,e){const t=EU(n,e);if(!t)return e;const i=F5(t,n);return Of(i,i.next),Of(t,t.next)}function EU(n,e){let t=e;const i=n.x,a=n.y;let o=-1/0,u;if(Vd(n,t))return t;do{if(Vd(n,t.next))return t.next;if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const v=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=i&&v>o&&(o=v,u=t.x<t.next.x?t:t.next,v===i))return u}t=t.next}while(t!==e);if(!u)return null;const h=u,d=u.x,p=u.y;let y=1/0;t=u;do{if(i>=t.x&&t.x>=d&&i!==t.x&&z5(a<p?i:o,a,d,p,a<p?o:i,a,t.x,t.y)){const v=Math.abs(a-t.y)/(i-t.x);M0(t,n)&&(v<y||v===y&&(t.x>u.x||t.x===u.x&&AU(u,t)))&&(u=t,y=v)}t=t.next}while(t!==h);return u}function AU(n,e){return Ti(n.prev,n,e.prev)<0&&Ti(e.next,n,n.next)<0}function CU(n,e,t,i){let a=n;do a.z===0&&(a.z=MS(a.x,a.y,e,t,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,RU(a)}function RU(n){let e,t=1;do{let i=n,a;n=null;let o=null;for(e=0;i;){e++;let u=i,h=0;for(let p=0;p<t&&(h++,u=u.nextZ,!!u);p++);let d=t;for(;h>0||d>0&&u;)h!==0&&(d===0||!u||i.z<=u.z)?(a=i,i=i.nextZ,h--):(a=u,u=u.nextZ,d--),o?o.nextZ=a:n=a,a.prevZ=o,o=a;i=u}o.nextZ=null,t*=2}while(e>1);return n}function MS(n,e,t,i,a){return n=(n-t)*a|0,e=(e-i)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function NU(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function z5(n,e,t,i,a,o,u,h){return(a-u)*(e-h)>=(n-u)*(o-h)&&(n-u)*(i-h)>=(t-u)*(e-h)&&(t-u)*(o-h)>=(a-u)*(i-h)}function Gm(n,e,t,i,a,o,u,h){return!(n===u&&e===h)&&z5(n,e,t,i,a,o,u,h)}function DU(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!LU(n,e)&&(M0(n,e)&&M0(e,n)&&IU(n,e)&&(Ti(n.prev,n,e.prev)||Ti(n,e.prev,e))||Vd(n,e)&&Ti(n.prev,n,n.next)>0&&Ti(e.prev,e,e.next)>0)}function Ti(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Vd(n,e){return n.x===e.x&&n.y===e.y}function B5(n,e,t,i){const a=gy(Ti(n,e,t)),o=gy(Ti(n,e,i)),u=gy(Ti(t,i,n)),h=gy(Ti(t,i,e));return!!(a!==o&&u!==h||a===0&&my(n,t,e)||o===0&&my(n,i,e)||u===0&&my(t,n,i)||h===0&&my(t,e,i))}function my(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function gy(n){return n>0?1:n<0?-1:0}function LU(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&B5(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function M0(n,e){return Ti(n.prev,n,n.next)<0?Ti(n,e,n.next)>=0&&Ti(n,n.prev,e)>=0:Ti(n,e,n.prev)<0||Ti(n,n.next,e)<0}function IU(n,e){let t=n,i=!1;const a=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&a<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function F5(n,e){const t=wS(n.i,n.x,n.y),i=wS(e.i,e.x,e.y),a=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,i.next=t,t.prev=i,o.next=i,i.prev=o,i}function wE(n,e,t,i){const a=wS(n,e,t);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function w0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function wS(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function PU(n,e,t,i){let a=0;for(let o=e,u=t-i;o<t;o+=i)a+=(n[u]-n[o])*(n[o+1]+n[u+1]),u=o;return a}class UU{static triangulate(e,t,i=2){return yU(e,t,i)}}class vo{static area(e){const t=e.length;let i=0;for(let a=t-1,o=0;o<t;a=o++)i+=e[a].x*e[o].y-e[o].x*e[a].y;return i*.5}static isClockWise(e){return vo.area(e)<0}static triangulateShape(e,t){const i=[],a=[],o=[];TE(e),EE(i,e);let u=e.length;t.forEach(TE);for(let d=0;d<t.length;d++)a.push(u),u+=t[d].length,EE(i,t[d]);const h=UU.triangulate(i,a);for(let d=0;d<h.length;d+=3)o.push(h.slice(d,d+3));return o}}function TE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function EE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Rx extends tn{constructor(e=new Df([new Ge(.5,.5),new Ge(-.5,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,a=[],o=[];for(let h=0,d=e.length;h<d;h++){const p=e[h];u(p)}this.setAttribute("position",new wt(a,3)),this.setAttribute("uv",new wt(o,2)),this.computeVertexNormals();function u(h){const d=[],p=t.curveSegments!==void 0?t.curveSegments:12,y=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:1;let x=t.bevelEnabled!==void 0?t.bevelEnabled:!0,S=t.bevelThickness!==void 0?t.bevelThickness:.2,T=t.bevelSize!==void 0?t.bevelSize:S-.1,C=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,N=t.UVGenerator!==void 0?t.UVGenerator:OU;let D,I=!1,z,F,k,j;if(M){D=M.getSpacedPoints(y),I=!0,x=!1;const Ie=M.isCatmullRomCurve3?M.closed:!1;z=M.computeFrenetFrames(y,Ie),F=new Q,k=new Q,j=new Q}x||(A=0,S=0,T=0,C=0);const U=h.extractPoints(p);let B=U.shape;const Y=U.holes;if(!vo.isClockWise(B)){B=B.reverse();for(let Ie=0,We=Y.length;Ie<We;Ie++){const Pe=Y[Ie];vo.isClockWise(Pe)&&(Y[Ie]=Pe.reverse())}}function ee(Ie){const Pe=10000000000000001e-36;let $e=Ie[0];for(let Z=1;Z<=Ie.length;Z++){const vt=Z%Ie.length,at=Ie[vt],At=at.x-$e.x,Fe=at.y-$e.y,W=At*At+Fe*Fe,O=Math.max(Math.abs(at.x),Math.abs(at.y),Math.abs($e.x),Math.abs($e.y)),se=Pe*O*O;if(W<=se){Ie.splice(vt,1),Z--;continue}$e=at}}ee(B),Y.forEach(ee);const me=Y.length,he=B;for(let Ie=0;Ie<me;Ie++){const We=Y[Ie];B=B.concat(We)}function q(Ie,We,Pe){return We||Dt("ExtrudeGeometry: vec does not exist"),Ie.clone().addScaledVector(We,Pe)}const K=B.length;function oe(Ie,We,Pe){let $e,Z,vt;const at=Ie.x-We.x,At=Ie.y-We.y,Fe=Pe.x-Ie.x,W=Pe.y-Ie.y,O=at*at+At*At,se=at*W-At*Fe;if(Math.abs(se)>Number.EPSILON){const Me=Math.sqrt(O),Ue=Math.sqrt(Fe*Fe+W*W),Te=We.x-At/Me,ut=We.y+at/Me,Ze=Pe.x-W/Ue,xt=Pe.y+Fe/Ue,Ct=((Ze-Te)*W-(xt-ut)*Fe)/(at*W-At*Fe);$e=Te+at*Ct-Ie.x,Z=ut+At*Ct-Ie.y;const je=$e*$e+Z*Z;if(je<=2)return new Ge($e,Z);vt=Math.sqrt(je/2)}else{let Me=!1;at>Number.EPSILON?Fe>Number.EPSILON&&(Me=!0):at<-Number.EPSILON?Fe<-Number.EPSILON&&(Me=!0):Math.sign(At)===Math.sign(W)&&(Me=!0),Me?($e=-At,Z=at,vt=Math.sqrt(O)):($e=at,Z=At,vt=Math.sqrt(O/2))}return new Ge($e/vt,Z/vt)}const Ee=[];for(let Ie=0,We=he.length,Pe=We-1,$e=Ie+1;Ie<We;Ie++,Pe++,$e++)Pe===We&&(Pe=0),$e===We&&($e=0),Ee[Ie]=oe(he[Ie],he[Pe],he[$e]);const Ce=[];let X,re=Ee.concat();for(let Ie=0,We=me;Ie<We;Ie++){const Pe=Y[Ie];X=[];for(let $e=0,Z=Pe.length,vt=Z-1,at=$e+1;$e<Z;$e++,vt++,at++)vt===Z&&(vt=0),at===Z&&(at=0),X[$e]=oe(Pe[$e],Pe[vt],Pe[at]);Ce.push(X),re=re.concat(X)}let pe;if(A===0)pe=vo.triangulateShape(he,Y);else{const Ie=[],We=[];for(let Pe=0;Pe<A;Pe++){const $e=Pe/A,Z=S*Math.cos($e*Math.PI/2),vt=T*Math.sin($e*Math.PI/2)+C;for(let at=0,At=he.length;at<At;at++){const Fe=q(he[at],Ee[at],vt);nt(Fe.x,Fe.y,-Z),$e===0&&Ie.push(Fe)}for(let at=0,At=me;at<At;at++){const Fe=Y[at];X=Ce[at];const W=[];for(let O=0,se=Fe.length;O<se;O++){const Me=q(Fe[O],X[O],vt);nt(Me.x,Me.y,-Z),$e===0&&W.push(Me)}$e===0&&We.push(W)}}pe=vo.triangulateShape(Ie,We)}const De=pe.length,Xe=T+C;for(let Ie=0;Ie<K;Ie++){const We=x?q(B[Ie],re[Ie],Xe):B[Ie];I?(k.copy(z.normals[0]).multiplyScalar(We.x),F.copy(z.binormals[0]).multiplyScalar(We.y),j.copy(D[0]).add(k).add(F),nt(j.x,j.y,j.z)):nt(We.x,We.y,0)}for(let Ie=1;Ie<=y;Ie++)for(let We=0;We<K;We++){const Pe=x?q(B[We],re[We],Xe):B[We];I?(k.copy(z.normals[Ie]).multiplyScalar(Pe.x),F.copy(z.binormals[Ie]).multiplyScalar(Pe.y),j.copy(D[Ie]).add(k).add(F),nt(j.x,j.y,j.z)):nt(Pe.x,Pe.y,v/y*Ie)}for(let Ie=A-1;Ie>=0;Ie--){const We=Ie/A,Pe=S*Math.cos(We*Math.PI/2),$e=T*Math.sin(We*Math.PI/2)+C;for(let Z=0,vt=he.length;Z<vt;Z++){const at=q(he[Z],Ee[Z],$e);nt(at.x,at.y,v+Pe)}for(let Z=0,vt=Y.length;Z<vt;Z++){const at=Y[Z];X=Ce[Z];for(let At=0,Fe=at.length;At<Fe;At++){const W=q(at[At],X[At],$e);I?nt(W.x,W.y+D[y-1].y,D[y-1].x+Pe):nt(W.x,W.y,v+Pe)}}}ce(),Ae();function ce(){const Ie=a.length/3;if(x){let We=0,Pe=K*We;for(let $e=0;$e<De;$e++){const Z=pe[$e];lt(Z[2]+Pe,Z[1]+Pe,Z[0]+Pe)}We=y+A*2,Pe=K*We;for(let $e=0;$e<De;$e++){const Z=pe[$e];lt(Z[0]+Pe,Z[1]+Pe,Z[2]+Pe)}}else{for(let We=0;We<De;We++){const Pe=pe[We];lt(Pe[2],Pe[1],Pe[0])}for(let We=0;We<De;We++){const Pe=pe[We];lt(Pe[0]+K*y,Pe[1]+K*y,Pe[2]+K*y)}}i.addGroup(Ie,a.length/3-Ie,0)}function Ae(){const Ie=a.length/3;let We=0;Be(he,We),We+=he.length;for(let Pe=0,$e=Y.length;Pe<$e;Pe++){const Z=Y[Pe];Be(Z,We),We+=Z.length}i.addGroup(Ie,a.length/3-Ie,1)}function Be(Ie,We){let Pe=Ie.length;for(;--Pe>=0;){const $e=Pe;let Z=Pe-1;Z<0&&(Z=Ie.length-1);for(let vt=0,at=y+A*2;vt<at;vt++){const At=K*vt,Fe=K*(vt+1),W=We+$e+At,O=We+Z+At,se=We+Z+Fe,Me=We+$e+Fe;qt(W,O,se,Me)}}}function nt(Ie,We,Pe){d.push(Ie),d.push(We),d.push(Pe)}function lt(Ie,We,Pe){Zt(Ie),Zt(We),Zt(Pe);const $e=a.length/3,Z=N.generateTopUV(i,a,$e-3,$e-2,$e-1);Lt(Z[0]),Lt(Z[1]),Lt(Z[2])}function qt(Ie,We,Pe,$e){Zt(Ie),Zt(We),Zt($e),Zt(We),Zt(Pe),Zt($e);const Z=a.length/3,vt=N.generateSideWallUV(i,a,Z-6,Z-3,Z-2,Z-1);Lt(vt[0]),Lt(vt[1]),Lt(vt[3]),Lt(vt[1]),Lt(vt[2]),Lt(vt[3])}function Zt(Ie){a.push(d[Ie*3+0]),a.push(d[Ie*3+1]),a.push(d[Ie*3+2])}function Lt(Ie){o.push(Ie.x),o.push(Ie.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return zU(t,i,e)}static fromJSON(e,t){const i=[];for(let o=0,u=e.shapes.length;o<u;o++){const h=t[e.shapes[o]];i.push(h)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new W1[a.type]().fromJSON(a)),new Rx(i,e.options)}}const OU={generateTopUV:function(n,e,t,i,a){const o=e[t*3],u=e[t*3+1],h=e[i*3],d=e[i*3+1],p=e[a*3],y=e[a*3+1];return[new Ge(o,u),new Ge(h,d),new Ge(p,y)]},generateSideWallUV:function(n,e,t,i,a,o){const u=e[t*3],h=e[t*3+1],d=e[t*3+2],p=e[i*3],y=e[i*3+1],v=e[i*3+2],x=e[a*3],S=e[a*3+1],T=e[a*3+2],C=e[o*3],A=e[o*3+1],M=e[o*3+2];return Math.abs(h-y)<Math.abs(u-p)?[new Ge(u,1-d),new Ge(p,1-v),new Ge(x,1-T),new Ge(C,1-M)]:[new Ge(h,1-d),new Ge(y,1-v),new Ge(S,1-T),new Ge(A,1-M)]}};function zU(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,a=n.length;i<a;i++){const o=n[i];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Nx extends gu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Nx(e.radius,e.detail)}}class Dx extends tn{constructor(e=[new Ge(0,-.5),new Ge(.5,0),new Ge(0,.5)],t=12,i=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:a},t=Math.floor(t),a=jt(a,0,Math.PI*2);const o=[],u=[],h=[],d=[],p=[],y=1/t,v=new Q,x=new Ge,S=new Q,T=new Q,C=new Q;let A=0,M=0;for(let N=0;N<=e.length-1;N++)switch(N){case 0:A=e[N+1].x-e[N].x,M=e[N+1].y-e[N].y,S.x=M*1,S.y=-A,S.z=M*0,C.copy(S),S.normalize(),d.push(S.x,S.y,S.z);break;case e.length-1:d.push(C.x,C.y,C.z);break;default:A=e[N+1].x-e[N].x,M=e[N+1].y-e[N].y,S.x=M*1,S.y=-A,S.z=M*0,T.copy(S),S.x+=C.x,S.y+=C.y,S.z+=C.z,S.normalize(),d.push(S.x,S.y,S.z),C.copy(T)}for(let N=0;N<=t;N++){const D=i+N*y*a,I=Math.sin(D),z=Math.cos(D);for(let F=0;F<=e.length-1;F++){v.x=e[F].x*I,v.y=e[F].y,v.z=e[F].x*z,u.push(v.x,v.y,v.z),x.x=N/t,x.y=F/(e.length-1),h.push(x.x,x.y);const k=d[3*F+0]*I,j=d[3*F+1],U=d[3*F+0]*z;p.push(k,j,U)}}for(let N=0;N<t;N++)for(let D=0;D<e.length-1;D++){const I=D+N*e.length,z=I,F=I+e.length,k=I+e.length+1,j=I+1;o.push(z,F,j),o.push(k,j,F)}this.setIndex(o),this.setAttribute("position",new wt(u,3)),this.setAttribute("uv",new wt(h,2)),this.setAttribute("normal",new wt(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dx(e.points,e.segments,e.phiStart,e.phiLength)}}class H0 extends gu{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new H0(e.radius,e.detail)}}class Zd extends tn{constructor(e=1,t=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:a};const o=e/2,u=t/2,h=Math.floor(i),d=Math.floor(a),p=h+1,y=d+1,v=e/h,x=t/d,S=[],T=[],C=[],A=[];for(let M=0;M<y;M++){const N=M*x-u;for(let D=0;D<p;D++){const I=D*v-o;T.push(I,-N,0),C.push(0,0,1),A.push(D/h),A.push(1-M/d)}}for(let M=0;M<d;M++)for(let N=0;N<h;N++){const D=N+p*M,I=N+p*(M+1),z=N+1+p*(M+1),F=N+1+p*M;S.push(D,I,F),S.push(I,z,F)}this.setIndex(S),this.setAttribute("position",new wt(T,3)),this.setAttribute("normal",new wt(C,3)),this.setAttribute("uv",new wt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zd(e.width,e.height,e.widthSegments,e.heightSegments)}}class Lx extends tn{constructor(e=.5,t=1,i=32,a=1,o=0,u=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:a,thetaStart:o,thetaLength:u},i=Math.max(3,i),a=Math.max(1,a);const h=[],d=[],p=[],y=[];let v=e;const x=(t-e)/a,S=new Q,T=new Ge;for(let C=0;C<=a;C++){for(let A=0;A<=i;A++){const M=o+A/i*u;S.x=v*Math.cos(M),S.y=v*Math.sin(M),d.push(S.x,S.y,S.z),p.push(0,0,1),T.x=(S.x/t+1)/2,T.y=(S.y/t+1)/2,y.push(T.x,T.y)}v+=x}for(let C=0;C<a;C++){const A=C*(i+1);for(let M=0;M<i;M++){const N=M+A,D=N,I=N+i+1,z=N+i+2,F=N+1;h.push(D,I,F),h.push(I,z,F)}}this.setIndex(h),this.setAttribute("position",new wt(d,3)),this.setAttribute("normal",new wt(p,3)),this.setAttribute("uv",new wt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ix extends tn{constructor(e=new Df([new Ge(0,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],a=[],o=[],u=[];let h=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let y=0;y<e.length;y++)p(e[y]),this.addGroup(h,d,y),h+=d,d=0;this.setIndex(i),this.setAttribute("position",new wt(a,3)),this.setAttribute("normal",new wt(o,3)),this.setAttribute("uv",new wt(u,2));function p(y){const v=a.length/3,x=y.extractPoints(t);let S=x.shape;const T=x.holes;vo.isClockWise(S)===!1&&(S=S.reverse());for(let A=0,M=T.length;A<M;A++){const N=T[A];vo.isClockWise(N)===!0&&(T[A]=N.reverse())}const C=vo.triangulateShape(S,T);for(let A=0,M=T.length;A<M;A++){const N=T[A];S=S.concat(N)}for(let A=0,M=S.length;A<M;A++){const N=S[A];a.push(N.x,N.y,0),o.push(0,0,1),u.push(N.x,N.y)}for(let A=0,M=C.length;A<M;A++){const N=C[A],D=N[0]+v,I=N[1]+v,z=N[2]+v;i.push(D,I,z),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return BU(t,e)}static fromJSON(e,t){const i=[];for(let a=0,o=e.shapes.length;a<o;a++){const u=t[e.shapes[a]];i.push(u)}return new Ix(i,e.curveSegments)}}function BU(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class G0 extends tn{constructor(e=1,t=32,i=16,a=0,o=Math.PI*2,u=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:a,phiLength:o,thetaStart:u,thetaLength:h},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const d=Math.min(u+h,Math.PI);let p=0;const y=[],v=new Q,x=new Q,S=[],T=[],C=[],A=[];for(let M=0;M<=i;M++){const N=[],D=M/i;let I=0;M===0&&u===0?I=.5/t:M===i&&d===Math.PI&&(I=-.5/t);for(let z=0;z<=t;z++){const F=z/t;v.x=-e*Math.cos(a+F*o)*Math.sin(u+D*h),v.y=e*Math.cos(u+D*h),v.z=e*Math.sin(a+F*o)*Math.sin(u+D*h),T.push(v.x,v.y,v.z),x.copy(v).normalize(),C.push(x.x,x.y,x.z),A.push(F+I,1-D),N.push(p++)}y.push(N)}for(let M=0;M<i;M++)for(let N=0;N<t;N++){const D=y[M][N+1],I=y[M][N],z=y[M+1][N],F=y[M+1][N+1];(M!==0||u>0)&&S.push(D,I,F),(M!==i-1||d<Math.PI)&&S.push(I,z,F)}this.setIndex(S),this.setAttribute("position",new wt(T,3)),this.setAttribute("normal",new wt(C,3)),this.setAttribute("uv",new wt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new G0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Px extends gu{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Px(e.radius,e.detail)}}class Ux extends tn{constructor(e=1,t=.4,i=12,a=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:a,arc:o},i=Math.floor(i),a=Math.floor(a);const u=[],h=[],d=[],p=[],y=new Q,v=new Q,x=new Q;for(let S=0;S<=i;S++)for(let T=0;T<=a;T++){const C=T/a*o,A=S/i*Math.PI*2;v.x=(e+t*Math.cos(A))*Math.cos(C),v.y=(e+t*Math.cos(A))*Math.sin(C),v.z=t*Math.sin(A),h.push(v.x,v.y,v.z),y.x=e*Math.cos(C),y.y=e*Math.sin(C),x.subVectors(v,y).normalize(),d.push(x.x,x.y,x.z),p.push(T/a),p.push(S/i)}for(let S=1;S<=i;S++)for(let T=1;T<=a;T++){const C=(a+1)*S+T-1,A=(a+1)*(S-1)+T-1,M=(a+1)*(S-1)+T,N=(a+1)*S+T;u.push(C,A,N),u.push(A,M,N)}this.setIndex(u),this.setAttribute("position",new wt(h,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ux(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ox extends tn{constructor(e=1,t=.4,i=64,a=8,o=2,u=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:a,p:o,q:u},i=Math.floor(i),a=Math.floor(a);const h=[],d=[],p=[],y=[],v=new Q,x=new Q,S=new Q,T=new Q,C=new Q,A=new Q,M=new Q;for(let D=0;D<=i;++D){const I=D/i*o*Math.PI*2;N(I,o,u,e,S),N(I+.01,o,u,e,T),A.subVectors(T,S),M.addVectors(T,S),C.crossVectors(A,M),M.crossVectors(C,A),C.normalize(),M.normalize();for(let z=0;z<=a;++z){const F=z/a*Math.PI*2,k=-t*Math.cos(F),j=t*Math.sin(F);v.x=S.x+(k*M.x+j*C.x),v.y=S.y+(k*M.y+j*C.y),v.z=S.z+(k*M.z+j*C.z),d.push(v.x,v.y,v.z),x.subVectors(v,S).normalize(),p.push(x.x,x.y,x.z),y.push(D/i),y.push(z/a)}}for(let D=1;D<=i;D++)for(let I=1;I<=a;I++){const z=(a+1)*(D-1)+(I-1),F=(a+1)*D+(I-1),k=(a+1)*D+I,j=(a+1)*(D-1)+I;h.push(z,F,j),h.push(F,k,j)}this.setIndex(h),this.setAttribute("position",new wt(d,3)),this.setAttribute("normal",new wt(p,3)),this.setAttribute("uv",new wt(y,2));function N(D,I,z,F,k){const j=Math.cos(D),U=Math.sin(D),B=z/I*D,Y=Math.cos(B);k.x=F*(2+Y)*.5*j,k.y=F*(2+Y)*U*.5,k.z=F*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ox(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class zx extends tn{constructor(e=new QM(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),t=64,i=1,a=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:a,closed:o};const u=e.computeFrenetFrames(t,o);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;const h=new Q,d=new Q,p=new Ge;let y=new Q;const v=[],x=[],S=[],T=[];C(),this.setIndex(T),this.setAttribute("position",new wt(v,3)),this.setAttribute("normal",new wt(x,3)),this.setAttribute("uv",new wt(S,2));function C(){for(let D=0;D<t;D++)A(D);A(o===!1?t:0),N(),M()}function A(D){y=e.getPointAt(D/t,y);const I=u.normals[D],z=u.binormals[D];for(let F=0;F<=a;F++){const k=F/a*Math.PI*2,j=Math.sin(k),U=-Math.cos(k);d.x=U*I.x+j*z.x,d.y=U*I.y+j*z.y,d.z=U*I.z+j*z.z,d.normalize(),x.push(d.x,d.y,d.z),h.x=y.x+i*d.x,h.y=y.y+i*d.y,h.z=y.z+i*d.z,v.push(h.x,h.y,h.z)}}function M(){for(let D=1;D<=t;D++)for(let I=1;I<=a;I++){const z=(a+1)*(D-1)+(I-1),F=(a+1)*D+(I-1),k=(a+1)*D+I,j=(a+1)*(D-1)+I;T.push(z,F,j),T.push(F,k,j)}}function N(){for(let D=0;D<=t;D++)for(let I=0;I<=a;I++)p.x=D/t,p.y=I/a,S.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new zx(new W1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class k5 extends tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,a=new Q,o=new Q;if(e.index!==null){const u=e.attributes.position,h=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:h.count,materialIndex:0}]);for(let p=0,y=d.length;p<y;++p){const v=d[p],x=v.start,S=v.count;for(let T=x,C=x+S;T<C;T+=3)for(let A=0;A<3;A++){const M=h.getX(T+A),N=h.getX(T+(A+1)%3);a.fromBufferAttribute(u,M),o.fromBufferAttribute(u,N),AE(a,o,i)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}}else{const u=e.attributes.position;for(let h=0,d=u.count/3;h<d;h++)for(let p=0;p<3;p++){const y=3*h+p,v=3*h+(p+1)%3;a.fromBufferAttribute(u,y),o.fromBufferAttribute(u,v),AE(a,o,i)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new wt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function AE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(a)===!0?!1:(t.add(i),t.add(a),!0)}var CE=Object.freeze({__proto__:null,BoxGeometry:Bf,CapsuleGeometry:Tx,CircleGeometry:Ex,ConeGeometry:V0,CylinderGeometry:k0,DodecahedronGeometry:Ax,EdgesGeometry:N5,ExtrudeGeometry:Rx,IcosahedronGeometry:Nx,LatheGeometry:Dx,OctahedronGeometry:H0,PlaneGeometry:Zd,PolyhedronGeometry:gu,RingGeometry:Lx,ShapeGeometry:Ix,SphereGeometry:G0,TetrahedronGeometry:Px,TorusGeometry:Ux,TorusKnotGeometry:Ox,TubeGeometry:zx,WireframeGeometry:k5});class V5 extends Qs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new yt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class $M extends ur{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class e3 extends Qs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new yt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class H5 extends e3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return jt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new yt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new yt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new yt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class G5 extends Qs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new yt(16777215),this.specular=new yt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cr,this.combine=z0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class j5 extends Qs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new yt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class W5 extends Qs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class X5 extends Qs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cr,this.combine=z0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class t3 extends Qs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=i5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class n3 extends Qs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class q5 extends Qs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new yt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Y5 extends _a{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Af(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Z5(n){function e(a,o){return n[a]-n[o]}const t=n.length,i=new Array(t);for(let a=0;a!==t;++a)i[a]=a;return i.sort(e),i}function TS(n,e,t){const i=n.length,a=new n.constructor(i);for(let o=0,u=0;u!==i;++o){const h=t[o]*e;for(let d=0;d!==e;++d)a[u++]=n[h+d]}return a}function i3(n,e,t,i){let a=1,o=n[0];for(;o!==void 0&&o[i]===void 0;)o=n[a++];if(o===void 0)return;let u=o[i];if(u!==void 0)if(Array.isArray(u))do u=o[i],u!==void 0&&(e.push(o.time),t.push(...u)),o=n[a++];while(o!==void 0);else if(u.toArray!==void 0)do u=o[i],u!==void 0&&(e.push(o.time),u.toArray(t,t.length)),o=n[a++];while(o!==void 0);else do u=o[i],u!==void 0&&(e.push(o.time),t.push(u)),o=n[a++];while(o!==void 0)}function FU(n,e,t,i,a=30){const o=n.clone();o.name=e;const u=[];for(let d=0;d<o.tracks.length;++d){const p=o.tracks[d],y=p.getValueSize(),v=[],x=[];for(let S=0;S<p.times.length;++S){const T=p.times[S]*a;if(!(T<t||T>=i)){v.push(p.times[S]);for(let C=0;C<y;++C)x.push(p.values[S*y+C])}}v.length!==0&&(p.times=Af(v,p.times.constructor),p.values=Af(x,p.values.constructor),u.push(p))}o.tracks=u;let h=1/0;for(let d=0;d<o.tracks.length;++d)h>o.tracks[d].times[0]&&(h=o.tracks[d].times[0]);for(let d=0;d<o.tracks.length;++d)o.tracks[d].shift(-1*h);return o.resetDuration(),o}function kU(n,e=0,t=n,i=30){i<=0&&(i=30);const a=t.tracks.length,o=e/i;for(let u=0;u<a;++u){const h=t.tracks[u],d=h.ValueTypeName;if(d==="bool"||d==="string")continue;const p=n.tracks.find(function(M){return M.name===h.name&&M.ValueTypeName===d});if(p===void 0)continue;let y=0;const v=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);let x=0;const S=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=S/3);const T=h.times.length-1;let C;if(o<=h.times[0]){const M=y,N=v-y;C=h.values.slice(M,N)}else if(o>=h.times[T]){const M=T*v+y,N=M+v-y;C=h.values.slice(M,N)}else{const M=h.createInterpolant(),N=y,D=v-y;M.evaluate(o),C=M.resultBuffer.slice(N,D)}d==="quaternion"&&new Ya().fromArray(C).normalize().conjugate().toArray(C);const A=p.times.length;for(let M=0;M<A;++M){const N=M*S+x;if(d==="quaternion")Ya.multiplyQuaternionsFlat(p.values,N,C,0,p.values,N);else{const D=S-x*2;for(let I=0;I<D;++I)p.values[N+I]-=C[I]}}}return n.blendMode=OM,n}class VU{static convertArray(e,t){return Af(e,t)}static isTypedArray(e){return h5(e)}static getKeyframeOrder(e){return Z5(e)}static sortedArray(e,t,i){return TS(e,t,i)}static flattenJSON(e,t,i,a){i3(e,t,i,a)}static subclip(e,t,i,a,o=30){return FU(e,t,i,a,o)}static makeClipAdditive(e,t=0,i=e,a=30){return kU(e,t,i,a)}}class j0{constructor(e,t,i,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,a=t[i],o=t[i-1];e:{t:{let u;n:{i:if(!(e<a)){for(let h=i+2;;){if(a===void 0){if(e<o)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===h)break;if(o=a,a=t[++i],e<a)break t}u=t.length;break n}if(!(e>=o)){const h=t[1];e<h&&(i=2,o=h);for(let d=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(a=o,o=t[--i-1],e>=o)break t}u=i,i=0;break n}break e}for(;i<u;){const h=i+u>>>1;e<t[h]?u=h:i=h+1}if(a=t[i],o=t[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,a)}return this.interpolate_(i,o,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,o=e*a;for(let u=0;u!==a;++u)t[u]=i[o+u];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class K5 extends j0{constructor(e,t,i,a){super(e,t,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Tf,endingEnd:Tf}}intervalChanged_(e,t,i){const a=this.parameterPositions;let o=e-2,u=e+1,h=a[o],d=a[u];if(h===void 0)switch(this.getSettings_().endingStart){case Ef:o=e,h=2*t-i;break;case v0:o=a.length-2,h=t+a[o]-a[o+1];break;default:o=e,h=i}if(d===void 0)switch(this.getSettings_().endingEnd){case Ef:u=e,d=2*i-t;break;case v0:u=1,d=i+a[1]-a[0];break;default:u=e-1,d=t}const p=(i-t)*.5,y=this.valueSize;this._weightPrev=p/(t-h),this._weightNext=p/(d-i),this._offsetPrev=o*y,this._offsetNext=u*y}interpolate_(e,t,i,a){const o=this.resultBuffer,u=this.sampleValues,h=this.valueSize,d=e*h,p=d-h,y=this._offsetPrev,v=this._offsetNext,x=this._weightPrev,S=this._weightNext,T=(i-t)/(a-t),C=T*T,A=C*T,M=-x*A+2*x*C-x*T,N=(1+x)*A+(-1.5-2*x)*C+(-.5+x)*T+1,D=(-1-S)*A+(1.5+S)*C+.5*T,I=S*A-S*C;for(let z=0;z!==h;++z)o[z]=M*u[y+z]+N*u[p+z]+D*u[d+z]+I*u[v+z];return o}}class s3 extends j0{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const o=this.resultBuffer,u=this.sampleValues,h=this.valueSize,d=e*h,p=d-h,y=(i-t)/(a-t),v=1-y;for(let x=0;x!==h;++x)o[x]=u[p+x]*v+u[d+x]*y;return o}}class Q5 extends j0{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class Vr{constructor(e,t,i,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Af(t,this.TimeBufferType),this.values=Af(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Af(e.times,Array),values:Af(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(i.interpolation=a)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Q5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new s3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new K5(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case g0:t=this.InterpolantFactoryMethodDiscrete;break;case H1:t=this.InterpolantFactoryMethodLinear;break;case ky:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return ht("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return g0;case this.InterpolantFactoryMethodLinear:return H1;case this.InterpolantFactoryMethodSmooth:return ky}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]*=e}return this}trim(e,t){const i=this.times,a=i.length;let o=0,u=a-1;for(;o!==a&&i[o]<e;)++o;for(;u!==-1&&i[u]>t;)--u;if(++u,o!==0||u!==a){o>=u&&(u=Math.max(u,1),o=u-1);const h=this.getValueSize();this.times=i.slice(o,u),this.values=this.values.slice(o*h,u*h)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Dt("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,a=this.values,o=i.length;o===0&&(Dt("KeyframeTrack: Track is empty.",this),e=!1);let u=null;for(let h=0;h!==o;h++){const d=i[h];if(typeof d=="number"&&isNaN(d)){Dt("KeyframeTrack: Time is not a valid number.",this,h,d),e=!1;break}if(u!==null&&u>d){Dt("KeyframeTrack: Out of order keys.",this,h,d,u),e=!1;break}u=d}if(a!==void 0&&h5(a))for(let h=0,d=a.length;h!==d;++h){const p=a[h];if(isNaN(p)){Dt("KeyframeTrack: Value is not a valid number.",this,h,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),a=this.getInterpolation()===ky,o=e.length-1;let u=1;for(let h=1;h<o;++h){let d=!1;const p=e[h],y=e[h+1];if(p!==y&&(h!==1||p!==e[0]))if(a)d=!0;else{const v=h*i,x=v-i,S=v+i;for(let T=0;T!==i;++T){const C=t[v+T];if(C!==t[x+T]||C!==t[S+T]){d=!0;break}}}if(d){if(h!==u){e[u]=e[h];const v=h*i,x=u*i;for(let S=0;S!==i;++S)t[x+S]=t[v+S]}++u}}if(o>0){e[u]=e[o];for(let h=o*i,d=u*i,p=0;p!==i;++p)t[d+p]=t[h+p];++u}return u!==e.length?(this.times=e.slice(0,u),this.values=t.slice(0,u*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,a=new i(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}Vr.prototype.ValueTypeName="";Vr.prototype.TimeBufferType=Float32Array;Vr.prototype.ValueBufferType=Float32Array;Vr.prototype.DefaultInterpolation=H1;class Ff extends Vr{constructor(e,t,i){super(e,t,i)}}Ff.prototype.ValueTypeName="bool";Ff.prototype.ValueBufferType=Array;Ff.prototype.DefaultInterpolation=g0;Ff.prototype.InterpolantFactoryMethodLinear=void 0;Ff.prototype.InterpolantFactoryMethodSmooth=void 0;class a3 extends Vr{constructor(e,t,i,a){super(e,t,i,a)}}a3.prototype.ValueTypeName="color";class T0 extends Vr{constructor(e,t,i,a){super(e,t,i,a)}}T0.prototype.ValueTypeName="number";class J5 extends j0{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const o=this.resultBuffer,u=this.sampleValues,h=this.valueSize,d=(i-t)/(a-t);let p=e*h;for(let y=p+h;p!==y;p+=4)Ya.slerpFlat(o,0,u,p-h,u,p,d);return o}}class W0 extends Vr{constructor(e,t,i,a){super(e,t,i,a)}InterpolantFactoryMethodLinear(e){return new J5(this.times,this.values,this.getValueSize(),e)}}W0.prototype.ValueTypeName="quaternion";W0.prototype.InterpolantFactoryMethodSmooth=void 0;class kf extends Vr{constructor(e,t,i){super(e,t,i)}}kf.prototype.ValueTypeName="string";kf.prototype.ValueBufferType=Array;kf.prototype.DefaultInterpolation=g0;kf.prototype.InterpolantFactoryMethodLinear=void 0;kf.prototype.InterpolantFactoryMethodSmooth=void 0;class E0 extends Vr{constructor(e,t,i,a){super(e,t,i,a)}}E0.prototype.ValueTypeName="vector";class A0{constructor(e="",t=-1,i=[],a=dx){this.name=e,this.tracks=i,this.duration=t,this.blendMode=a,this.uuid=or(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,a=1/(e.fps||1);for(let u=0,h=i.length;u!==h;++u)t.push(GU(i[u]).scale(a));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o.userData=JSON.parse(e.userData||"{}"),o}static toJSON(e){const t=[],i=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let o=0,u=i.length;o!==u;++o)t.push(Vr.toJSON(i[o]));return a}static CreateFromMorphTargetSequence(e,t,i,a){const o=t.length,u=[];for(let h=0;h<o;h++){let d=[],p=[];d.push((h+o-1)%o,h,(h+1)%o),p.push(0,1,0);const y=Z5(d);d=TS(d,1,y),p=TS(p,1,y),!a&&d[0]===0&&(d.push(o),p.push(p[0])),u.push(new T0(".morphTargetInfluences["+t[h].name+"]",d,p).scale(1/i))}return new this(e,-1,u)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const a=e;i=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<i.length;a++)if(i[a].name===t)return i[a];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const a={},o=/^([\w-]*?)([\d]+)$/;for(let h=0,d=e.length;h<d;h++){const p=e[h],y=p.name.match(o);if(y&&y.length>1){const v=y[1];let x=a[v];x||(a[v]=x=[]),x.push(p)}}const u=[];for(const h in a)u.push(this.CreateFromMorphTargetSequence(h,a[h],t,i));return u}static parseAnimation(e,t){if(ht("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Dt("AnimationClip: No animation in JSONLoader data."),null;const i=function(v,x,S,T,C){if(S.length!==0){const A=[],M=[];i3(S,A,M,T),A.length!==0&&C.push(new v(x,A,M))}},a=[],o=e.name||"default",u=e.fps||30,h=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let v=0;v<p.length;v++){const x=p[v].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const S={};let T;for(T=0;T<x.length;T++)if(x[T].morphTargets)for(let C=0;C<x[T].morphTargets.length;C++)S[x[T].morphTargets[C]]=-1;for(const C in S){const A=[],M=[];for(let N=0;N!==x[T].morphTargets.length;++N){const D=x[T];A.push(D.time),M.push(D.morphTarget===C?1:0)}a.push(new T0(".morphTargetInfluence["+C+"]",A,M))}d=S.length*u}else{const S=".bones["+t[v].name+"]";i(E0,S+".position",x,"pos",a),i(W0,S+".quaternion",x,"rot",a),i(E0,S+".scale",x,"scl",a)}}return a.length===0?null:new this(o,d,a,h)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,a=e.length;i!==a;++i){const o=this.tracks[i];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function HU(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return T0;case"vector":case"vector2":case"vector3":case"vector4":return E0;case"color":return a3;case"quaternion":return W0;case"bool":case"boolean":return Ff;case"string":return kf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function GU(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=HU(n.type);if(n.times===void 0){const t=[],i=[];i3(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const al={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class r3{constructor(e,t,i){const a=this;let o=!1,u=0,h=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this._abortController=null,this.itemStart=function(y){h++,o===!1&&a.onStart!==void 0&&a.onStart(y,u,h),o=!0},this.itemEnd=function(y){u++,a.onProgress!==void 0&&a.onProgress(y,u,h),u===h&&(o=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(y){a.onError!==void 0&&a.onError(y)},this.resolveURL=function(y){return d?d(y):y},this.setURLModifier=function(y){return d=y,this},this.addHandler=function(y,v){return p.push(y,v),this},this.removeHandler=function(y){const v=p.indexOf(y);return v!==-1&&p.splice(v,2),this},this.getHandler=function(y){for(let v=0,x=p.length;v<x;v+=2){const S=p[v],T=p[v+1];if(S.global&&(S.lastIndex=0),S.test(y))return T}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const $5=new r3;let Za=class{constructor(e){this.manager=e!==void 0?e:$5,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(a,o){i.load(e,a,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};Za.DEFAULT_MATERIAL_NAME="__DEFAULT";const Zl={};class jU extends Error{constructor(e,t){super(e),this.response=t}}class nc extends Za{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=al.get(`file:${e}`);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Zl[e]!==void 0){Zl[e].push({onLoad:t,onProgress:i,onError:a});return}Zl[e]=[],Zl[e].push({onLoad:t,onProgress:i,onError:a});const u=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),h=this.mimeType,d=this.responseType;fetch(u).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&ht("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const y=Zl[e],v=p.body.getReader(),x=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),S=x?parseInt(x):0,T=S!==0;let C=0;const A=new ReadableStream({start(M){N();function N(){v.read().then(({done:D,value:I})=>{if(D)M.close();else{C+=I.byteLength;const z=new ProgressEvent("progress",{lengthComputable:T,loaded:C,total:S});for(let F=0,k=y.length;F<k;F++){const j=y[F];j.onProgress&&j.onProgress(z)}M.enqueue(I),N()}},D=>{M.error(D)})}}});return new Response(A)}else throw new jU(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(y=>new DOMParser().parseFromString(y,h));case"json":return p.json();default:if(h==="")return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(h),x=v&&v[1]?v[1].toLowerCase():void 0,S=new TextDecoder(x);return p.arrayBuffer().then(T=>S.decode(T))}}}).then(p=>{al.add(`file:${e}`,p);const y=Zl[e];delete Zl[e];for(let v=0,x=y.length;v<x;v++){const S=y[v];S.onLoad&&S.onLoad(p)}}).catch(p=>{const y=Zl[e];if(y===void 0)throw this.manager.itemError(e),p;delete Zl[e];for(let v=0,x=y.length;v<x;v++){const S=y[v];S.onError&&S.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class WU extends Za{constructor(e){super(e)}load(e,t,i,a){const o=this,u=new nc(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(d){a?a(d):Dt(d),o.manager.itemError(e)}},i,a)}parse(e){const t=[];for(let i=0;i<e.length;i++){const a=A0.parse(e[i]);t.push(a)}return t}}class XU extends Za{constructor(e){super(e)}load(e,t,i,a){const o=this,u=[],h=new wx,d=new nc(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(o.withCredentials);let p=0;function y(v){d.load(e[v],function(x){const S=o.parse(x,!0);u[v]={width:S.width,height:S.height,format:S.format,mipmaps:S.mipmaps},p+=1,p===6&&(S.mipmapCount===1&&(h.minFilter=hi),h.image=u,h.format=S.format,h.needsUpdate=!0,t&&t(h))},i,a)}if(Array.isArray(e))for(let v=0,x=e.length;v<x;++v)y(v);else d.load(e,function(v){const x=o.parse(v,!0);if(x.isCubemap){const S=x.mipmaps.length/x.mipmapCount;for(let T=0;T<S;T++){u[T]={mipmaps:[]};for(let C=0;C<x.mipmapCount;C++)u[T].mipmaps.push(x.mipmaps[T*x.mipmapCount+C]),u[T].format=x.format,u[T].width=x.width,u[T].height=x.height}h.image=u}else h.image.width=x.width,h.image.height=x.height,h.mipmaps=x.mipmaps;x.mipmapCount===1&&(h.minFilter=hi),h.format=x.format,h.needsUpdate=!0,t&&t(h)},i,a);return h}}const ud=new WeakMap;class C0 extends Za{constructor(e){super(e)}load(e,t,i,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,u=al.get(`image:${e}`);if(u!==void 0){if(u.complete===!0)o.manager.itemStart(e),setTimeout(function(){t&&t(u),o.manager.itemEnd(e)},0);else{let v=ud.get(u);v===void 0&&(v=[],ud.set(u,v)),v.push({onLoad:t,onError:a})}return u}const h=b0("img");function d(){y(),t&&t(this);const v=ud.get(this)||[];for(let x=0;x<v.length;x++){const S=v[x];S.onLoad&&S.onLoad(this)}ud.delete(this),o.manager.itemEnd(e)}function p(v){y(),a&&a(v),al.remove(`image:${e}`);const x=ud.get(this)||[];for(let S=0;S<x.length;S++){const T=x[S];T.onError&&T.onError(v)}ud.delete(this),o.manager.itemError(e),o.manager.itemEnd(e)}function y(){h.removeEventListener("load",d,!1),h.removeEventListener("error",p,!1)}return h.addEventListener("load",d,!1),h.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(h.crossOrigin=this.crossOrigin),al.add(`image:${e}`,h),o.manager.itemStart(e),h.src=e,h}}class qU extends Za{constructor(e){super(e)}load(e,t,i,a){const o=new F0;o.colorSpace=Ys;const u=new C0(this.manager);u.setCrossOrigin(this.crossOrigin),u.setPath(this.path);let h=0;function d(p){u.load(e[p],function(y){o.images[p]=y,h++,h===6&&(o.needsUpdate=!0,t&&t(o))},void 0,a)}for(let p=0;p<e.length;++p)d(p);return o}}class YU extends Za{constructor(e){super(e)}load(e,t,i,a){const o=this,u=new yo,h=new nc(this.manager);return h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setPath(this.path),h.setWithCredentials(o.withCredentials),h.load(e,function(d){let p;try{p=o.parse(d)}catch(y){if(a!==void 0)a(y);else{y(y);return}}p.image!==void 0?u.image=p.image:p.data!==void 0&&(u.image.width=p.width,u.image.height=p.height,u.image.data=p.data),u.wrapS=p.wrapS!==void 0?p.wrapS:Xa,u.wrapT=p.wrapT!==void 0?p.wrapT:Xa,u.magFilter=p.magFilter!==void 0?p.magFilter:hi,u.minFilter=p.minFilter!==void 0?p.minFilter:hi,u.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(u.colorSpace=p.colorSpace),p.flipY!==void 0&&(u.flipY=p.flipY),p.format!==void 0&&(u.format=p.format),p.type!==void 0&&(u.type=p.type),p.mipmaps!==void 0&&(u.mipmaps=p.mipmaps,u.minFilter=sl),p.mipmapCount===1&&(u.minFilter=hi),p.generateMipmaps!==void 0&&(u.generateMipmaps=p.generateMipmaps),u.needsUpdate=!0,t&&t(u,p)},i,a),u}}class ZU extends Za{constructor(e){super(e)}load(e,t,i,a){const o=new Ui,u=new C0(this.manager);return u.setCrossOrigin(this.crossOrigin),u.setPath(this.path),u.load(e,function(h){o.image=h,o.needsUpdate=!0,t!==void 0&&t(o)},i,a),o}}class vu extends Dn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new yt(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class eR extends vu{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Dn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new yt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const S_=new Xt,RE=new Q,NE=new Q;class o3{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ge(512,512),this.mapType=ma,this.map=null,this.mapPass=null,this.matrix=new Xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Yd,this._frameExtents=new Ge(1,1),this._viewportCount=1,this._viewports=[new $n(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;RE.setFromMatrixPosition(e.matrixWorld),t.position.copy(RE),NE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(NE),t.updateMatrixWorld(),S_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(S_,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(S_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class KU extends o3{constructor(){super(new xs(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Od*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,o=e.distance||t.far;(i!==t.fov||a!==t.aspect||o!==t.far)&&(t.fov=i,t.aspect=a,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class tR extends vu{constructor(e,t,i=0,a=Math.PI/3,o=0,u=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Dn.DEFAULT_UP),this.updateMatrix(),this.target=new Dn,this.distance=i,this.angle=a,this.penumbra=o,this.decay=u,this.map=null,this.shadow=new KU}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class QU extends o3{constructor(){super(new xs(90,1,.5,500)),this.isPointLightShadow=!0}}class nR extends vu{constructor(e,t,i=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new QU}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class Kd extends yx{constructor(e=-1,t=1,i=1,a=-1,o=.1,u=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=a,this.near=o,this.far=u,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,a,o,u){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=i-e,u=i+e,h=a+t,d=a-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,u=o+p*this.view.width,h-=y*this.view.offsetY,d=h-y*this.view.height}this.projectionMatrix.makeOrthographic(o,u,h,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class JU extends o3{constructor(){super(new Kd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class iR extends vu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Dn.DEFAULT_UP),this.updateMatrix(),this.target=new Dn,this.shadow=new JU}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class sR extends vu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class aR extends vu{constructor(e,t,i=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class l3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,a=e.y,o=e.z,u=this.coefficients;return t.copy(u[0]).multiplyScalar(.282095),t.addScaledVector(u[1],.488603*a),t.addScaledVector(u[2],.488603*o),t.addScaledVector(u[3],.488603*i),t.addScaledVector(u[4],1.092548*(i*a)),t.addScaledVector(u[5],1.092548*(a*o)),t.addScaledVector(u[6],.315392*(3*o*o-1)),t.addScaledVector(u[7],1.092548*(i*o)),t.addScaledVector(u[8],.546274*(i*i-a*a)),t}getIrradianceAt(e,t){const i=e.x,a=e.y,o=e.z,u=this.coefficients;return t.copy(u[0]).multiplyScalar(.886227),t.addScaledVector(u[1],2*.511664*a),t.addScaledVector(u[2],2*.511664*o),t.addScaledVector(u[3],2*.511664*i),t.addScaledVector(u[4],2*.429043*i*a),t.addScaledVector(u[5],2*.429043*a*o),t.addScaledVector(u[6],.743125*o*o-.247708),t.addScaledVector(u[7],2*.429043*i*o),t.addScaledVector(u[8],.429043*(i*i-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const i=e.x,a=e.y,o=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*o,t[3]=.488603*i,t[4]=1.092548*i*a,t[5]=1.092548*a*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*i*o,t[8]=.546274*(i*i-a*a)}}class rR extends vu{constructor(e=new l3,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Bx extends Za{constructor(e){super(e),this.textures={}}load(e,t,i,a){const o=this,u=new nc(o.manager);u.setPath(o.path),u.setRequestHeader(o.requestHeader),u.setWithCredentials(o.withCredentials),u.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(d){a?a(d):Dt(d),o.manager.itemError(e)}},i,a)}parse(e){const t=this.textures;function i(o){return t[o]===void 0&&ht("MaterialLoader: Undefined texture",o),t[o]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new yt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(a.allowOverride=e.allowOverride),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const u=e.uniforms[o];switch(a.uniforms[o]={},u.type){case"t":a.uniforms[o].value=i(u.value);break;case"c":a.uniforms[o].value=new yt().setHex(u.value);break;case"v2":a.uniforms[o].value=new Ge().fromArray(u.value);break;case"v3":a.uniforms[o].value=new Q().fromArray(u.value);break;case"v4":a.uniforms[o].value=new $n().fromArray(u.value);break;case"m3":a.uniforms[o].value=new sn().fromArray(u.value);break;case"m4":a.uniforms[o].value=new Xt().fromArray(u.value);break;default:a.uniforms[o].value=u.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)a.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=i(e.map)),e.matcap!==void 0&&(a.matcap=i(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),a.normalScale=new Ge().fromArray(o)}return e.displacementMap!==void 0&&(a.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=i(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new Ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=i(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Bx.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:V5,SpriteMaterial:GM,RawShaderMaterial:$M,ShaderMaterial:ur,PointsMaterial:WM,MeshPhysicalMaterial:H5,MeshStandardMaterial:e3,MeshPhongMaterial:G5,MeshToonMaterial:j5,MeshNormalMaterial:W5,MeshLambertMaterial:X5,MeshDepthMaterial:t3,MeshDistanceMaterial:n3,MeshBasicMaterial:mu,MeshMatcapMaterial:q5,LineDashedMaterial:Y5,LineBasicMaterial:_a,Material:Qs};return new t[e]}}class ES{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class oR extends tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class lR extends Za{constructor(e){super(e)}load(e,t,i,a){const o=this,u=new nc(o.manager);u.setPath(o.path),u.setRequestHeader(o.requestHeader),u.setWithCredentials(o.withCredentials),u.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(d){a?a(d):Dt(d),o.manager.itemError(e)}},i,a)}parse(e){const t={},i={};function a(S,T){if(t[T]!==void 0)return t[T];const A=S.interleavedBuffers[T],M=o(S,A.buffer),N=wd(A.type,M),D=new _x(N,A.stride);return D.uuid=A.uuid,t[T]=D,D}function o(S,T){if(i[T]!==void 0)return i[T];const A=S.arrayBuffers[T],M=new Uint32Array(A).buffer;return i[T]=M,M}const u=e.isInstancedBufferGeometry?new oR:new tn,h=e.data.index;if(h!==void 0){const S=wd(h.type,h.array);u.setIndex(new Kn(S,1))}const d=e.data.attributes;for(const S in d){const T=d[S];let C;if(T.isInterleavedBufferAttribute){const A=a(e.data,T.data);C=new Uf(A,T.itemSize,T.offset,T.normalized)}else{const A=wd(T.type,T.array),M=T.isInstancedBufferAttribute?Fd:Kn;C=new M(A,T.itemSize,T.normalized)}T.name!==void 0&&(C.name=T.name),T.usage!==void 0&&C.setUsage(T.usage),u.setAttribute(S,C)}const p=e.data.morphAttributes;if(p)for(const S in p){const T=p[S],C=[];for(let A=0,M=T.length;A<M;A++){const N=T[A];let D;if(N.isInterleavedBufferAttribute){const I=a(e.data,N.data);D=new Uf(I,N.itemSize,N.offset,N.normalized)}else{const I=wd(N.type,N.array);D=new Kn(I,N.itemSize,N.normalized)}N.name!==void 0&&(D.name=N.name),C.push(D)}u.morphAttributes[S]=C}e.data.morphTargetsRelative&&(u.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let S=0,T=v.length;S!==T;++S){const C=v[S];u.addGroup(C.start,C.count,C.materialIndex)}const x=e.data.boundingSphere;return x!==void 0&&(u.boundingSphere=new Is().fromJSON(x)),e.name&&(u.name=e.name),e.userData&&(u.userData=e.userData),u}}class $U extends Za{constructor(e){super(e)}load(e,t,i,a){const o=this,u=this.path===""?ES.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||u;const h=new nc(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(v){a!==void 0&&a(v),v("ObjectLoader: Can't parse "+e+".",v.message);return}const y=p.metadata;if(y===void 0||y.type===void 0||y.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),Dt("ObjectLoader: Can't load "+e);return}o.parse(p,t)},i,a)}async loadAsync(e,t){const i=this,a=this.path===""?ES.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new nc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const u=await o.loadAsync(e,t),h=JSON.parse(u),d=h.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(h)}parse(e,t){const i=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,a),u=this.parseImages(e.images,function(){t!==void 0&&t(p)}),h=this.parseTextures(e.textures,u),d=this.parseMaterials(e.materials,h),p=this.parseObject(e.object,o,d,h,i),y=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,y),this.bindLightTargets(p),t!==void 0){let v=!1;for(const x in u)if(u[x].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=await this.parseImagesAsync(e.images),u=this.parseTextures(e.textures,o),h=this.parseMaterials(e.materials,u),d=this.parseObject(e.object,a,h,u,t),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let i=0,a=e.length;i<a;i++){const o=new Df().fromJSON(e[i]);t[o.uuid]=o}return t}parseSkeletons(e,t){const i={},a={};if(t.traverse(function(o){o.isBone&&(a[o.uuid]=o)}),e!==void 0)for(let o=0,u=e.length;o<u;o++){const h=new Sx().fromJSON(e[o],a);i[h.uuid]=h}return i}parseGeometries(e,t){const i={};if(e!==void 0){const a=new lR;for(let o=0,u=e.length;o<u;o++){let h;const d=e[o];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":h=a.parse(d);break;default:d.type in CE?h=CE[d.type].fromJSON(d,t):ht(`ObjectLoader: Unsupported geometry type "${d.type}"`)}h.uuid=d.uuid,d.name!==void 0&&(h.name=d.name),d.userData!==void 0&&(h.userData=d.userData),i[d.uuid]=h}}return i}parseMaterials(e,t){const i={},a={};if(e!==void 0){const o=new Bx;o.setTextures(t);for(let u=0,h=e.length;u<h;u++){const d=e[u];i[d.uuid]===void 0&&(i[d.uuid]=o.parse(d)),a[d.uuid]=i[d.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const a=e[i],o=A0.parse(a);t[o.uuid]=o}return t}parseImages(e,t){const i=this,a={};let o;function u(d){return i.manager.itemStart(d),o.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function h(d){if(typeof d=="string"){const p=d,y=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return u(y)}else return d.data?{data:wd(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new r3(t);o=new C0(d),o.setCrossOrigin(this.crossOrigin);for(let p=0,y=e.length;p<y;p++){const v=e[p],x=v.url;if(Array.isArray(x)){const S=[];for(let T=0,C=x.length;T<C;T++){const A=x[T],M=h(A);M!==null&&(M instanceof HTMLImageElement?S.push(M):S.push(new yo(M.data,M.width,M.height)))}a[v.uuid]=new au(S)}else{const S=h(v.url);a[v.uuid]=new au(S)}}}return a}async parseImagesAsync(e){const t=this,i={};let a;async function o(u){if(typeof u=="string"){const h=u,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:t.resourcePath+h;return await a.loadAsync(d)}else return u.data?{data:wd(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){a=new C0(this.manager),a.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const y=[];for(let v=0,x=p.length;v<x;v++){const S=p[v],T=await o(S);T!==null&&(T instanceof HTMLImageElement?y.push(T):y.push(new yo(T.data,T.width,T.height)))}i[d.uuid]=new au(y)}else{const y=await o(d.url);i[d.uuid]=new au(y)}}}return i}parseTextures(e,t){function i(o,u){return typeof o=="number"?o:(ht("ObjectLoader.parseTexture: Constant should be in numeric form.",o),u[o])}const a={};if(e!==void 0)for(let o=0,u=e.length;o<u;o++){const h=e[o];h.image===void 0&&ht('ObjectLoader: No "image" specified for',h.uuid),t[h.image]===void 0&&ht("ObjectLoader: Undefined image",h.image);const d=t[h.image],p=d.data;let y;Array.isArray(p)?(y=new F0,p.length===6&&(y.needsUpdate=!0)):(p&&p.data?y=new yo:y=new Ui,p&&(y.needsUpdate=!0)),y.source=d,y.uuid=h.uuid,h.name!==void 0&&(y.name=h.name),h.mapping!==void 0&&(y.mapping=i(h.mapping,eO)),h.channel!==void 0&&(y.channel=h.channel),h.offset!==void 0&&y.offset.fromArray(h.offset),h.repeat!==void 0&&y.repeat.fromArray(h.repeat),h.center!==void 0&&y.center.fromArray(h.center),h.rotation!==void 0&&(y.rotation=h.rotation),h.wrap!==void 0&&(y.wrapS=i(h.wrap[0],DE),y.wrapT=i(h.wrap[1],DE)),h.format!==void 0&&(y.format=h.format),h.internalFormat!==void 0&&(y.internalFormat=h.internalFormat),h.type!==void 0&&(y.type=h.type),h.colorSpace!==void 0&&(y.colorSpace=h.colorSpace),h.minFilter!==void 0&&(y.minFilter=i(h.minFilter,LE)),h.magFilter!==void 0&&(y.magFilter=i(h.magFilter,LE)),h.anisotropy!==void 0&&(y.anisotropy=h.anisotropy),h.flipY!==void 0&&(y.flipY=h.flipY),h.generateMipmaps!==void 0&&(y.generateMipmaps=h.generateMipmaps),h.premultiplyAlpha!==void 0&&(y.premultiplyAlpha=h.premultiplyAlpha),h.unpackAlignment!==void 0&&(y.unpackAlignment=h.unpackAlignment),h.compareFunction!==void 0&&(y.compareFunction=h.compareFunction),h.userData!==void 0&&(y.userData=h.userData),a[h.uuid]=y}return a}parseObject(e,t,i,a,o){let u;function h(x){return t[x]===void 0&&ht("ObjectLoader: Undefined geometry",x),t[x]}function d(x){if(x!==void 0){if(Array.isArray(x)){const S=[];for(let T=0,C=x.length;T<C;T++){const A=x[T];i[A]===void 0&&ht("ObjectLoader: Undefined material",A),S.push(i[A])}return S}return i[x]===void 0&&ht("ObjectLoader: Undefined material",x),i[x]}}function p(x){return a[x]===void 0&&ht("ObjectLoader: Undefined texture",x),a[x]}let y,v;switch(e.type){case"Scene":u=new HM,e.background!==void 0&&(Number.isInteger(e.background)?u.background=new yt(e.background):u.background=p(e.background)),e.environment!==void 0&&(u.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?u.fog=new bx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(u.fog=new xx(e.fog.color,e.fog.density)),e.fog.name!==""&&(u.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(u.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(u.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&u.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(u.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&u.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":u=new xs(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(u.focus=e.focus),e.zoom!==void 0&&(u.zoom=e.zoom),e.filmGauge!==void 0&&(u.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(u.filmOffset=e.filmOffset),e.view!==void 0&&(u.view=Object.assign({},e.view));break;case"OrthographicCamera":u=new Kd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(u.zoom=e.zoom),e.view!==void 0&&(u.view=Object.assign({},e.view));break;case"AmbientLight":u=new sR(e.color,e.intensity);break;case"DirectionalLight":u=new iR(e.color,e.intensity),u.target=e.target||"";break;case"PointLight":u=new nR(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":u=new aR(e.color,e.intensity,e.width,e.height);break;case"SpotLight":u=new tR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),u.target=e.target||"";break;case"HemisphereLight":u=new eR(e.color,e.groundColor,e.intensity);break;case"LightProbe":const x=new l3().fromArray(e.sh);u=new rR(x,e.intensity);break;case"SkinnedMesh":y=h(e.geometry),v=d(e.material),u=new M5(y,v),e.bindMode!==void 0&&(u.bindMode=e.bindMode),e.bindMatrix!==void 0&&u.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(u.skeleton=e.skeleton);break;case"Mesh":y=h(e.geometry),v=d(e.material),u=new ns(y,v);break;case"InstancedMesh":y=h(e.geometry),v=d(e.material);const S=e.count,T=e.instanceMatrix,C=e.instanceColor;u=new w5(y,v,S),u.instanceMatrix=new Fd(new Float32Array(T.array),16),C!==void 0&&(u.instanceColor=new Fd(new Float32Array(C.array),C.itemSize));break;case"BatchedMesh":y=h(e.geometry),v=d(e.material),u=new T5(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,v),u.geometry=y,u.perObjectFrustumCulled=e.perObjectFrustumCulled,u.sortObjects=e.sortObjects,u._drawRanges=e.drawRanges,u._reservedRanges=e.reservedRanges,u._geometryInfo=e.geometryInfo.map(A=>{let M=null,N=null;return A.boundingBox!==void 0&&(M=new Ks().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(N=new Is().fromJSON(A.boundingSphere)),{...A,boundingBox:M,boundingSphere:N}}),u._instanceInfo=e.instanceInfo,u._availableInstanceIds=e._availableInstanceIds,u._availableGeometryIds=e._availableGeometryIds,u._nextIndexStart=e.nextIndexStart,u._nextVertexStart=e.nextVertexStart,u._geometryCount=e.geometryCount,u._maxInstanceCount=e.maxInstanceCount,u._maxVertexCount=e.maxVertexCount,u._maxIndexCount=e.maxIndexCount,u._geometryInitialized=e.geometryInitialized,u._matricesTexture=p(e.matricesTexture.uuid),u._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(u._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(u.boundingSphere=new Is().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(u.boundingBox=new Ks().fromJSON(e.boundingBox));break;case"LOD":u=new S5;break;case"Line":u=new hu(h(e.geometry),d(e.material));break;case"LineLoop":u=new E5(h(e.geometry),d(e.material));break;case"LineSegments":u=new hl(h(e.geometry),d(e.material));break;case"PointCloud":case"Points":u=new A5(h(e.geometry),d(e.material));break;case"Sprite":u=new _5(d(e.material));break;case"Group":u=new Td;break;case"Bone":u=new jM;break;default:u=new Dn}if(u.uuid=e.uuid,e.name!==void 0&&(u.name=e.name),e.matrix!==void 0?(u.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(u.matrixAutoUpdate=e.matrixAutoUpdate),u.matrixAutoUpdate&&u.matrix.decompose(u.position,u.quaternion,u.scale)):(e.position!==void 0&&u.position.fromArray(e.position),e.rotation!==void 0&&u.rotation.fromArray(e.rotation),e.quaternion!==void 0&&u.quaternion.fromArray(e.quaternion),e.scale!==void 0&&u.scale.fromArray(e.scale)),e.up!==void 0&&u.up.fromArray(e.up),e.castShadow!==void 0&&(u.castShadow=e.castShadow),e.receiveShadow!==void 0&&(u.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(u.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(u.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(u.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(u.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&u.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(u.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(u.visible=e.visible),e.frustumCulled!==void 0&&(u.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(u.renderOrder=e.renderOrder),e.userData!==void 0&&(u.userData=e.userData),e.layers!==void 0&&(u.layers.mask=e.layers),e.children!==void 0){const x=e.children;for(let S=0;S<x.length;S++)u.add(this.parseObject(x[S],t,i,a,o))}if(e.animations!==void 0){const x=e.animations;for(let S=0;S<x.length;S++){const T=x[S];u.animations.push(o[T])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(u.autoUpdate=e.autoUpdate);const x=e.levels;for(let S=0;S<x.length;S++){const T=x[S],C=u.getObjectByProperty("uuid",T.object);C!==void 0&&u.addLevel(C,T.distance,T.hysteresis)}}return u}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const a=t[i.skeleton];a===void 0?ht("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(a,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,a=e.getObjectByProperty("uuid",i);a!==void 0?t.target=a:t.target=new Dn}})}}const eO={UVMapping:rx,CubeReflectionMapping:ll,CubeRefractionMapping:cu,EquirectangularReflectionMapping:h0,EquirectangularRefractionMapping:d0,CubeUVReflectionMapping:Xd},DE={RepeatWrapping:p0,ClampToEdgeWrapping:Xa,MirroredRepeatWrapping:m0},LE={NearestFilter:Wi,NearestMipmapNearestFilter:RM,NearestMipmapLinearFilter:Md,LinearFilter:hi,LinearMipmapNearestFilter:Qm,LinearMipmapLinearFilter:sl},M_=new WeakMap;class tO extends Za{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&ht("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&ht("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,u=al.get(`image-bitmap:${e}`);if(u!==void 0){if(o.manager.itemStart(e),u.then){u.then(p=>{if(M_.has(u)===!0)a&&a(M_.get(u)),o.manager.itemError(e),o.manager.itemEnd(e);else return t&&t(p),o.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(u),o.manager.itemEnd(e)},0),u}const h={};h.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",h.headers=this.requestHeader,h.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(e,h).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(p){return al.add(`image-bitmap:${e}`,p),t&&t(p),o.manager.itemEnd(e),p}).catch(function(p){a&&a(p),M_.set(d,p),al.remove(`image-bitmap:${e}`),o.manager.itemError(e),o.manager.itemEnd(e)});al.add(`image-bitmap:${e}`,d),o.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let vy;class c3{static getContext(){return vy===void 0&&(vy=new(window.AudioContext||window.webkitAudioContext)),vy}static setContext(e){vy=e}}class nO extends Za{constructor(e){super(e)}load(e,t,i,a){const o=this,u=new nc(this.manager);u.setResponseType("arraybuffer"),u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(d){try{const p=d.slice(0);c3.getContext().decodeAudioData(p,function(v){t(v)}).catch(h)}catch(p){h(p)}},i,a);function h(d){a?a(d):Dt(d),o.manager.itemError(e)}}}const IE=new Xt,PE=new Xt,ff=new Xt;class iO{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xs,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xs,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ff.copy(e.projectionMatrix);const a=t.eyeSep/2,o=a*t.near/t.focus,u=t.near*Math.tan(Nf*t.fov*.5)/t.zoom;let h,d;PE.elements[12]=-a,IE.elements[12]=a,h=-u*t.aspect+o,d=u*t.aspect+o,ff.elements[0]=2*t.near/(d-h),ff.elements[8]=(d+h)/(d-h),this.cameraL.projectionMatrix.copy(ff),h=-u*t.aspect-o,d=u*t.aspect-o,ff.elements[0]=2*t.near/(d-h),ff.elements[8]=(d+h)/(d-h),this.cameraR.projectionMatrix.copy(ff)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(PE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(IE)}}class cR extends xs{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class u3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const hf=new Q,w_=new Ya,sO=new Q,df=new Q,pf=new Q;class aO extends Dn{constructor(){super(),this.type="AudioListener",this.context=c3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new u3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hf,w_,sO),df.set(0,0,-1).applyQuaternion(w_),pf.set(0,1,0).applyQuaternion(w_),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(hf.x,i),t.positionY.linearRampToValueAtTime(hf.y,i),t.positionZ.linearRampToValueAtTime(hf.z,i),t.forwardX.linearRampToValueAtTime(df.x,i),t.forwardY.linearRampToValueAtTime(df.y,i),t.forwardZ.linearRampToValueAtTime(df.z,i),t.upX.linearRampToValueAtTime(pf.x,i),t.upY.linearRampToValueAtTime(pf.y,i),t.upZ.linearRampToValueAtTime(pf.z,i)}else t.setPosition(hf.x,hf.y,hf.z),t.setOrientation(df.x,df.y,df.z,pf.x,pf.y,pf.z)}}class uR extends Dn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){ht("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(ht("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){ht("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(ht("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const mf=new Q,UE=new Ya,rO=new Q,gf=new Q;class oO extends uR{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(mf,UE,rO),gf.set(0,0,1).applyQuaternion(UE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(mf.x,i),t.positionY.linearRampToValueAtTime(mf.y,i),t.positionZ.linearRampToValueAtTime(mf.z,i),t.orientationX.linearRampToValueAtTime(gf.x,i),t.orientationY.linearRampToValueAtTime(gf.y,i),t.orientationZ.linearRampToValueAtTime(gf.z,i)}else t.setPosition(mf.x,mf.y,mf.z),t.setOrientation(gf.x,gf.y,gf.z)}}class lO{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class fR{constructor(e,t,i){this.binding=e,this.valueSize=i;let a,o,u;switch(t){case"quaternion":a=this._slerp,o=this._slerpAdditive,u=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":a=this._select,o=this._select,u=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:a=this._lerp,o=this._lerpAdditive,u=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=o,this._setIdentity=u,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,a=this.valueSize,o=e*a+a;let u=this.cumulativeWeight;if(u===0){for(let h=0;h!==a;++h)i[o+h]=i[h];u=t}else{u+=t;const h=t/u;this._mixBufferRegion(i,o,0,h,a)}this.cumulativeWeight=u}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,a=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,a=e*t+t,o=this.cumulativeWeight,u=this.cumulativeWeightAdditive,h=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const d=t*this._origIndex;this._mixBufferRegion(i,a,d,1-o,t)}u>0&&this._mixBufferRegionAdditive(i,a,this._addIndex*t,1,t);for(let d=t,p=t+t;d!==p;++d)if(i[d]!==i[d+t]){h.setValue(i,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,a=i*this._origIndex;e.getValue(t,a);for(let o=i,u=a;o!==u;++o)t[o]=t[a+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,a,o){if(a>=.5)for(let u=0;u!==o;++u)e[t+u]=e[i+u]}_slerp(e,t,i,a){Ya.slerpFlat(e,t,e,t,e,i,a)}_slerpAdditive(e,t,i,a,o){const u=this._workIndex*o;Ya.multiplyQuaternionsFlat(e,u,e,t,e,i),Ya.slerpFlat(e,t,e,t,e,u,a)}_lerp(e,t,i,a,o){const u=1-a;for(let h=0;h!==o;++h){const d=t+h;e[d]=e[d]*u+e[i+h]*a}}_lerpAdditive(e,t,i,a,o){for(let u=0;u!==o;++u){const h=t+u;e[h]=e[h]+e[i+u]*a}}}const f3="\\[\\]\\.:\\/",cO=new RegExp("["+f3+"]","g"),h3="[^"+f3+"]",uO="[^"+f3.replace("\\.","")+"]",fO=/((?:WC+[\/:])*)/.source.replace("WC",h3),hO=/(WCOD+)?/.source.replace("WCOD",uO),dO=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",h3),pO=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",h3),mO=new RegExp("^"+fO+hO+dO+pO+"$"),gO=["material","materials","bones","map"];class vO{constructor(e,t,i){const a=i||Nn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,a=this._bindings[i];a!==void 0&&a.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,o=i.length;a!==o;++a)i[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Nn{constructor(e,t,i){this.path=t,this.parsedPath=i||Nn.parseTrackName(t),this.node=Nn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Nn.Composite(e,t,i):new Nn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(cO,"")}static parseTrackName(e){const t=mO.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=i.nodeName&&i.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const o=i.nodeName.substring(a+1);gO.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,a),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(o){for(let u=0;u<o.length;u++){const h=o[u];if(h.name===t||h.uuid===t)return h;const d=i(h.children);if(d)return d}return null},a=i(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)e[t++]=i[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,a=t.propertyName;let o=t.propertyIndex;if(e||(e=Nn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){ht("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=t.objectIndex;switch(i){case"materials":if(!e.material){Dt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Dt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Dt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let y=0;y<e.length;y++)if(e[y].name===p){p=y;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Dt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Dt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){Dt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(p!==void 0){if(e[p]===void 0){Dt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const u=e[a];if(u===void 0){const p=t.nodeName;Dt("PropertyBinding: Trying to update property for track: "+p+"."+a+" but it wasn't found.",e);return}let h=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?h=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(h=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(o!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){Dt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Dt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}d=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=o}else u.fromArray!==void 0&&u.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(d=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=a;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nn.Composite=vO;Nn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nn.prototype.GetterByBindingType=[Nn.prototype._getValue_direct,Nn.prototype._getValue_array,Nn.prototype._getValue_arrayElement,Nn.prototype._getValue_toArray];Nn.prototype.SetterByBindingTypeAndVersioning=[[Nn.prototype._setValue_direct,Nn.prototype._setValue_direct_setNeedsUpdate,Nn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_array,Nn.prototype._setValue_array_setNeedsUpdate,Nn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_arrayElement,Nn.prototype._setValue_arrayElement_setNeedsUpdate,Nn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_fromArray,Nn.prototype._setValue_fromArray_setNeedsUpdate,Nn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class yO{constructor(){this.isAnimationObjectGroup=!0,this.uuid=or(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,a=arguments.length;i!==a;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,u=o.length;let h,d=e.length,p=this.nCachedObjects_;for(let y=0,v=arguments.length;y!==v;++y){const x=arguments[y],S=x.uuid;let T=t[S];if(T===void 0){T=d++,t[S]=T,e.push(x);for(let C=0,A=u;C!==A;++C)o[C].push(new Nn(x,i[C],a[C]))}else if(T<p){h=e[T];const C=--p,A=e[C];t[A.uuid]=T,e[T]=A,t[S]=C,e[C]=x;for(let M=0,N=u;M!==N;++M){const D=o[M],I=D[C];let z=D[T];D[T]=I,z===void 0&&(z=new Nn(x,i[M],a[M])),D[C]=z}}else e[T]!==h&&Dt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let o=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const d=arguments[u],p=d.uuid,y=t[p];if(y!==void 0&&y>=o){const v=o++,x=e[v];t[x.uuid]=y,e[y]=x,t[p]=v,e[v]=d;for(let S=0,T=a;S!==T;++S){const C=i[S],A=C[v],M=C[y];C[y]=A,C[v]=M}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let o=this.nCachedObjects_,u=e.length;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],y=p.uuid,v=t[y];if(v!==void 0)if(delete t[y],v<o){const x=--o,S=e[x],T=--u,C=e[T];t[S.uuid]=v,e[v]=S,t[C.uuid]=x,e[x]=C,e.pop();for(let A=0,M=a;A!==M;++A){const N=i[A],D=N[x],I=N[T];N[v]=D,N[x]=I,N.pop()}}else{const x=--u,S=e[x];x>0&&(t[S.uuid]=v),e[v]=S,e.pop();for(let T=0,C=a;T!==C;++T){const A=i[T];A[v]=A[x],A.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const i=this._bindingsIndicesByPath;let a=i[e];const o=this._bindings;if(a!==void 0)return o[a];const u=this._paths,h=this._parsedPaths,d=this._objects,p=d.length,y=this.nCachedObjects_,v=new Array(p);a=o.length,i[e]=a,u.push(e),h.push(t),o.push(v);for(let x=y,S=d.length;x!==S;++x){const T=d[x];v[x]=new Nn(T,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const a=this._paths,o=this._parsedPaths,u=this._bindings,h=u.length-1,d=u[h],p=e[h];t[p]=i,u[i]=d,u.pop(),o[i]=o[h],o.pop(),a[i]=a[h],a.pop()}}}class hR{constructor(e,t,i=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=a;const o=t.tracks,u=o.length,h=new Array(u),d={endingStart:Tf,endingEnd:Tf};for(let p=0;p!==u;++p){const y=o[p].createInterpolant(null);h[p]=y,y.settings=d}this._interpolantSettings=d,this._interpolants=h,this._propertyBindings=new Array(u),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=t5,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const a=this._clip.duration,o=e._clip.duration,u=o/a,h=a/o;e.warp(1,u,t),this.warp(h,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const a=this._mixer,o=a.time,u=this.timeScale;let h=this._timeScaleInterpolant;h===null&&(h=a._lendControlInterpolant(),this._timeScaleInterpolant=h);const d=h.parameterPositions,p=h.sampleValues;return d[0]=o,d[1]=o+i,p[0]=e/u,p[1]=t/u,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,a){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const d=(e-o)*i;d<0||i===0?t=0:(this._startTime=null,t=i*d)}t*=this._updateTimeScale(e);const u=this._updateTime(t),h=this._updateWeight(e);if(h>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case OM:for(let y=0,v=d.length;y!==v;++y)d[y].evaluate(u),p[y].accumulateAdditive(h);break;case dx:default:for(let y=0,v=d.length;y!==v;++y)d[y].evaluate(u),p[y].accumulate(a,h)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let a=this.time+e,o=this._loopCount;const u=i===n5;if(e===0)return o===-1?a:u&&(o&1)===1?t-a:a;if(i===e5){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,u)):this._setEndings(this.repetitions===0,!0,u)),a>=t||a<0){const h=Math.floor(a/t);a-=t*h,o+=Math.abs(h);const d=this.repetitions-o;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,u)}else this._setEndings(!1,!1,u);this._loopCount=o,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h})}}else this.time=a;if(u&&(o&1)===1)return t-a}return a}_setEndings(e,t,i){const a=this._interpolantSettings;i?(a.endingStart=Ef,a.endingEnd=Ef):(e?a.endingStart=this.zeroSlopeAtStart?Ef:Tf:a.endingStart=v0,t?a.endingEnd=this.zeroSlopeAtEnd?Ef:Tf:a.endingEnd=v0)}_scheduleFading(e,t,i){const a=this._mixer,o=a.time;let u=this._weightInterpolant;u===null&&(u=a._lendControlInterpolant(),this._weightInterpolant=u);const h=u.parameterPositions,d=u.sampleValues;return h[0]=o,d[0]=t,h[1]=o+e,d[1]=i,this}}const xO=new Float32Array(1);class bO extends fl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,a=e._clip.tracks,o=a.length,u=e._propertyBindings,h=e._interpolants,d=i.uuid,p=this._bindingsByRootAndName;let y=p[d];y===void 0&&(y={},p[d]=y);for(let v=0;v!==o;++v){const x=a[v],S=x.name;let T=y[S];if(T!==void 0)++T.referenceCount,u[v]=T;else{if(T=u[v],T!==void 0){T._cacheIndex===null&&(++T.referenceCount,this._addInactiveBinding(T,d,S));continue}const C=t&&t._propertyBindings[v].binding.parsedPath;T=new fR(Nn.create(i,S,C),x.ValueTypeName,x.getValueSize()),++T.referenceCount,this._addInactiveBinding(T,d,S),u[v]=T}h[v].resultBuffer=T.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,a=e._clip.uuid,o=this._actionsByClip[a];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,a,i)}const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const o=t[i];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const o=t[i];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const a=this._actions,o=this._actionsByClip;let u=o[t];if(u===void 0)u={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=u;else{const h=u.knownActions;e._byClipCacheIndex=h.length,h.push(e)}e._cacheIndex=a.length,a.push(e),u.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],a=e._cacheIndex;i._cacheIndex=a,t[a]=i,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,u=this._actionsByClip,h=u[o],d=h.knownActions,p=d[d.length-1],y=e._byClipCacheIndex;p._byClipCacheIndex=y,d[y]=p,d.pop(),e._byClipCacheIndex=null;const v=h.actionByRoot,x=(e._localRoot||this._root).uuid;delete v[x],d.length===0&&delete u[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const o=t[i];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,a=this._nActiveActions++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=i,t[i]=o}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,a=--this._nActiveActions,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=i,t[i]=o}_addInactiveBinding(e,t,i){const a=this._bindingsByRootAndName,o=this._bindings;let u=a[t];u===void 0&&(u={},a[t]=u),u[i]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,a=i.rootNode.uuid,o=i.path,u=this._bindingsByRootAndName,h=u[a],d=t[t.length-1],p=e._cacheIndex;d._cacheIndex=p,t[p]=d,t.pop(),delete h[o],Object.keys(h).length===0&&delete u[a]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,a=this._nActiveBindings++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=i,t[i]=o}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,a=--this._nActiveBindings,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=i,t[i]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new s3(new Float32Array(2),new Float32Array(2),1,xO),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,a=--this._nActiveControlInterpolants,o=t[a];e.__cacheIndex=a,t[a]=e,o.__cacheIndex=i,t[i]=o}clipAction(e,t,i){const a=t||this._root,o=a.uuid;let u=typeof e=="string"?A0.findByName(a,e):e;const h=u!==null?u.uuid:e,d=this._actionsByClip[h];let p=null;if(i===void 0&&(u!==null?i=u.blendMode:i=dx),d!==void 0){const v=d.actionByRoot[o];if(v!==void 0&&v.blendMode===i)return v;p=d.knownActions[0],u===null&&(u=p._clip)}if(u===null)return null;const y=new hR(this,u,t,i);return this._bindAction(y,p),this._addInactiveAction(y,h,o),y}existingAction(e,t){const i=t||this._root,a=i.uuid,o=typeof e=="string"?A0.findByName(i,e):e,u=o?o.uuid:e,h=this._actionsByClip[u];return h!==void 0&&h.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,a=this.time+=e,o=Math.sign(e),u=this._accuIndex^=1;for(let p=0;p!==i;++p)t[p]._update(a,e,o,u);const h=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)h[p].apply(u);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,a=this._actionsByClip,o=a[i];if(o!==void 0){const u=o.knownActions;for(let h=0,d=u.length;h!==d;++h){const p=u[h];this._deactivateAction(p);const y=p._cacheIndex,v=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=y,t[y]=v,t.pop(),this._removeInactiveBindingsForAction(p)}delete a[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const u in i){const h=i[u].actionByRoot,d=h[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const a=this._bindingsByRootAndName,o=a[t];if(o!==void 0)for(const u in o){const h=o[u];h.restoreOriginalState(),this._removeInactiveBinding(h)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class _O extends BM{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=i,this.texture=new vx(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class d3{constructor(e){this.value=e}clone(){return new d3(this.value.clone===void 0?this.value:this.value.clone())}}let SO=0;class MO extends fl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:SO++}),this.name="",this.usage=x0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,a=t.length;i<a;i++){const o=Array.isArray(t[i])?t[i]:[t[i]];for(let u=0;u<o.length;u++)this.uniforms.push(o[u].clone())}return this}clone(){return new this.constructor().copy(this)}}class wO extends _x{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class TO{constructor(e,t,i,a,o,u=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=a,this.count=o,this.normalized=u,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const OE=new Xt;class dR{constructor(e,t,i=0,a=1/0){this.ray=new qd(e,t),this.near=i,this.far=a,this.camera=null,this.layers=new zd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Dt("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return OE.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(OE),this}intersectObject(e,t=!0,i=[]){return AS(e,this,i,t),i.sort(zE),i}intersectObjects(e,t=!0,i=[]){for(let a=0,o=e.length;a<o;a++)AS(e[a],this,i,t);return i.sort(zE),i}}function zE(n,e){return n.distance-e.distance}function AS(n,e,t,i){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&i===!0){const o=n.children;for(let u=0,h=o.length;u<h;u++)AS(o[u],e,t,!0)}}class EO{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=AO.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function AO(){this._document.hidden===!1&&this.reset()}class pR{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=jt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(jt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class CO{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class p3{constructor(e,t,i,a){p3.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,a){const o=this.elements;return o[0]=e,o[2]=t,o[1]=i,o[3]=a,this}}const BE=new Ge;class RO{constructor(e=new Ge(1/0,1/0),t=new Ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=BE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,BE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const FE=new Q,yy=new Q,fd=new Q,hd=new Q,T_=new Q,NO=new Q,DO=new Q;class LO{constructor(e=new Q,t=new Q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){FE.subVectors(e,this.start),yy.subVectors(this.end,this.start);const i=yy.dot(yy);let o=yy.dot(FE)/i;return t&&(o=jt(o,0,1)),o}closestPointToPoint(e,t,i){const a=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,t=NO,i=DO){const a=10000000000000001e-32;let o,u;const h=this.start,d=e.start,p=this.end,y=e.end;fd.subVectors(p,h),hd.subVectors(y,d),T_.subVectors(h,d);const v=fd.dot(fd),x=hd.dot(hd),S=hd.dot(T_);if(v<=a&&x<=a)return t.copy(h),i.copy(d),t.sub(i),t.dot(t);if(v<=a)o=0,u=S/x,u=jt(u,0,1);else{const T=fd.dot(T_);if(x<=a)u=0,o=jt(-T/v,0,1);else{const C=fd.dot(hd),A=v*x-C*C;A!==0?o=jt((C*S-T*x)/A,0,1):o=0,u=(C*o+S)/x,u<0?(u=0,o=jt(-T/v,0,1)):u>1&&(u=1,o=jt((C-T)/v,0,1))}}return t.copy(h).add(fd.multiplyScalar(o)),i.copy(d).add(hd.multiplyScalar(u)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const kE=new Q;class IO extends Dn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new tn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let u=0,h=1,d=32;u<d;u++,h++){const p=u/d*Math.PI*2,y=h/d*Math.PI*2;a.push(Math.cos(p),Math.sin(p),1,Math.cos(y),Math.sin(y),1)}i.setAttribute("position",new wt(a,3));const o=new _a({fog:!1,toneMapped:!1});this.cone=new hl(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),kE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(kE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Jc=new Q,xy=new Xt,E_=new Xt;class PO extends hl{constructor(e){const t=mR(e),i=new tn,a=[],o=[];for(let p=0;p<t.length;p++){const y=t[p];y.parent&&y.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(0,0,0),o.push(0,0,0))}i.setAttribute("position",new wt(a,3)),i.setAttribute("color",new wt(o,3));const u=new _a({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const h=new yt(255),d=new yt(65280);this.setColors(h,d)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,a=i.getAttribute("position");E_.copy(this.root.matrixWorld).invert();for(let o=0,u=0;o<t.length;o++){const h=t[o];h.parent&&h.parent.isBone&&(xy.multiplyMatrices(E_,h.matrixWorld),Jc.setFromMatrixPosition(xy),a.setXYZ(u,Jc.x,Jc.y,Jc.z),xy.multiplyMatrices(E_,h.parent.matrixWorld),Jc.setFromMatrixPosition(xy),a.setXYZ(u+1,Jc.x,Jc.y,Jc.z),u+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const a=this.geometry.getAttribute("color");for(let o=0;o<a.count;o+=2)a.setXYZ(o,e.r,e.g,e.b),a.setXYZ(o+1,t.r,t.g,t.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function mR(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...mR(n.children[t]));return e}class UO extends ns{constructor(e,t,i){const a=new G0(t,4,2),o=new mu({wireframe:!0,fog:!1,toneMapped:!1});super(a,o),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const OO=new Q,VE=new yt,HE=new yt;class zO extends Dn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const a=new H0(t);a.rotateY(Math.PI*.5),this.material=new mu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=a.getAttribute("position"),u=new Float32Array(o.count*3);a.setAttribute("color",new Kn(u,3)),this.add(new ns(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");VE.copy(this.light.color),HE.copy(this.light.groundColor);for(let i=0,a=t.count;i<a;i++){const o=i<a/2?VE:HE;t.setXYZ(i,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(OO.setFromMatrixPosition(this.light.matrixWorld).negate())}}class BO extends hl{constructor(e=10,t=10,i=4473924,a=8947848){i=new yt(i),a=new yt(a);const o=t/2,u=e/t,h=e/2,d=[],p=[];for(let x=0,S=0,T=-h;x<=t;x++,T+=u){d.push(-h,0,T,h,0,T),d.push(T,0,-h,T,0,h);const C=x===o?i:a;C.toArray(p,S),S+=3,C.toArray(p,S),S+=3,C.toArray(p,S),S+=3,C.toArray(p,S),S+=3}const y=new tn;y.setAttribute("position",new wt(d,3)),y.setAttribute("color",new wt(p,3));const v=new _a({vertexColors:!0,toneMapped:!1});super(y,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class FO extends hl{constructor(e=10,t=16,i=8,a=64,o=4473924,u=8947848){o=new yt(o),u=new yt(u);const h=[],d=[];if(t>1)for(let v=0;v<t;v++){const x=v/t*(Math.PI*2),S=Math.sin(x)*e,T=Math.cos(x)*e;h.push(0,0,0),h.push(S,0,T);const C=v&1?o:u;d.push(C.r,C.g,C.b),d.push(C.r,C.g,C.b)}for(let v=0;v<i;v++){const x=v&1?o:u,S=e-e/i*v;for(let T=0;T<a;T++){let C=T/a*(Math.PI*2),A=Math.sin(C)*S,M=Math.cos(C)*S;h.push(A,0,M),d.push(x.r,x.g,x.b),C=(T+1)/a*(Math.PI*2),A=Math.sin(C)*S,M=Math.cos(C)*S,h.push(A,0,M),d.push(x.r,x.g,x.b)}}const p=new tn;p.setAttribute("position",new wt(h,3)),p.setAttribute("color",new wt(d,3));const y=new _a({vertexColors:!0,toneMapped:!1});super(p,y),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const GE=new Q,by=new Q,jE=new Q;class kO extends Dn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new tn;a.setAttribute("position",new wt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new _a({fog:!1,toneMapped:!1});this.lightPlane=new hu(a,o),this.add(this.lightPlane),a=new tn,a.setAttribute("position",new wt([0,0,0,0,0,1],3)),this.targetLine=new hu(a,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),GE.setFromMatrixPosition(this.light.matrixWorld),by.setFromMatrixPosition(this.light.target.matrixWorld),jE.subVectors(by,GE),this.lightPlane.lookAt(by),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(by),this.targetLine.scale.z=jE.length()}}const _y=new Q,Ii=new yx;class VO extends hl{constructor(e){const t=new tn,i=new _a({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],u={};h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4");function h(T,C){d(T),d(C)}function d(T){a.push(0,0,0),o.push(0,0,0),u[T]===void 0&&(u[T]=[]),u[T].push(a.length/3-1)}t.setAttribute("position",new wt(a,3)),t.setAttribute("color",new wt(o,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=u,this.update();const p=new yt(16755200),y=new yt(16711680),v=new yt(43775),x=new yt(16777215),S=new yt(3355443);this.setColors(p,y,v,x,S)}setColors(e,t,i,a,o){const h=this.geometry.getAttribute("color");return h.setXYZ(0,e.r,e.g,e.b),h.setXYZ(1,e.r,e.g,e.b),h.setXYZ(2,e.r,e.g,e.b),h.setXYZ(3,e.r,e.g,e.b),h.setXYZ(4,e.r,e.g,e.b),h.setXYZ(5,e.r,e.g,e.b),h.setXYZ(6,e.r,e.g,e.b),h.setXYZ(7,e.r,e.g,e.b),h.setXYZ(8,e.r,e.g,e.b),h.setXYZ(9,e.r,e.g,e.b),h.setXYZ(10,e.r,e.g,e.b),h.setXYZ(11,e.r,e.g,e.b),h.setXYZ(12,e.r,e.g,e.b),h.setXYZ(13,e.r,e.g,e.b),h.setXYZ(14,e.r,e.g,e.b),h.setXYZ(15,e.r,e.g,e.b),h.setXYZ(16,e.r,e.g,e.b),h.setXYZ(17,e.r,e.g,e.b),h.setXYZ(18,e.r,e.g,e.b),h.setXYZ(19,e.r,e.g,e.b),h.setXYZ(20,e.r,e.g,e.b),h.setXYZ(21,e.r,e.g,e.b),h.setXYZ(22,e.r,e.g,e.b),h.setXYZ(23,e.r,e.g,e.b),h.setXYZ(24,t.r,t.g,t.b),h.setXYZ(25,t.r,t.g,t.b),h.setXYZ(26,t.r,t.g,t.b),h.setXYZ(27,t.r,t.g,t.b),h.setXYZ(28,t.r,t.g,t.b),h.setXYZ(29,t.r,t.g,t.b),h.setXYZ(30,t.r,t.g,t.b),h.setXYZ(31,t.r,t.g,t.b),h.setXYZ(32,i.r,i.g,i.b),h.setXYZ(33,i.r,i.g,i.b),h.setXYZ(34,i.r,i.g,i.b),h.setXYZ(35,i.r,i.g,i.b),h.setXYZ(36,i.r,i.g,i.b),h.setXYZ(37,i.r,i.g,i.b),h.setXYZ(38,a.r,a.g,a.b),h.setXYZ(39,a.r,a.g,a.b),h.setXYZ(40,o.r,o.g,o.b),h.setXYZ(41,o.r,o.g,o.b),h.setXYZ(42,o.r,o.g,o.b),h.setXYZ(43,o.r,o.g,o.b),h.setXYZ(44,o.r,o.g,o.b),h.setXYZ(45,o.r,o.g,o.b),h.setXYZ(46,o.r,o.g,o.b),h.setXYZ(47,o.r,o.g,o.b),h.setXYZ(48,o.r,o.g,o.b),h.setXYZ(49,o.r,o.g,o.b),h.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,a=1;let o,u;if(Ii.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)o=1,u=0;else if(this.camera.coordinateSystem===rr)o=-1,u=1;else if(this.camera.coordinateSystem===Pd)o=0,u=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);ji("c",t,e,Ii,0,0,o),ji("t",t,e,Ii,0,0,u),ji("n1",t,e,Ii,-i,-a,o),ji("n2",t,e,Ii,i,-a,o),ji("n3",t,e,Ii,-i,a,o),ji("n4",t,e,Ii,i,a,o),ji("f1",t,e,Ii,-i,-a,u),ji("f2",t,e,Ii,i,-a,u),ji("f3",t,e,Ii,-i,a,u),ji("f4",t,e,Ii,i,a,u),ji("u1",t,e,Ii,i*.7,a*1.1,o),ji("u2",t,e,Ii,-i*.7,a*1.1,o),ji("u3",t,e,Ii,0,a*2,o),ji("cf1",t,e,Ii,-i,0,u),ji("cf2",t,e,Ii,i,0,u),ji("cf3",t,e,Ii,0,-a,u),ji("cf4",t,e,Ii,0,a,u),ji("cn1",t,e,Ii,-i,0,o),ji("cn2",t,e,Ii,i,0,o),ji("cn3",t,e,Ii,0,-a,o),ji("cn4",t,e,Ii,0,a,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ji(n,e,t,i,a,o,u){_y.set(a,o,u).unproject(i);const h=e[n];if(h!==void 0){const d=t.getAttribute("position");for(let p=0,y=h.length;p<y;p++)d.setXYZ(h[p],_y.x,_y.y,_y.z)}}const Sy=new Ks;class HO extends hl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),o=new tn;o.setIndex(new Kn(i,1)),o.setAttribute("position",new Kn(a,3)),super(o,new _a({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Sy.setFromObject(this.object),Sy.isEmpty())return;const e=Sy.min,t=Sy.max,i=this.geometry.attributes.position,a=i.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class GO extends hl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new tn;o.setIndex(new Kn(i,1)),o.setAttribute("position",new wt(a,3)),super(o,new _a({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class jO extends hu{constructor(e,t=1,i=16776960){const a=i,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],u=new tn;u.setAttribute("position",new wt(o,3)),u.computeBoundingSphere(),super(u,new _a({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const h=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new tn;d.setAttribute("position",new wt(h,3)),d.computeBoundingSphere(),this.add(new ns(d,new mu({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const WE=new Q;let My,A_;class WO extends Dn{constructor(e=new Q(0,0,1),t=new Q(0,0,0),i=1,a=16776960,o=i*.2,u=o*.2){super(),this.type="ArrowHelper",My===void 0&&(My=new tn,My.setAttribute("position",new wt([0,0,0,0,1,0],3)),A_=new V0(.5,1,5,1),A_.translate(0,-.5,0)),this.position.copy(t),this.line=new hu(My,new _a({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ns(A_,new mu({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,o,u)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{WE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(WE,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class XO extends hl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new tn;a.setAttribute("position",new wt(t,3)),a.setAttribute("color",new wt(i,3));const o=new _a({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}setColors(e,t,i){const a=new yt,o=this.geometry.attributes.color.array;return a.set(e),a.toArray(o,0),a.toArray(o,3),a.set(t),a.toArray(o,6),a.toArray(o,9),a.set(i),a.toArray(o,12),a.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class qO{constructor(){this.type="ShapePath",this.color=new yt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new X1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,a){return this.currentPath.quadraticCurveTo(e,t,i,a),this}bezierCurveTo(e,t,i,a,o,u){return this.currentPath.bezierCurveTo(e,t,i,a,o,u),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const N=[];for(let D=0,I=M.length;D<I;D++){const z=M[D],F=new Df;F.curves=z.curves,N.push(F)}return N}function i(M,N){const D=N.length;let I=!1;for(let z=D-1,F=0;F<D;z=F++){let k=N[z],j=N[F],U=j.x-k.x,B=j.y-k.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(k=N[F],U=-U,j=N[z],B=-B),M.y<k.y||M.y>j.y)continue;if(M.y===k.y){if(M.x===k.x)return!0}else{const Y=B*(M.x-k.x)-U*(M.y-k.y);if(Y===0)return!0;if(Y<0)continue;I=!I}}else{if(M.y!==k.y)continue;if(j.x<=M.x&&M.x<=k.x||k.x<=M.x&&M.x<=j.x)return!0}}return I}const a=vo.isClockWise,o=this.subPaths;if(o.length===0)return[];let u,h,d;const p=[];if(o.length===1)return h=o[0],d=new Df,d.curves=h.curves,p.push(d),p;let y=!a(o[0].getPoints());y=e?!y:y;const v=[],x=[];let S=[],T=0,C;x[T]=void 0,S[T]=[];for(let M=0,N=o.length;M<N;M++)h=o[M],C=h.getPoints(),u=a(C),u=e?!u:u,u?(!y&&x[T]&&T++,x[T]={s:new Df,p:C},x[T].s.curves=h.curves,y&&T++,S[T]=[]):S[T].push({h,p:C[0]});if(!x[0])return t(o);if(x.length>1){let M=!1,N=0;for(let D=0,I=x.length;D<I;D++)v[D]=[];for(let D=0,I=x.length;D<I;D++){const z=S[D];for(let F=0;F<z.length;F++){const k=z[F];let j=!0;for(let U=0;U<x.length;U++)i(k.p,x[U].p)&&(D!==U&&N++,j?(j=!1,v[U].push(k)):M=!0);j&&v[D].push(k)}}N>0&&M===!1&&(S=v)}let A;for(let M=0,N=x.length;M<N;M++){d=x[M].s,p.push(d),A=S[M];for(let D=0,I=A.length;D<I;D++)d.holes.push(A[D].h)}return p}}class YO extends fl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){ht("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function ZO(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function KO(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function QO(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function CS(n,e,t,i){const a=JO(i);switch(t){case PM:return n*e;case ux:return n*e/a.components*a.byteLength;case B0:return n*e/a.components*a.byteLength;case Pf:return n*e*2/a.components*a.byteLength;case fx:return n*e*2/a.components*a.byteLength;case UM:return n*e*3/a.components*a.byteLength;case Zs:return n*e*4/a.components*a.byteLength;case hx:return n*e*4/a.components*a.byteLength;case Jm:case $m:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case e0:case t0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case f1:case d1:return Math.max(n,16)*Math.max(e,8)/4;case u1:case h1:return Math.max(n,8)*Math.max(e,8)/2;case p1:case m1:case v1:case y1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case g1:case x1:case b1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case _1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case S1:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case M1:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case w1:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case T1:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case E1:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case A1:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case C1:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case R1:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case N1:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case D1:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case L1:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case I1:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case P1:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case U1:case O1:case z1:return Math.ceil(n/4)*Math.ceil(e/4)*16;case B1:case F1:return Math.ceil(n/4)*Math.ceil(e/4)*8;case k1:case V1:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function JO(n){switch(n){case ma:case NM:return{byteLength:1,components:1};case Ld:case DM:case cl:return{byteLength:2,components:1};case lx:case cx:return{byteLength:2,components:4};case kr:case ox:case xa:return{byteLength:4,components:1};case LM:case IM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class $O{static contain(e,t){return ZO(e,t)}static cover(e,t){return KO(e,t)}static fill(e){return QO(e)}static getByteLength(e,t,i,a){return CS(e,t,i,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:O0}}));typeof window<"u"&&(window.__THREE__?ht("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=O0);function gR(){let n=null,e=!1,t=null,i=null;function a(o,u){t(o,u),i=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function ez(n){const e=new WeakMap;function t(h,d){const p=h.array,y=h.usage,v=p.byteLength,x=n.createBuffer();n.bindBuffer(d,x),n.bufferData(d,p,y),h.onUploadCallback();let S;if(p instanceof Float32Array)S=n.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)S=n.HALF_FLOAT;else if(p instanceof Uint16Array)h.isFloat16BufferAttribute?S=n.HALF_FLOAT:S=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)S=n.SHORT;else if(p instanceof Uint32Array)S=n.UNSIGNED_INT;else if(p instanceof Int32Array)S=n.INT;else if(p instanceof Int8Array)S=n.BYTE;else if(p instanceof Uint8Array)S=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)S=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:x,type:S,bytesPerElement:p.BYTES_PER_ELEMENT,version:h.version,size:v}}function i(h,d,p){const y=d.array,v=d.updateRanges;if(n.bindBuffer(p,h),v.length===0)n.bufferSubData(p,0,y);else{v.sort((S,T)=>S.start-T.start);let x=0;for(let S=1;S<v.length;S++){const T=v[x],C=v[S];C.start<=T.start+T.count+1?T.count=Math.max(T.count,C.start+C.count-T.start):(++x,v[x]=C)}v.length=x+1;for(let S=0,T=v.length;S<T;S++){const C=v[S];n.bufferSubData(p,C.start*y.BYTES_PER_ELEMENT,y,C.start,C.count)}d.clearUpdateRanges()}d.onUploadCallback()}function a(h){return h.isInterleavedBufferAttribute&&(h=h.data),e.get(h)}function o(h){h.isInterleavedBufferAttribute&&(h=h.data);const d=e.get(h);d&&(n.deleteBuffer(d.buffer),e.delete(h))}function u(h,d){if(h.isInterleavedBufferAttribute&&(h=h.data),h.isGLBufferAttribute){const y=e.get(h);(!y||y.version<h.version)&&e.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}const p=e.get(h);if(p===void 0)e.set(h,t(h,d));else if(p.version<h.version){if(p.size!==h.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,h,d),p.version=h.version}}return{get:a,remove:o,update:u}}var tz=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,nz=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,iz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,sz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,az=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,rz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,oz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,lz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cz=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,uz=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,fz=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,hz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,dz=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,pz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,mz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,gz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,vz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,yz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,xz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,bz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_z=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Sz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Mz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,wz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Tz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Ez=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Az=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Cz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Rz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Nz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Dz="gl_FragColor = linearToOutputTexel( gl_FragColor );",Lz=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Iz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Pz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,Uz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Oz=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Bz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Fz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,kz=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Vz=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Hz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Gz=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jz=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Wz=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Xz=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,qz=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Yz=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Zz=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Kz=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Qz=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Jz=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,$z=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,e7=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,t7=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,n7=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,i7=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,s7=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,a7=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,r7=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,o7=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,l7=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,c7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,u7=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,f7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,h7=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,d7=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,p7=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,m7=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,g7=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,v7=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,y7=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,x7=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,b7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,S7=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,M7=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,w7=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,T7=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,E7=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,A7=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,C7=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,R7=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,N7=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,D7=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,L7=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,I7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,P7=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,U7=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,O7=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,z7=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,B7=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,F7=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,k7=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,V7=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,H7=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,G7=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,j7=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,W7=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,X7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,q7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Y7=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Z7=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,K7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Q7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,J7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,$7=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const eB=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,tB=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iB=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aB=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rB=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,oB=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,lB=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cB=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,uB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fB=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hB=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dB=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pB=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,mB=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gB=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vB=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yB=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xB=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bB=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_B=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,SB=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MB=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wB=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,TB=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EB=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AB=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CB=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,RB=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,NB=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,DB=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,LB=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,IB=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,fn={alphahash_fragment:tz,alphahash_pars_fragment:nz,alphamap_fragment:iz,alphamap_pars_fragment:sz,alphatest_fragment:az,alphatest_pars_fragment:rz,aomap_fragment:oz,aomap_pars_fragment:lz,batching_pars_vertex:cz,batching_vertex:uz,begin_vertex:fz,beginnormal_vertex:hz,bsdfs:dz,iridescence_fragment:pz,bumpmap_pars_fragment:mz,clipping_planes_fragment:gz,clipping_planes_pars_fragment:vz,clipping_planes_pars_vertex:yz,clipping_planes_vertex:xz,color_fragment:bz,color_pars_fragment:_z,color_pars_vertex:Sz,color_vertex:Mz,common:wz,cube_uv_reflection_fragment:Tz,defaultnormal_vertex:Ez,displacementmap_pars_vertex:Az,displacementmap_vertex:Cz,emissivemap_fragment:Rz,emissivemap_pars_fragment:Nz,colorspace_fragment:Dz,colorspace_pars_fragment:Lz,envmap_fragment:Iz,envmap_common_pars_fragment:Pz,envmap_pars_fragment:Uz,envmap_pars_vertex:Oz,envmap_physical_pars_fragment:qz,envmap_vertex:zz,fog_vertex:Bz,fog_pars_vertex:Fz,fog_fragment:kz,fog_pars_fragment:Vz,gradientmap_pars_fragment:Hz,lightmap_pars_fragment:Gz,lights_lambert_fragment:jz,lights_lambert_pars_fragment:Wz,lights_pars_begin:Xz,lights_toon_fragment:Yz,lights_toon_pars_fragment:Zz,lights_phong_fragment:Kz,lights_phong_pars_fragment:Qz,lights_physical_fragment:Jz,lights_physical_pars_fragment:$z,lights_fragment_begin:e7,lights_fragment_maps:t7,lights_fragment_end:n7,logdepthbuf_fragment:i7,logdepthbuf_pars_fragment:s7,logdepthbuf_pars_vertex:a7,logdepthbuf_vertex:r7,map_fragment:o7,map_pars_fragment:l7,map_particle_fragment:c7,map_particle_pars_fragment:u7,metalnessmap_fragment:f7,metalnessmap_pars_fragment:h7,morphinstance_vertex:d7,morphcolor_vertex:p7,morphnormal_vertex:m7,morphtarget_pars_vertex:g7,morphtarget_vertex:v7,normal_fragment_begin:y7,normal_fragment_maps:x7,normal_pars_fragment:b7,normal_pars_vertex:_7,normal_vertex:S7,normalmap_pars_fragment:M7,clearcoat_normal_fragment_begin:w7,clearcoat_normal_fragment_maps:T7,clearcoat_pars_fragment:E7,iridescence_pars_fragment:A7,opaque_fragment:C7,packing:R7,premultiplied_alpha_fragment:N7,project_vertex:D7,dithering_fragment:L7,dithering_pars_fragment:I7,roughnessmap_fragment:P7,roughnessmap_pars_fragment:U7,shadowmap_pars_fragment:O7,shadowmap_pars_vertex:z7,shadowmap_vertex:B7,shadowmask_pars_fragment:F7,skinbase_vertex:k7,skinning_pars_vertex:V7,skinning_vertex:H7,skinnormal_vertex:G7,specularmap_fragment:j7,specularmap_pars_fragment:W7,tonemapping_fragment:X7,tonemapping_pars_fragment:q7,transmission_fragment:Y7,transmission_pars_fragment:Z7,uv_pars_fragment:K7,uv_pars_vertex:Q7,uv_vertex:J7,worldpos_vertex:$7,background_vert:eB,background_frag:tB,backgroundCube_vert:nB,backgroundCube_frag:iB,cube_vert:sB,cube_frag:aB,depth_vert:rB,depth_frag:oB,distance_vert:lB,distance_frag:cB,equirect_vert:uB,equirect_frag:fB,linedashed_vert:hB,linedashed_frag:dB,meshbasic_vert:pB,meshbasic_frag:mB,meshlambert_vert:gB,meshlambert_frag:vB,meshmatcap_vert:yB,meshmatcap_frag:xB,meshnormal_vert:bB,meshnormal_frag:_B,meshphong_vert:SB,meshphong_frag:MB,meshphysical_vert:wB,meshphysical_frag:TB,meshtoon_vert:EB,meshtoon_frag:AB,points_vert:CB,points_frag:RB,shadow_vert:NB,shadow_frag:DB,sprite_vert:LB,sprite_frag:IB},pt={common:{diffuse:{value:new yt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new sn},alphaMap:{value:null},alphaMapTransform:{value:new sn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new sn}},envmap:{envMap:{value:null},envMapRotation:{value:new sn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new sn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new sn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new sn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new sn},normalScale:{value:new Ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new sn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new sn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new sn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new sn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new sn},alphaTest:{value:0},uvTransform:{value:new sn}},sprite:{diffuse:{value:new yt(16777215)},opacity:{value:1},center:{value:new Ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new sn},alphaMap:{value:null},alphaMapTransform:{value:new sn},alphaTest:{value:0}}},mo={basic:{uniforms:pa([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.fog]),vertexShader:fn.meshbasic_vert,fragmentShader:fn.meshbasic_frag},lambert:{uniforms:pa([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new yt(0)}}]),vertexShader:fn.meshlambert_vert,fragmentShader:fn.meshlambert_frag},phong:{uniforms:pa([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new yt(0)},specular:{value:new yt(1118481)},shininess:{value:30}}]),vertexShader:fn.meshphong_vert,fragmentShader:fn.meshphong_frag},standard:{uniforms:pa([pt.common,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.roughnessmap,pt.metalnessmap,pt.fog,pt.lights,{emissive:{value:new yt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fn.meshphysical_vert,fragmentShader:fn.meshphysical_frag},toon:{uniforms:pa([pt.common,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.gradientmap,pt.fog,pt.lights,{emissive:{value:new yt(0)}}]),vertexShader:fn.meshtoon_vert,fragmentShader:fn.meshtoon_frag},matcap:{uniforms:pa([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,{matcap:{value:null}}]),vertexShader:fn.meshmatcap_vert,fragmentShader:fn.meshmatcap_frag},points:{uniforms:pa([pt.points,pt.fog]),vertexShader:fn.points_vert,fragmentShader:fn.points_frag},dashed:{uniforms:pa([pt.common,pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fn.linedashed_vert,fragmentShader:fn.linedashed_frag},depth:{uniforms:pa([pt.common,pt.displacementmap]),vertexShader:fn.depth_vert,fragmentShader:fn.depth_frag},normal:{uniforms:pa([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,{opacity:{value:1}}]),vertexShader:fn.meshnormal_vert,fragmentShader:fn.meshnormal_frag},sprite:{uniforms:pa([pt.sprite,pt.fog]),vertexShader:fn.sprite_vert,fragmentShader:fn.sprite_frag},background:{uniforms:{uvTransform:{value:new sn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:fn.background_vert,fragmentShader:fn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new sn}},vertexShader:fn.backgroundCube_vert,fragmentShader:fn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:fn.cube_vert,fragmentShader:fn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fn.equirect_vert,fragmentShader:fn.equirect_frag},distance:{uniforms:pa([pt.common,pt.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fn.distance_vert,fragmentShader:fn.distance_frag},shadow:{uniforms:pa([pt.lights,pt.fog,{color:{value:new yt(0)},opacity:{value:1}}]),vertexShader:fn.shadow_vert,fragmentShader:fn.shadow_frag}};mo.physical={uniforms:pa([mo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new sn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new sn},clearcoatNormalScale:{value:new Ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new sn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new sn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new sn},sheen:{value:0},sheenColor:{value:new yt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new sn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new sn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new sn},transmissionSamplerSize:{value:new Ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new sn},attenuationDistance:{value:0},attenuationColor:{value:new yt(0)},specularColor:{value:new yt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new sn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new sn},anisotropyVector:{value:new Ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new sn}}]),vertexShader:fn.meshphysical_vert,fragmentShader:fn.meshphysical_frag};const wy={r:0,b:0,g:0},vf=new cr,PB=new Xt;function UB(n,e,t,i,a,o,u){const h=new yt(0);let d=o===!0?0:1,p,y,v=null,x=0,S=null;function T(D){let I=D.isScene===!0?D.background:null;return I&&I.isTexture&&(I=(D.backgroundBlurriness>0?t:e).get(I)),I}function C(D){let I=!1;const z=T(D);z===null?M(h,d):z&&z.isColor&&(M(z,1),I=!0);const F=n.xr.getEnvironmentBlendMode();F==="additive"?i.buffers.color.setClear(0,0,0,1,u):F==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,u),(n.autoClear||I)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function A(D,I){const z=T(I);z&&(z.isCubeTexture||z.mapping===Xd)?(y===void 0&&(y=new ns(new Bf(1,1,1),new ur({name:"BackgroundCubeMaterial",uniforms:Bd(mo.backgroundCube.uniforms),vertexShader:mo.backgroundCube.vertexShader,fragmentShader:mo.backgroundCube.fragmentShader,side:ba,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),y.geometry.deleteAttribute("normal"),y.geometry.deleteAttribute("uv"),y.onBeforeRender=function(F,k,j){this.matrixWorld.copyPosition(j.matrixWorld)},Object.defineProperty(y.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(y)),vf.copy(I.backgroundRotation),vf.x*=-1,vf.y*=-1,vf.z*=-1,z.isCubeTexture&&z.isRenderTargetTexture===!1&&(vf.y*=-1,vf.z*=-1),y.material.uniforms.envMap.value=z,y.material.uniforms.flipEnvMap.value=z.isCubeTexture&&z.isRenderTargetTexture===!1?-1:1,y.material.uniforms.backgroundBlurriness.value=I.backgroundBlurriness,y.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,y.material.uniforms.backgroundRotation.value.setFromMatrix4(PB.makeRotationFromEuler(vf)),y.material.toneMapped=Tn.getTransfer(z.colorSpace)!==Hn,(v!==z||x!==z.version||S!==n.toneMapping)&&(y.material.needsUpdate=!0,v=z,x=z.version,S=n.toneMapping),y.layers.enableAll(),D.unshift(y,y.geometry,y.material,0,0,null)):z&&z.isTexture&&(p===void 0&&(p=new ns(new Zd(2,2),new ur({name:"BackgroundMaterial",uniforms:Bd(mo.background.uniforms),vertexShader:mo.background.vertexShader,fragmentShader:mo.background.fragmentShader,side:tc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(p)),p.material.uniforms.t2D.value=z,p.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,p.material.toneMapped=Tn.getTransfer(z.colorSpace)!==Hn,z.matrixAutoUpdate===!0&&z.updateMatrix(),p.material.uniforms.uvTransform.value.copy(z.matrix),(v!==z||x!==z.version||S!==n.toneMapping)&&(p.material.needsUpdate=!0,v=z,x=z.version,S=n.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function M(D,I){D.getRGB(wy,v5(n)),i.buffers.color.setClear(wy.r,wy.g,wy.b,I,u)}function N(){y!==void 0&&(y.geometry.dispose(),y.material.dispose(),y=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return h},setClearColor:function(D,I=1){h.set(D),d=I,M(h,d)},getClearAlpha:function(){return d},setClearAlpha:function(D){d=D,M(h,d)},render:C,addToRenderList:A,dispose:N}}function OB(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},a=x(null);let o=a,u=!1;function h(B,Y,ie,ee,me){let he=!1;const q=v(ee,ie,Y);o!==q&&(o=q,p(o.object)),he=S(B,ee,ie,me),he&&T(B,ee,ie,me),me!==null&&e.update(me,n.ELEMENT_ARRAY_BUFFER),(he||u)&&(u=!1,I(B,Y,ie,ee),me!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(me).buffer))}function d(){return n.createVertexArray()}function p(B){return n.bindVertexArray(B)}function y(B){return n.deleteVertexArray(B)}function v(B,Y,ie){const ee=ie.wireframe===!0;let me=i[B.id];me===void 0&&(me={},i[B.id]=me);let he=me[Y.id];he===void 0&&(he={},me[Y.id]=he);let q=he[ee];return q===void 0&&(q=x(d()),he[ee]=q),q}function x(B){const Y=[],ie=[],ee=[];for(let me=0;me<t;me++)Y[me]=0,ie[me]=0,ee[me]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:ie,attributeDivisors:ee,object:B,attributes:{},index:null}}function S(B,Y,ie,ee){const me=o.attributes,he=Y.attributes;let q=0;const K=ie.getAttributes();for(const oe in K)if(K[oe].location>=0){const Ce=me[oe];let X=he[oe];if(X===void 0&&(oe==="instanceMatrix"&&B.instanceMatrix&&(X=B.instanceMatrix),oe==="instanceColor"&&B.instanceColor&&(X=B.instanceColor)),Ce===void 0||Ce.attribute!==X||X&&Ce.data!==X.data)return!0;q++}return o.attributesNum!==q||o.index!==ee}function T(B,Y,ie,ee){const me={},he=Y.attributes;let q=0;const K=ie.getAttributes();for(const oe in K)if(K[oe].location>=0){let Ce=he[oe];Ce===void 0&&(oe==="instanceMatrix"&&B.instanceMatrix&&(Ce=B.instanceMatrix),oe==="instanceColor"&&B.instanceColor&&(Ce=B.instanceColor));const X={};X.attribute=Ce,Ce&&Ce.data&&(X.data=Ce.data),me[oe]=X,q++}o.attributes=me,o.attributesNum=q,o.index=ee}function C(){const B=o.newAttributes;for(let Y=0,ie=B.length;Y<ie;Y++)B[Y]=0}function A(B){M(B,0)}function M(B,Y){const ie=o.newAttributes,ee=o.enabledAttributes,me=o.attributeDivisors;ie[B]=1,ee[B]===0&&(n.enableVertexAttribArray(B),ee[B]=1),me[B]!==Y&&(n.vertexAttribDivisor(B,Y),me[B]=Y)}function N(){const B=o.newAttributes,Y=o.enabledAttributes;for(let ie=0,ee=Y.length;ie<ee;ie++)Y[ie]!==B[ie]&&(n.disableVertexAttribArray(ie),Y[ie]=0)}function D(B,Y,ie,ee,me,he,q){q===!0?n.vertexAttribIPointer(B,Y,ie,me,he):n.vertexAttribPointer(B,Y,ie,ee,me,he)}function I(B,Y,ie,ee){C();const me=ee.attributes,he=ie.getAttributes(),q=Y.defaultAttributeValues;for(const K in he){const oe=he[K];if(oe.location>=0){let Ee=me[K];if(Ee===void 0&&(K==="instanceMatrix"&&B.instanceMatrix&&(Ee=B.instanceMatrix),K==="instanceColor"&&B.instanceColor&&(Ee=B.instanceColor)),Ee!==void 0){const Ce=Ee.normalized,X=Ee.itemSize,re=e.get(Ee);if(re===void 0)continue;const pe=re.buffer,De=re.type,Xe=re.bytesPerElement,ce=De===n.INT||De===n.UNSIGNED_INT||Ee.gpuType===ox;if(Ee.isInterleavedBufferAttribute){const Ae=Ee.data,Be=Ae.stride,nt=Ee.offset;if(Ae.isInstancedInterleavedBuffer){for(let lt=0;lt<oe.locationSize;lt++)M(oe.location+lt,Ae.meshPerAttribute);B.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let lt=0;lt<oe.locationSize;lt++)A(oe.location+lt);n.bindBuffer(n.ARRAY_BUFFER,pe);for(let lt=0;lt<oe.locationSize;lt++)D(oe.location+lt,X/oe.locationSize,De,Ce,Be*Xe,(nt+X/oe.locationSize*lt)*Xe,ce)}else{if(Ee.isInstancedBufferAttribute){for(let Ae=0;Ae<oe.locationSize;Ae++)M(oe.location+Ae,Ee.meshPerAttribute);B.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let Ae=0;Ae<oe.locationSize;Ae++)A(oe.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,pe);for(let Ae=0;Ae<oe.locationSize;Ae++)D(oe.location+Ae,X/oe.locationSize,De,Ce,X*Xe,X/oe.locationSize*Ae*Xe,ce)}}else if(q!==void 0){const Ce=q[K];if(Ce!==void 0)switch(Ce.length){case 2:n.vertexAttrib2fv(oe.location,Ce);break;case 3:n.vertexAttrib3fv(oe.location,Ce);break;case 4:n.vertexAttrib4fv(oe.location,Ce);break;default:n.vertexAttrib1fv(oe.location,Ce)}}}}N()}function z(){j();for(const B in i){const Y=i[B];for(const ie in Y){const ee=Y[ie];for(const me in ee)y(ee[me].object),delete ee[me];delete Y[ie]}delete i[B]}}function F(B){if(i[B.id]===void 0)return;const Y=i[B.id];for(const ie in Y){const ee=Y[ie];for(const me in ee)y(ee[me].object),delete ee[me];delete Y[ie]}delete i[B.id]}function k(B){for(const Y in i){const ie=i[Y];if(ie[B.id]===void 0)continue;const ee=ie[B.id];for(const me in ee)y(ee[me].object),delete ee[me];delete ie[B.id]}}function j(){U(),u=!0,o!==a&&(o=a,p(o.object))}function U(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:h,reset:j,resetDefaultState:U,dispose:z,releaseStatesOfGeometry:F,releaseStatesOfProgram:k,initAttributes:C,enableAttribute:A,disableUnusedAttributes:N}}function zB(n,e,t){let i;function a(p){i=p}function o(p,y){n.drawArrays(i,p,y),t.update(y,i,1)}function u(p,y,v){v!==0&&(n.drawArraysInstanced(i,p,y,v),t.update(y,i,v))}function h(p,y,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,y,0,v);let S=0;for(let T=0;T<v;T++)S+=y[T];t.update(S,i,1)}function d(p,y,v,x){if(v===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let T=0;T<p.length;T++)u(p[T],y[T],x[T]);else{S.multiDrawArraysInstancedWEBGL(i,p,0,y,0,x,0,v);let T=0;for(let C=0;C<v;C++)T+=y[C]*x[C];t.update(T,i,1)}}this.setMode=a,this.render=o,this.renderInstances=u,this.renderMultiDraw=h,this.renderMultiDrawInstances=d}function BB(n,e,t,i){let a;function o(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function u(k){return!(k!==Zs&&i.convert(k)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function h(k){const j=k===cl&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(k!==ma&&i.convert(k)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&k!==xa&&!j)}function d(k){if(k==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";k="mediump"}return k==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const y=d(p);y!==p&&(ht("WebGLRenderer:",p,"not supported, using",y,"instead."),p=y);const v=t.logarithmicDepthBuffer===!0,x=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),S=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_TEXTURE_SIZE),A=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),M=n.getParameter(n.MAX_VERTEX_ATTRIBS),N=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),I=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),z=n.getParameter(n.MAX_SAMPLES),F=n.getParameter(n.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:d,textureFormatReadable:u,textureTypeReadable:h,precision:p,logarithmicDepthBuffer:v,reversedDepthBuffer:x,maxTextures:S,maxVertexTextures:T,maxTextureSize:C,maxCubemapSize:A,maxAttributes:M,maxVertexUniforms:N,maxVaryings:D,maxFragmentUniforms:I,maxSamples:z,samples:F}}function FB(n){const e=this;let t=null,i=0,a=!1,o=!1;const u=new eu,h=new sn,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(v,x){const S=v.length!==0||x||i!==0||a;return a=x,i=v.length,S},this.beginShadows=function(){o=!0,y(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(v,x){t=y(v,x,0)},this.setState=function(v,x,S){const T=v.clippingPlanes,C=v.clipIntersection,A=v.clipShadows,M=n.get(v);if(!a||T===null||T.length===0||o&&!A)o?y(null):p();else{const N=o?0:i,D=N*4;let I=M.clippingState||null;d.value=I,I=y(T,x,D,S);for(let z=0;z!==D;++z)I[z]=t[z];M.clippingState=I,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=N}};function p(){d.value!==t&&(d.value=t,d.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function y(v,x,S,T){const C=v!==null?v.length:0;let A=null;if(C!==0){if(A=d.value,T!==!0||A===null){const M=S+C*4,N=x.matrixWorldInverse;h.getNormalMatrix(N),(A===null||A.length<M)&&(A=new Float32Array(M));for(let D=0,I=S;D!==C;++D,I+=4)u.copy(v[D]).applyMatrix4(N,h),u.normal.toArray(A,I),A[I+3]=u.constant}d.value=A,d.needsUpdate=!0}return e.numPlanes=C,e.numIntersection=0,A}}function kB(n){let e=new WeakMap;function t(u,h){return h===h0?u.mapping=ll:h===d0&&(u.mapping=cu),u}function i(u){if(u&&u.isTexture){const h=u.mapping;if(h===h0||h===d0)if(e.has(u)){const d=e.get(u).texture;return t(d,u.mapping)}else{const d=u.image;if(d&&d.height>0){const p=new VM(d.height);return p.fromEquirectangularTexture(n,u),e.set(u,p),u.addEventListener("dispose",a),t(p.texture,u.mapping)}else return null}}return u}function a(u){const h=u.target;h.removeEventListener("dispose",a);const d=e.get(h);d!==void 0&&(e.delete(h),d.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}const ru=4,XE=[.125,.215,.35,.446,.526,.582],_f=20,VB=256,Bm=new Kd,qE=new yt;let C_=null,R_=0,N_=0,D_=!1;const HB=new Q;class RS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,a=100,o={}){const{size:u=256,position:h=HB}=o;C_=this._renderer.getRenderTarget(),R_=this._renderer.getActiveCubeFace(),N_=this._renderer.getActiveMipmapLevel(),D_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(u);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,i,a,d,h),t>0&&this._blur(d,0,0,t),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=KE(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ZE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(C_,R_,N_),this._renderer.xr.enabled=D_,e.scissorTest=!1,dd(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ll||e.mapping===cu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),C_=this._renderer.getRenderTarget(),R_=this._renderer.getActiveCubeFace(),N_=this._renderer.getActiveMipmapLevel(),D_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:hi,minFilter:hi,generateMipmaps:!1,type:cl,format:Zs,colorSpace:uu,depthBuffer:!1},a=YE(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=YE(e,t,i);const{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=GB(o)),this._blurMaterial=WB(o,e,t),this._ggxMaterial=jB(o,e,t)}return a}_compileMaterial(e){const t=new ns(new tn,e);this._renderer.compile(t,Bm)}_sceneToCubeUV(e,t,i,a,o){const d=new xs(90,1,t,i),p=[1,-1,1,1,1,1],y=[1,1,1,-1,-1,-1],v=this._renderer,x=v.autoClear,S=v.toneMapping;v.getClearColor(qE),v.toneMapping=Fr,v.autoClear=!1,v.state.buffers.depth.getReversed()&&(v.setRenderTarget(a),v.clearDepth(),v.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ns(new Bf,new mu({name:"PMREM.Background",side:ba,depthWrite:!1,depthTest:!1})));const C=this._backgroundBox,A=C.material;let M=!1;const N=e.background;N?N.isColor&&(A.color.copy(N),e.background=null,M=!0):(A.color.copy(qE),M=!0);for(let D=0;D<6;D++){const I=D%3;I===0?(d.up.set(0,p[D],0),d.position.set(o.x,o.y,o.z),d.lookAt(o.x+y[D],o.y,o.z)):I===1?(d.up.set(0,0,p[D]),d.position.set(o.x,o.y,o.z),d.lookAt(o.x,o.y+y[D],o.z)):(d.up.set(0,p[D],0),d.position.set(o.x,o.y,o.z),d.lookAt(o.x,o.y,o.z+y[D]));const z=this._cubeSize;dd(a,I*z,D>2?z:0,z,z),v.setRenderTarget(a),M&&v.render(C,d),v.render(e,d)}v.toneMapping=S,v.autoClear=x,e.background=N}_textureToCubeUV(e,t){const i=this._renderer,a=e.mapping===ll||e.mapping===cu;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=KE()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ZE());const o=a?this._cubemapMaterial:this._equirectMaterial,u=this._lodMeshes[0];u.material=o;const h=o.uniforms;h.envMap.value=e;const d=this._cubeSize;dd(t,0,0,3*d,2*d),i.setRenderTarget(t),i.render(u,Bm)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const a=this._lodMeshes.length;for(let o=1;o<a;o++)this._applyGGXFilter(e,o-1,o);t.autoClear=i}_applyGGXFilter(e,t,i){const a=this._renderer,o=this._pingPongRenderTarget,u=this._ggxMaterial,h=this._lodMeshes[i];h.material=u;const d=u.uniforms,p=i/(this._lodMeshes.length-1),y=t/(this._lodMeshes.length-1),v=Math.sqrt(p*p-y*y),x=0+p*1.25,S=v*x,{_lodMax:T}=this,C=this._sizeLods[i],A=3*C*(i>T-ru?i-T+ru:0),M=4*(this._cubeSize-C);d.envMap.value=e.texture,d.roughness.value=S,d.mipInt.value=T-t,dd(o,A,M,3*C,2*C),a.setRenderTarget(o),a.render(h,Bm),d.envMap.value=o.texture,d.roughness.value=0,d.mipInt.value=T-i,dd(e,A,M,3*C,2*C),a.setRenderTarget(e),a.render(h,Bm)}_blur(e,t,i,a,o){const u=this._pingPongRenderTarget;this._halfBlur(e,u,t,i,a,"latitudinal",o),this._halfBlur(u,e,i,i,a,"longitudinal",o)}_halfBlur(e,t,i,a,o,u,h){const d=this._renderer,p=this._blurMaterial;u!=="latitudinal"&&u!=="longitudinal"&&Dt("blur direction must be either latitudinal or longitudinal!");const y=3,v=this._lodMeshes[a];v.material=p;const x=p.uniforms,S=this._sizeLods[i]-1,T=isFinite(o)?Math.PI/(2*S):2*Math.PI/(2*_f-1),C=o/T,A=isFinite(o)?1+Math.floor(y*C):_f;A>_f&&ht(`sigmaRadians, ${o}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${_f}`);const M=[];let N=0;for(let k=0;k<_f;++k){const j=k/C,U=Math.exp(-j*j/2);M.push(U),k===0?N+=U:k<A&&(N+=2*U)}for(let k=0;k<M.length;k++)M[k]=M[k]/N;x.envMap.value=e.texture,x.samples.value=A,x.weights.value=M,x.latitudinal.value=u==="latitudinal",h&&(x.poleAxis.value=h);const{_lodMax:D}=this;x.dTheta.value=T,x.mipInt.value=D-i;const I=this._sizeLods[a],z=3*I*(a>D-ru?a-D+ru:0),F=4*(this._cubeSize-I);dd(t,z,F,3*I,2*I),d.setRenderTarget(t),d.render(v,Bm)}}function GB(n){const e=[],t=[],i=[];let a=n;const o=n-ru+1+XE.length;for(let u=0;u<o;u++){const h=Math.pow(2,a);e.push(h);let d=1/h;u>n-ru?d=XE[u-n+ru-1]:u===0&&(d=0),t.push(d);const p=1/(h-2),y=-p,v=1+p,x=[y,y,v,y,v,v,y,y,v,v,y,v],S=6,T=6,C=3,A=2,M=1,N=new Float32Array(C*T*S),D=new Float32Array(A*T*S),I=new Float32Array(M*T*S);for(let F=0;F<S;F++){const k=F%3*2/3-1,j=F>2?0:-1,U=[k,j,0,k+2/3,j,0,k+2/3,j+1,0,k,j,0,k+2/3,j+1,0,k,j+1,0];N.set(U,C*T*F),D.set(x,A*T*F);const B=[F,F,F,F,F,F];I.set(B,M*T*F)}const z=new tn;z.setAttribute("position",new Kn(N,C)),z.setAttribute("uv",new Kn(D,A)),z.setAttribute("faceIndex",new Kn(I,M)),i.push(new ns(z,null)),a>ru&&a--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function YE(n,e,t){const i=new lr(n,e,t);return i.texture.mapping=Xd,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function dd(n,e,t,i,a){n.viewport.set(e,t,i,a),n.scissor.set(e,t,i,a)}function jB(n,e,t){return new ur({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:VB,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:Fx(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function WB(n,e,t){const i=new Float32Array(_f),a=new Q(0,1,0);return new ur({name:"SphericalGaussianBlur",defines:{n:_f,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:Fx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function ZE(){return new ur({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Fx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function KE(){return new ur({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Fx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function Fx(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function XB(n){let e=new WeakMap,t=null;function i(h){if(h&&h.isTexture){const d=h.mapping,p=d===h0||d===d0,y=d===ll||d===cu;if(p||y){let v=e.get(h);const x=v!==void 0?v.texture.pmremVersion:0;if(h.isRenderTargetTexture&&h.pmremVersion!==x)return t===null&&(t=new RS(n)),v=p?t.fromEquirectangular(h,v):t.fromCubemap(h,v),v.texture.pmremVersion=h.pmremVersion,e.set(h,v),v.texture;if(v!==void 0)return v.texture;{const S=h.image;return p&&S&&S.height>0||y&&S&&a(S)?(t===null&&(t=new RS(n)),v=p?t.fromEquirectangular(h):t.fromCubemap(h),v.texture.pmremVersion=h.pmremVersion,e.set(h,v),h.addEventListener("dispose",o),v.texture):null}}}return h}function a(h){let d=0;const p=6;for(let y=0;y<p;y++)h[y]!==void 0&&d++;return d===p}function o(h){const d=h.target;d.removeEventListener("dispose",o);const p=e.get(d);p!==void 0&&(e.delete(d),p.dispose())}function u(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:u}}function qB(n){const e={};function t(i){if(e[i]!==void 0)return e[i];const a=n.getExtension(i);return e[i]=a,a}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const a=t(i);return a===null&&Ud("WebGLRenderer: "+i+" extension not supported."),a}}}function YB(n,e,t,i){const a={},o=new WeakMap;function u(v){const x=v.target;x.index!==null&&e.remove(x.index);for(const T in x.attributes)e.remove(x.attributes[T]);x.removeEventListener("dispose",u),delete a[x.id];const S=o.get(x);S&&(e.remove(S),o.delete(x)),i.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,t.memory.geometries--}function h(v,x){return a[x.id]===!0||(x.addEventListener("dispose",u),a[x.id]=!0,t.memory.geometries++),x}function d(v){const x=v.attributes;for(const S in x)e.update(x[S],n.ARRAY_BUFFER)}function p(v){const x=[],S=v.index,T=v.attributes.position;let C=0;if(S!==null){const N=S.array;C=S.version;for(let D=0,I=N.length;D<I;D+=3){const z=N[D+0],F=N[D+1],k=N[D+2];x.push(z,F,F,k,k,z)}}else if(T!==void 0){const N=T.array;C=T.version;for(let D=0,I=N.length/3-1;D<I;D+=3){const z=D+0,F=D+1,k=D+2;x.push(z,F,F,k,k,z)}}else return;const A=new(f5(x)?kM:FM)(x,1);A.version=C;const M=o.get(v);M&&e.remove(M),o.set(v,A)}function y(v){const x=o.get(v);if(x){const S=v.index;S!==null&&x.version<S.version&&p(v)}else p(v);return o.get(v)}return{get:h,update:d,getWireframeAttribute:y}}function ZB(n,e,t){let i;function a(x){i=x}let o,u;function h(x){o=x.type,u=x.bytesPerElement}function d(x,S){n.drawElements(i,S,o,x*u),t.update(S,i,1)}function p(x,S,T){T!==0&&(n.drawElementsInstanced(i,S,o,x*u,T),t.update(S,i,T))}function y(x,S,T){if(T===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,S,0,o,x,0,T);let A=0;for(let M=0;M<T;M++)A+=S[M];t.update(A,i,1)}function v(x,S,T,C){if(T===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let M=0;M<x.length;M++)p(x[M]/u,S[M],C[M]);else{A.multiDrawElementsInstancedWEBGL(i,S,0,o,x,0,C,0,T);let M=0;for(let N=0;N<T;N++)M+=S[N]*C[N];t.update(M,i,1)}}this.setMode=a,this.setIndex=h,this.render=d,this.renderInstances=p,this.renderMultiDraw=y,this.renderMultiDrawInstances=v}function KB(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,u,h){switch(t.calls++,u){case n.TRIANGLES:t.triangles+=h*(o/3);break;case n.LINES:t.lines+=h*(o/2);break;case n.LINE_STRIP:t.lines+=h*(o-1);break;case n.LINE_LOOP:t.lines+=h*o;break;case n.POINTS:t.points+=h*o;break;default:Dt("WebGLInfo: Unknown draw mode:",u);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:i}}function QB(n,e,t){const i=new WeakMap,a=new $n;function o(u,h,d){const p=u.morphTargetInfluences,y=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,v=y!==void 0?y.length:0;let x=i.get(h);if(x===void 0||x.count!==v){let B=function(){j.dispose(),i.delete(h),h.removeEventListener("dispose",B)};var S=B;x!==void 0&&x.texture.dispose();const T=h.morphAttributes.position!==void 0,C=h.morphAttributes.normal!==void 0,A=h.morphAttributes.color!==void 0,M=h.morphAttributes.position||[],N=h.morphAttributes.normal||[],D=h.morphAttributes.color||[];let I=0;T===!0&&(I=1),C===!0&&(I=2),A===!0&&(I=3);let z=h.attributes.position.count*I,F=1;z>e.maxTextureSize&&(F=Math.ceil(z/e.maxTextureSize),z=e.maxTextureSize);const k=new Float32Array(z*F*4*v),j=new gx(k,z,F,v);j.type=xa,j.needsUpdate=!0;const U=I*4;for(let Y=0;Y<v;Y++){const ie=M[Y],ee=N[Y],me=D[Y],he=z*F*4*Y;for(let q=0;q<ie.count;q++){const K=q*U;T===!0&&(a.fromBufferAttribute(ie,q),k[he+K+0]=a.x,k[he+K+1]=a.y,k[he+K+2]=a.z,k[he+K+3]=0),C===!0&&(a.fromBufferAttribute(ee,q),k[he+K+4]=a.x,k[he+K+5]=a.y,k[he+K+6]=a.z,k[he+K+7]=0),A===!0&&(a.fromBufferAttribute(me,q),k[he+K+8]=a.x,k[he+K+9]=a.y,k[he+K+10]=a.z,k[he+K+11]=me.itemSize===4?a.w:1)}}x={count:v,texture:j,size:new Ge(z,F)},i.set(h,x),h.addEventListener("dispose",B)}if(u.isInstancedMesh===!0&&u.morphTexture!==null)d.getUniforms().setValue(n,"morphTexture",u.morphTexture,t);else{let T=0;for(let A=0;A<p.length;A++)T+=p[A];const C=h.morphTargetsRelative?1:1-T;d.getUniforms().setValue(n,"morphTargetBaseInfluence",C),d.getUniforms().setValue(n,"morphTargetInfluences",p)}d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:o}}function JB(n,e,t,i){let a=new WeakMap;function o(d){const p=i.render.frame,y=d.geometry,v=e.get(d,y);if(a.get(v)!==p&&(e.update(v),a.set(v,p)),d.isInstancedMesh&&(d.hasEventListener("dispose",h)===!1&&d.addEventListener("dispose",h),a.get(d)!==p&&(t.update(d.instanceMatrix,n.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,n.ARRAY_BUFFER),a.set(d,p))),d.isSkinnedMesh){const x=d.skeleton;a.get(x)!==p&&(x.update(),a.set(x,p))}return v}function u(){a=new WeakMap}function h(d){const p=d.target;p.removeEventListener("dispose",h),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:o,dispose:u}}const $B={[MM]:"LINEAR_TONE_MAPPING",[wM]:"REINHARD_TONE_MAPPING",[TM]:"CINEON_TONE_MAPPING",[ax]:"ACES_FILMIC_TONE_MAPPING",[AM]:"AGX_TONE_MAPPING",[CM]:"NEUTRAL_TONE_MAPPING",[EM]:"CUSTOM_TONE_MAPPING"};function e9(n,e,t,i,a){const o=new lr(e,t,{type:n,depthBuffer:i,stencilBuffer:a}),u=new lr(e,t,{type:cl,depthBuffer:!1,stencilBuffer:!1}),h=new tn;h.setAttribute("position",new wt([-1,3,0,-1,-1,0,3,-1,0],3)),h.setAttribute("uv",new wt([0,2,0,0,2,0],2));const d=new $M({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),p=new ns(h,d),y=new Kd(-1,1,1,-1,0,1);let v=null,x=null,S=!1,T,C=null,A=[],M=!1;this.setSize=function(N,D){o.setSize(N,D),u.setSize(N,D);for(let I=0;I<A.length;I++){const z=A[I];z.setSize&&z.setSize(N,D)}},this.setEffects=function(N){A=N,M=A.length>0&&A[0].isRenderPass===!0;const D=o.width,I=o.height;for(let z=0;z<A.length;z++){const F=A[z];F.setSize&&F.setSize(D,I)}},this.begin=function(N,D){if(S||N.toneMapping===Fr&&A.length===0)return!1;if(C=D,D!==null){const I=D.width,z=D.height;(o.width!==I||o.height!==z)&&this.setSize(I,z)}return M===!1&&N.setRenderTarget(o),T=N.toneMapping,N.toneMapping=Fr,!0},this.hasRenderPass=function(){return M},this.end=function(N,D){N.toneMapping=T,S=!0;let I=o,z=u;for(let F=0;F<A.length;F++){const k=A[F];if(k.enabled!==!1&&(k.render(N,z,I,D),k.needsSwap!==!1)){const j=I;I=z,z=j}}if(v!==N.outputColorSpace||x!==N.toneMapping){v=N.outputColorSpace,x=N.toneMapping,d.defines={},Tn.getTransfer(v)===Hn&&(d.defines.SRGB_TRANSFER="");const F=$B[x];F&&(d.defines[F]=""),d.needsUpdate=!0}d.uniforms.tDiffuse.value=I.texture,N.setRenderTarget(C),N.render(p,y),C=null,S=!1},this.isCompositing=function(){return S},this.dispose=function(){o.dispose(),u.dispose(),h.dispose(),d.dispose()}}const vR=new Ui,NS=new kd(1,1),yR=new gx,xR=new vx,bR=new F0,QE=[],JE=[],$E=new Float32Array(16),eA=new Float32Array(9),tA=new Float32Array(4);function Qd(n,e,t){const i=n[0];if(i<=0||i>0)return n;const a=e*t;let o=QE[a];if(o===void 0&&(o=new Float32Array(a),QE[a]=o),e!==0){i.toArray(o,0);for(let u=1,h=0;u!==e;++u)h+=t,n[u].toArray(o,h)}return o}function us(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function fs(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function kx(n,e){let t=JE[e];t===void 0&&(t=new Int32Array(e),JE[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function t9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function n9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(us(t,e))return;n.uniform2fv(this.addr,e),fs(t,e)}}function i9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(us(t,e))return;n.uniform3fv(this.addr,e),fs(t,e)}}function s9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(us(t,e))return;n.uniform4fv(this.addr,e),fs(t,e)}}function a9(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(us(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),fs(t,e)}else{if(us(t,i))return;tA.set(i),n.uniformMatrix2fv(this.addr,!1,tA),fs(t,i)}}function r9(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(us(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),fs(t,e)}else{if(us(t,i))return;eA.set(i),n.uniformMatrix3fv(this.addr,!1,eA),fs(t,i)}}function o9(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(us(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),fs(t,e)}else{if(us(t,i))return;$E.set(i),n.uniformMatrix4fv(this.addr,!1,$E),fs(t,i)}}function l9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function c9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(us(t,e))return;n.uniform2iv(this.addr,e),fs(t,e)}}function u9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(us(t,e))return;n.uniform3iv(this.addr,e),fs(t,e)}}function f9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(us(t,e))return;n.uniform4iv(this.addr,e),fs(t,e)}}function h9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function d9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(us(t,e))return;n.uniform2uiv(this.addr,e),fs(t,e)}}function p9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(us(t,e))return;n.uniform3uiv(this.addr,e),fs(t,e)}}function m9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(us(t,e))return;n.uniform4uiv(this.addr,e),fs(t,e)}}function g9(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a);let o;this.type===n.SAMPLER_2D_SHADOW?(NS.compareFunction=t.isReversedDepthBuffer()?mx:px,o=NS):o=vR,t.setTexture2D(e||o,a)}function v9(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture3D(e||xR,a)}function y9(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTextureCube(e||bR,a)}function x9(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture2DArray(e||yR,a)}function b9(n){switch(n){case 5126:return t9;case 35664:return n9;case 35665:return i9;case 35666:return s9;case 35674:return a9;case 35675:return r9;case 35676:return o9;case 5124:case 35670:return l9;case 35667:case 35671:return c9;case 35668:case 35672:return u9;case 35669:case 35673:return f9;case 5125:return h9;case 36294:return d9;case 36295:return p9;case 36296:return m9;case 35678:case 36198:case 36298:case 36306:case 35682:return g9;case 35679:case 36299:case 36307:return v9;case 35680:case 36300:case 36308:case 36293:return y9;case 36289:case 36303:case 36311:case 36292:return x9}}function _9(n,e){n.uniform1fv(this.addr,e)}function S9(n,e){const t=Qd(e,this.size,2);n.uniform2fv(this.addr,t)}function M9(n,e){const t=Qd(e,this.size,3);n.uniform3fv(this.addr,t)}function w9(n,e){const t=Qd(e,this.size,4);n.uniform4fv(this.addr,t)}function T9(n,e){const t=Qd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function E9(n,e){const t=Qd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function A9(n,e){const t=Qd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function C9(n,e){n.uniform1iv(this.addr,e)}function R9(n,e){n.uniform2iv(this.addr,e)}function N9(n,e){n.uniform3iv(this.addr,e)}function D9(n,e){n.uniform4iv(this.addr,e)}function L9(n,e){n.uniform1uiv(this.addr,e)}function I9(n,e){n.uniform2uiv(this.addr,e)}function P9(n,e){n.uniform3uiv(this.addr,e)}function U9(n,e){n.uniform4uiv(this.addr,e)}function O9(n,e,t){const i=this.cache,a=e.length,o=kx(t,a);us(i,o)||(n.uniform1iv(this.addr,o),fs(i,o));let u;this.type===n.SAMPLER_2D_SHADOW?u=NS:u=vR;for(let h=0;h!==a;++h)t.setTexture2D(e[h]||u,o[h])}function z9(n,e,t){const i=this.cache,a=e.length,o=kx(t,a);us(i,o)||(n.uniform1iv(this.addr,o),fs(i,o));for(let u=0;u!==a;++u)t.setTexture3D(e[u]||xR,o[u])}function B9(n,e,t){const i=this.cache,a=e.length,o=kx(t,a);us(i,o)||(n.uniform1iv(this.addr,o),fs(i,o));for(let u=0;u!==a;++u)t.setTextureCube(e[u]||bR,o[u])}function F9(n,e,t){const i=this.cache,a=e.length,o=kx(t,a);us(i,o)||(n.uniform1iv(this.addr,o),fs(i,o));for(let u=0;u!==a;++u)t.setTexture2DArray(e[u]||yR,o[u])}function k9(n){switch(n){case 5126:return _9;case 35664:return S9;case 35665:return M9;case 35666:return w9;case 35674:return T9;case 35675:return E9;case 35676:return A9;case 5124:case 35670:return C9;case 35667:case 35671:return R9;case 35668:case 35672:return N9;case 35669:case 35673:return D9;case 5125:return L9;case 36294:return I9;case 36295:return P9;case 36296:return U9;case 35678:case 36198:case 36298:case 36306:case 35682:return O9;case 35679:case 36299:case 36307:return z9;case 35680:case 36300:case 36308:case 36293:return B9;case 36289:case 36303:case 36311:case 36292:return F9}}class V9{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=b9(t.type)}}class H9{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=k9(t.type)}}class G9{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const a=this.seq;for(let o=0,u=a.length;o!==u;++o){const h=a[o];h.setValue(e,t[h.id],i)}}}const L_=/(\w+)(\])?(\[|\.)?/g;function nA(n,e){n.seq.push(e),n.map[e.id]=e}function j9(n,e,t){const i=n.name,a=i.length;for(L_.lastIndex=0;;){const o=L_.exec(i),u=L_.lastIndex;let h=o[1];const d=o[2]==="]",p=o[3];if(d&&(h=h|0),p===void 0||p==="["&&u+2===a){nA(t,p===void 0?new V9(h,n,e):new H9(h,n,e));break}else{let v=t.map[h];v===void 0&&(v=new G9(h),nA(t,v)),t=v}}}class Hy{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let u=0;u<i;++u){const h=e.getActiveUniform(t,u),d=e.getUniformLocation(t,h.name);j9(h,d,this)}const a=[],o=[];for(const u of this.seq)u.type===e.SAMPLER_2D_SHADOW||u.type===e.SAMPLER_CUBE_SHADOW||u.type===e.SAMPLER_2D_ARRAY_SHADOW?a.push(u):o.push(u);a.length>0&&(this.seq=a.concat(o))}setValue(e,t,i,a){const o=this.map[t];o!==void 0&&o.setValue(e,i,a)}setOptional(e,t,i){const a=t[i];a!==void 0&&this.setValue(e,i,a)}static upload(e,t,i,a){for(let o=0,u=t.length;o!==u;++o){const h=t[o],d=i[h.id];d.needsUpdate!==!1&&h.setValue(e,d.value,a)}}static seqWithValue(e,t){const i=[];for(let a=0,o=e.length;a!==o;++a){const u=e[a];u.id in t&&i.push(u)}return i}}function iA(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const W9=37297;let X9=0;function q9(n,e){const t=n.split(`
`),i=[],a=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let u=a;u<o;u++){const h=u+1;i.push(`${h===e?">":" "} ${h}: ${t[u]}`)}return i.join(`
`)}const sA=new sn;function Y9(n){Tn._getMatrix(sA,Tn.workingColorSpace,n);const e=`mat3( ${sA.elements.map(t=>t.toFixed(4))} )`;switch(Tn.getTransfer(n)){case y0:return[e,"LinearTransferOETF"];case Hn:return[e,"sRGBTransferOETF"];default:return ht("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function aA(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),o=(n.getShaderInfoLog(e)||"").trim();if(i&&o==="")return"";const u=/ERROR: 0:(\d+)/.exec(o);if(u){const h=parseInt(u[1]);return t.toUpperCase()+`

`+o+`

`+q9(n.getShaderSource(e),h)}else return o}function Z9(n,e){const t=Y9(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const K9={[MM]:"Linear",[wM]:"Reinhard",[TM]:"Cineon",[ax]:"ACESFilmic",[AM]:"AgX",[CM]:"Neutral",[EM]:"Custom"};function Q9(n,e){const t=K9[e];return t===void 0?(ht("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+n+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Ty=new Q;function J9(){Tn.getLuminanceCoefficients(Ty);const n=Ty.x.toFixed(4),e=Ty.y.toFixed(4),t=Ty.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function $9(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(jm).join(`
`)}function eF(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function tF(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const o=n.getActiveAttrib(e,a),u=o.name;let h=1;o.type===n.FLOAT_MAT2&&(h=2),o.type===n.FLOAT_MAT3&&(h=3),o.type===n.FLOAT_MAT4&&(h=4),t[u]={type:o.type,location:n.getAttribLocation(e,u),locationSize:h}}return t}function jm(n){return n!==""}function rA(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oA(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const nF=/^[ \t]*#include +<([\w\d./]+)>/gm;function DS(n){return n.replace(nF,sF)}const iF=new Map;function sF(n,e){let t=fn[e];if(t===void 0){const i=iF.get(e);if(i!==void 0)t=fn[i],ht('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return DS(t)}const aF=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function lA(n){return n.replace(aF,rF)}function rF(n,e,t,i){let a="";for(let o=parseInt(e);o<parseInt(t);o++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function cA(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const oF={[Ad]:"SHADOWMAP_TYPE_PCF",[wf]:"SHADOWMAP_TYPE_VSM"};function lF(n){return oF[n.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const cF={[ll]:"ENVMAP_TYPE_CUBE",[cu]:"ENVMAP_TYPE_CUBE",[Xd]:"ENVMAP_TYPE_CUBE_UV"};function uF(n){return n.envMap===!1?"ENVMAP_TYPE_CUBE":cF[n.envMapMode]||"ENVMAP_TYPE_CUBE"}const fF={[cu]:"ENVMAP_MODE_REFRACTION"};function hF(n){return n.envMap===!1?"ENVMAP_MODE_REFLECTION":fF[n.envMapMode]||"ENVMAP_MODE_REFLECTION"}const dF={[z0]:"ENVMAP_BLENDING_MULTIPLY",[QC]:"ENVMAP_BLENDING_MIX",[JC]:"ENVMAP_BLENDING_ADD"};function pF(n){return n.envMap===!1?"ENVMAP_BLENDING_NONE":dF[n.combine]||"ENVMAP_BLENDING_NONE"}function mF(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function gF(n,e,t,i){const a=n.getContext(),o=t.defines;let u=t.vertexShader,h=t.fragmentShader;const d=lF(t),p=uF(t),y=hF(t),v=pF(t),x=mF(t),S=$9(t),T=eF(o),C=a.createProgram();let A,M,N=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T].filter(jm).join(`
`),A.length>0&&(A+=`
`),M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T].filter(jm).join(`
`),M.length>0&&(M+=`
`)):(A=[cA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+y:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jm).join(`
`),M=[cA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+y:"",t.envMap?"#define "+v:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Fr?"#define TONE_MAPPING":"",t.toneMapping!==Fr?fn.tonemapping_pars_fragment:"",t.toneMapping!==Fr?Q9("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",fn.colorspace_pars_fragment,Z9("linearToOutputTexel",t.outputColorSpace),J9(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(jm).join(`
`)),u=DS(u),u=rA(u,t),u=oA(u,t),h=DS(h),h=rA(h,t),h=oA(h,t),u=lA(u),h=lA(h),t.isRawShaderMaterial!==!0&&(N=`#version 300 es
`,A=[S,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,M=["#define varying in",t.glslVersion===_S?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===_S?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const D=N+A+u,I=N+M+h,z=iA(a,a.VERTEX_SHADER,D),F=iA(a,a.FRAGMENT_SHADER,I);a.attachShader(C,z),a.attachShader(C,F),t.index0AttributeName!==void 0?a.bindAttribLocation(C,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(C,0,"position"),a.linkProgram(C);function k(Y){if(n.debug.checkShaderErrors){const ie=a.getProgramInfoLog(C)||"",ee=a.getShaderInfoLog(z)||"",me=a.getShaderInfoLog(F)||"",he=ie.trim(),q=ee.trim(),K=me.trim();let oe=!0,Ee=!0;if(a.getProgramParameter(C,a.LINK_STATUS)===!1)if(oe=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,C,z,F);else{const Ce=aA(a,z,"vertex"),X=aA(a,F,"fragment");Dt("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(C,a.VALIDATE_STATUS)+`

Material Name: `+Y.name+`
Material Type: `+Y.type+`

Program Info Log: `+he+`
`+Ce+`
`+X)}else he!==""?ht("WebGLProgram: Program Info Log:",he):(q===""||K==="")&&(Ee=!1);Ee&&(Y.diagnostics={runnable:oe,programLog:he,vertexShader:{log:q,prefix:A},fragmentShader:{log:K,prefix:M}})}a.deleteShader(z),a.deleteShader(F),j=new Hy(a,C),U=tF(a,C)}let j;this.getUniforms=function(){return j===void 0&&k(this),j};let U;this.getAttributes=function(){return U===void 0&&k(this),U};let B=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=a.getProgramParameter(C,W9)),B},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(C),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=X9++,this.cacheKey=e,this.usedTimes=1,this.program=C,this.vertexShader=z,this.fragmentShader=F,this}let vF=0;class yF{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,a=this._getShaderStage(t),o=this._getShaderStage(i),u=this._getShaderCacheForMaterial(e);return u.has(a)===!1&&(u.add(a),a.usedTimes++),u.has(o)===!1&&(u.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new xF(e),t.set(e,i)),i}}class xF{constructor(e){this.id=vF++,this.code=e,this.usedTimes=0}}function bF(n,e,t,i,a,o,u){const h=new zd,d=new yF,p=new Set,y=[],v=new Map,x=a.logarithmicDepthBuffer;let S=a.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(U){return p.add(U),U===0?"uv":`uv${U}`}function A(U,B,Y,ie,ee){const me=ie.fog,he=ee.geometry,q=U.isMeshStandardMaterial?ie.environment:null,K=(U.isMeshStandardMaterial?t:e).get(U.envMap||q),oe=K&&K.mapping===Xd?K.image.height:null,Ee=T[U.type];U.precision!==null&&(S=a.getMaxPrecision(U.precision),S!==U.precision&&ht("WebGLProgram.getParameters:",U.precision,"not supported, using",S,"instead."));const Ce=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,X=Ce!==void 0?Ce.length:0;let re=0;he.morphAttributes.position!==void 0&&(re=1),he.morphAttributes.normal!==void 0&&(re=2),he.morphAttributes.color!==void 0&&(re=3);let pe,De,Xe,ce;if(Ee){const cn=mo[Ee];pe=cn.vertexShader,De=cn.fragmentShader}else pe=U.vertexShader,De=U.fragmentShader,d.update(U),Xe=d.getVertexShaderID(U),ce=d.getFragmentShaderID(U);const Ae=n.getRenderTarget(),Be=n.state.buffers.depth.getReversed(),nt=ee.isInstancedMesh===!0,lt=ee.isBatchedMesh===!0,qt=!!U.map,Zt=!!U.matcap,Lt=!!K,Ie=!!U.aoMap,We=!!U.lightMap,Pe=!!U.bumpMap,$e=!!U.normalMap,Z=!!U.displacementMap,vt=!!U.emissiveMap,at=!!U.metalnessMap,At=!!U.roughnessMap,Fe=U.anisotropy>0,W=U.clearcoat>0,O=U.dispersion>0,se=U.iridescence>0,Me=U.sheen>0,Ue=U.transmission>0,Te=Fe&&!!U.anisotropyMap,ut=W&&!!U.clearcoatMap,Ze=W&&!!U.clearcoatNormalMap,xt=W&&!!U.clearcoatRoughnessMap,Ct=se&&!!U.iridescenceMap,je=se&&!!U.iridescenceThicknessMap,Qe=Me&&!!U.sheenColorMap,dt=Me&&!!U.sheenRoughnessMap,ft=!!U.specularMap,st=!!U.specularColorMap,Yt=!!U.specularIntensityMap,te=Ue&&!!U.transmissionMap,rt=Ue&&!!U.thicknessMap,Ke=!!U.gradientMap,ot=!!U.alphaMap,ke=U.alphaTest>0,ge=!!U.alphaHash,Ve=!!U.extensions;let St=Fr;U.toneMapped&&(Ae===null||Ae.isXRRenderTarget===!0)&&(St=n.toneMapping);const kt={shaderID:Ee,shaderType:U.type,shaderName:U.name,vertexShader:pe,fragmentShader:De,defines:U.defines,customVertexShaderID:Xe,customFragmentShaderID:ce,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:S,batching:lt,batchingColor:lt&&ee._colorsTexture!==null,instancing:nt,instancingColor:nt&&ee.instanceColor!==null,instancingMorph:nt&&ee.morphTexture!==null,outputColorSpace:Ae===null?n.outputColorSpace:Ae.isXRRenderTarget===!0?Ae.texture.colorSpace:uu,alphaToCoverage:!!U.alphaToCoverage,map:qt,matcap:Zt,envMap:Lt,envMapMode:Lt&&K.mapping,envMapCubeUVHeight:oe,aoMap:Ie,lightMap:We,bumpMap:Pe,normalMap:$e,displacementMap:Z,emissiveMap:vt,normalMapObjectSpace:$e&&U.normalMapType===s5,normalMapTangentSpace:$e&&U.normalMapType===pu,metalnessMap:at,roughnessMap:At,anisotropy:Fe,anisotropyMap:Te,clearcoat:W,clearcoatMap:ut,clearcoatNormalMap:Ze,clearcoatRoughnessMap:xt,dispersion:O,iridescence:se,iridescenceMap:Ct,iridescenceThicknessMap:je,sheen:Me,sheenColorMap:Qe,sheenRoughnessMap:dt,specularMap:ft,specularColorMap:st,specularIntensityMap:Yt,transmission:Ue,transmissionMap:te,thicknessMap:rt,gradientMap:Ke,opaque:U.transparent===!1&&U.blending===Rf&&U.alphaToCoverage===!1,alphaMap:ot,alphaTest:ke,alphaHash:ge,combine:U.combine,mapUv:qt&&C(U.map.channel),aoMapUv:Ie&&C(U.aoMap.channel),lightMapUv:We&&C(U.lightMap.channel),bumpMapUv:Pe&&C(U.bumpMap.channel),normalMapUv:$e&&C(U.normalMap.channel),displacementMapUv:Z&&C(U.displacementMap.channel),emissiveMapUv:vt&&C(U.emissiveMap.channel),metalnessMapUv:at&&C(U.metalnessMap.channel),roughnessMapUv:At&&C(U.roughnessMap.channel),anisotropyMapUv:Te&&C(U.anisotropyMap.channel),clearcoatMapUv:ut&&C(U.clearcoatMap.channel),clearcoatNormalMapUv:Ze&&C(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:xt&&C(U.clearcoatRoughnessMap.channel),iridescenceMapUv:Ct&&C(U.iridescenceMap.channel),iridescenceThicknessMapUv:je&&C(U.iridescenceThicknessMap.channel),sheenColorMapUv:Qe&&C(U.sheenColorMap.channel),sheenRoughnessMapUv:dt&&C(U.sheenRoughnessMap.channel),specularMapUv:ft&&C(U.specularMap.channel),specularColorMapUv:st&&C(U.specularColorMap.channel),specularIntensityMapUv:Yt&&C(U.specularIntensityMap.channel),transmissionMapUv:te&&C(U.transmissionMap.channel),thicknessMapUv:rt&&C(U.thicknessMap.channel),alphaMapUv:ot&&C(U.alphaMap.channel),vertexTangents:!!he.attributes.tangent&&($e||Fe),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,pointsUvs:ee.isPoints===!0&&!!he.attributes.uv&&(qt||ot),fog:!!me,useFog:U.fog===!0,fogExp2:!!me&&me.isFogExp2,flatShading:U.flatShading===!0&&U.wireframe===!1,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:x,reversedDepthBuffer:Be,skinning:ee.isSkinnedMesh===!0,morphTargets:he.morphAttributes.position!==void 0,morphNormals:he.morphAttributes.normal!==void 0,morphColors:he.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:re,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:u.numPlanes,numClipIntersection:u.numIntersection,dithering:U.dithering,shadowMapEnabled:n.shadowMap.enabled&&Y.length>0,shadowMapType:n.shadowMap.type,toneMapping:St,decodeVideoTexture:qt&&U.map.isVideoTexture===!0&&Tn.getTransfer(U.map.colorSpace)===Hn,decodeVideoTextureEmissive:vt&&U.emissiveMap.isVideoTexture===!0&&Tn.getTransfer(U.emissiveMap.colorSpace)===Hn,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===il,flipSided:U.side===ba,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:Ve&&U.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ve&&U.extensions.multiDraw===!0||lt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return kt.vertexUv1s=p.has(1),kt.vertexUv2s=p.has(2),kt.vertexUv3s=p.has(3),p.clear(),kt}function M(U){const B=[];if(U.shaderID?B.push(U.shaderID):(B.push(U.customVertexShaderID),B.push(U.customFragmentShaderID)),U.defines!==void 0)for(const Y in U.defines)B.push(Y),B.push(U.defines[Y]);return U.isRawShaderMaterial===!1&&(N(B,U),D(B,U),B.push(n.outputColorSpace)),B.push(U.customProgramCacheKey),B.join()}function N(U,B){U.push(B.precision),U.push(B.outputColorSpace),U.push(B.envMapMode),U.push(B.envMapCubeUVHeight),U.push(B.mapUv),U.push(B.alphaMapUv),U.push(B.lightMapUv),U.push(B.aoMapUv),U.push(B.bumpMapUv),U.push(B.normalMapUv),U.push(B.displacementMapUv),U.push(B.emissiveMapUv),U.push(B.metalnessMapUv),U.push(B.roughnessMapUv),U.push(B.anisotropyMapUv),U.push(B.clearcoatMapUv),U.push(B.clearcoatNormalMapUv),U.push(B.clearcoatRoughnessMapUv),U.push(B.iridescenceMapUv),U.push(B.iridescenceThicknessMapUv),U.push(B.sheenColorMapUv),U.push(B.sheenRoughnessMapUv),U.push(B.specularMapUv),U.push(B.specularColorMapUv),U.push(B.specularIntensityMapUv),U.push(B.transmissionMapUv),U.push(B.thicknessMapUv),U.push(B.combine),U.push(B.fogExp2),U.push(B.sizeAttenuation),U.push(B.morphTargetsCount),U.push(B.morphAttributeCount),U.push(B.numDirLights),U.push(B.numPointLights),U.push(B.numSpotLights),U.push(B.numSpotLightMaps),U.push(B.numHemiLights),U.push(B.numRectAreaLights),U.push(B.numDirLightShadows),U.push(B.numPointLightShadows),U.push(B.numSpotLightShadows),U.push(B.numSpotLightShadowsWithMaps),U.push(B.numLightProbes),U.push(B.shadowMapType),U.push(B.toneMapping),U.push(B.numClippingPlanes),U.push(B.numClipIntersection),U.push(B.depthPacking)}function D(U,B){h.disableAll(),B.instancing&&h.enable(0),B.instancingColor&&h.enable(1),B.instancingMorph&&h.enable(2),B.matcap&&h.enable(3),B.envMap&&h.enable(4),B.normalMapObjectSpace&&h.enable(5),B.normalMapTangentSpace&&h.enable(6),B.clearcoat&&h.enable(7),B.iridescence&&h.enable(8),B.alphaTest&&h.enable(9),B.vertexColors&&h.enable(10),B.vertexAlphas&&h.enable(11),B.vertexUv1s&&h.enable(12),B.vertexUv2s&&h.enable(13),B.vertexUv3s&&h.enable(14),B.vertexTangents&&h.enable(15),B.anisotropy&&h.enable(16),B.alphaHash&&h.enable(17),B.batching&&h.enable(18),B.dispersion&&h.enable(19),B.batchingColor&&h.enable(20),B.gradientMap&&h.enable(21),U.push(h.mask),h.disableAll(),B.fog&&h.enable(0),B.useFog&&h.enable(1),B.flatShading&&h.enable(2),B.logarithmicDepthBuffer&&h.enable(3),B.reversedDepthBuffer&&h.enable(4),B.skinning&&h.enable(5),B.morphTargets&&h.enable(6),B.morphNormals&&h.enable(7),B.morphColors&&h.enable(8),B.premultipliedAlpha&&h.enable(9),B.shadowMapEnabled&&h.enable(10),B.doubleSided&&h.enable(11),B.flipSided&&h.enable(12),B.useDepthPacking&&h.enable(13),B.dithering&&h.enable(14),B.transmission&&h.enable(15),B.sheen&&h.enable(16),B.opaque&&h.enable(17),B.pointsUvs&&h.enable(18),B.decodeVideoTexture&&h.enable(19),B.decodeVideoTextureEmissive&&h.enable(20),B.alphaToCoverage&&h.enable(21),U.push(h.mask)}function I(U){const B=T[U.type];let Y;if(B){const ie=mo[B];Y=y5.clone(ie.uniforms)}else Y=U.uniforms;return Y}function z(U,B){let Y=v.get(B);return Y!==void 0?++Y.usedTimes:(Y=new gF(n,B,U,o),y.push(Y),v.set(B,Y)),Y}function F(U){if(--U.usedTimes===0){const B=y.indexOf(U);y[B]=y[y.length-1],y.pop(),v.delete(U.cacheKey),U.destroy()}}function k(U){d.remove(U)}function j(){d.dispose()}return{getParameters:A,getProgramCacheKey:M,getUniforms:I,acquireProgram:z,releaseProgram:F,releaseShaderCache:k,programs:y,dispose:j}}function _F(){let n=new WeakMap;function e(u){return n.has(u)}function t(u){let h=n.get(u);return h===void 0&&(h={},n.set(u,h)),h}function i(u){n.delete(u)}function a(u,h,d){n.get(u)[h]=d}function o(){n=new WeakMap}return{has:e,get:t,remove:i,update:a,dispose:o}}function SF(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function uA(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function fA(){const n=[];let e=0;const t=[],i=[],a=[];function o(){e=0,t.length=0,i.length=0,a.length=0}function u(v,x,S,T,C,A){let M=n[e];return M===void 0?(M={id:v.id,object:v,geometry:x,material:S,groupOrder:T,renderOrder:v.renderOrder,z:C,group:A},n[e]=M):(M.id=v.id,M.object=v,M.geometry=x,M.material=S,M.groupOrder=T,M.renderOrder=v.renderOrder,M.z=C,M.group=A),e++,M}function h(v,x,S,T,C,A){const M=u(v,x,S,T,C,A);S.transmission>0?i.push(M):S.transparent===!0?a.push(M):t.push(M)}function d(v,x,S,T,C,A){const M=u(v,x,S,T,C,A);S.transmission>0?i.unshift(M):S.transparent===!0?a.unshift(M):t.unshift(M)}function p(v,x){t.length>1&&t.sort(v||SF),i.length>1&&i.sort(x||uA),a.length>1&&a.sort(x||uA)}function y(){for(let v=e,x=n.length;v<x;v++){const S=n[v];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.group=null}}return{opaque:t,transmissive:i,transparent:a,init:o,push:h,unshift:d,finish:y,sort:p}}function MF(){let n=new WeakMap;function e(i,a){const o=n.get(i);let u;return o===void 0?(u=new fA,n.set(i,[u])):a>=o.length?(u=new fA,o.push(u)):u=o[a],u}function t(){n=new WeakMap}return{get:e,dispose:t}}function wF(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new yt};break;case"SpotLight":t={position:new Q,direction:new Q,color:new yt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new yt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new yt,groundColor:new yt};break;case"RectAreaLight":t={color:new yt,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[e.id]=t,t}}}function TF(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let EF=0;function AF(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function CF(n){const e=new wF,t=TF(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new Q);const a=new Q,o=new Xt,u=new Xt;function h(p){let y=0,v=0,x=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let S=0,T=0,C=0,A=0,M=0,N=0,D=0,I=0,z=0,F=0,k=0;p.sort(AF);for(let U=0,B=p.length;U<B;U++){const Y=p[U],ie=Y.color,ee=Y.intensity,me=Y.distance;let he=null;if(Y.shadow&&Y.shadow.map&&(Y.shadow.map.texture.format===Pf?he=Y.shadow.map.texture:he=Y.shadow.map.depthTexture||Y.shadow.map.texture),Y.isAmbientLight)y+=ie.r*ee,v+=ie.g*ee,x+=ie.b*ee;else if(Y.isLightProbe){for(let q=0;q<9;q++)i.probe[q].addScaledVector(Y.sh.coefficients[q],ee);k++}else if(Y.isDirectionalLight){const q=e.get(Y);if(q.color.copy(Y.color).multiplyScalar(Y.intensity),Y.castShadow){const K=Y.shadow,oe=t.get(Y);oe.shadowIntensity=K.intensity,oe.shadowBias=K.bias,oe.shadowNormalBias=K.normalBias,oe.shadowRadius=K.radius,oe.shadowMapSize=K.mapSize,i.directionalShadow[S]=oe,i.directionalShadowMap[S]=he,i.directionalShadowMatrix[S]=Y.shadow.matrix,N++}i.directional[S]=q,S++}else if(Y.isSpotLight){const q=e.get(Y);q.position.setFromMatrixPosition(Y.matrixWorld),q.color.copy(ie).multiplyScalar(ee),q.distance=me,q.coneCos=Math.cos(Y.angle),q.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),q.decay=Y.decay,i.spot[C]=q;const K=Y.shadow;if(Y.map&&(i.spotLightMap[z]=Y.map,z++,K.updateMatrices(Y),Y.castShadow&&F++),i.spotLightMatrix[C]=K.matrix,Y.castShadow){const oe=t.get(Y);oe.shadowIntensity=K.intensity,oe.shadowBias=K.bias,oe.shadowNormalBias=K.normalBias,oe.shadowRadius=K.radius,oe.shadowMapSize=K.mapSize,i.spotShadow[C]=oe,i.spotShadowMap[C]=he,I++}C++}else if(Y.isRectAreaLight){const q=e.get(Y);q.color.copy(ie).multiplyScalar(ee),q.halfWidth.set(Y.width*.5,0,0),q.halfHeight.set(0,Y.height*.5,0),i.rectArea[A]=q,A++}else if(Y.isPointLight){const q=e.get(Y);if(q.color.copy(Y.color).multiplyScalar(Y.intensity),q.distance=Y.distance,q.decay=Y.decay,Y.castShadow){const K=Y.shadow,oe=t.get(Y);oe.shadowIntensity=K.intensity,oe.shadowBias=K.bias,oe.shadowNormalBias=K.normalBias,oe.shadowRadius=K.radius,oe.shadowMapSize=K.mapSize,oe.shadowCameraNear=K.camera.near,oe.shadowCameraFar=K.camera.far,i.pointShadow[T]=oe,i.pointShadowMap[T]=he,i.pointShadowMatrix[T]=Y.shadow.matrix,D++}i.point[T]=q,T++}else if(Y.isHemisphereLight){const q=e.get(Y);q.skyColor.copy(Y.color).multiplyScalar(ee),q.groundColor.copy(Y.groundColor).multiplyScalar(ee),i.hemi[M]=q,M++}}A>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_FLOAT_1,i.rectAreaLTC2=pt.LTC_FLOAT_2):(i.rectAreaLTC1=pt.LTC_HALF_1,i.rectAreaLTC2=pt.LTC_HALF_2)),i.ambient[0]=y,i.ambient[1]=v,i.ambient[2]=x;const j=i.hash;(j.directionalLength!==S||j.pointLength!==T||j.spotLength!==C||j.rectAreaLength!==A||j.hemiLength!==M||j.numDirectionalShadows!==N||j.numPointShadows!==D||j.numSpotShadows!==I||j.numSpotMaps!==z||j.numLightProbes!==k)&&(i.directional.length=S,i.spot.length=C,i.rectArea.length=A,i.point.length=T,i.hemi.length=M,i.directionalShadow.length=N,i.directionalShadowMap.length=N,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=I,i.spotShadowMap.length=I,i.directionalShadowMatrix.length=N,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=I+z-F,i.spotLightMap.length=z,i.numSpotLightShadowsWithMaps=F,i.numLightProbes=k,j.directionalLength=S,j.pointLength=T,j.spotLength=C,j.rectAreaLength=A,j.hemiLength=M,j.numDirectionalShadows=N,j.numPointShadows=D,j.numSpotShadows=I,j.numSpotMaps=z,j.numLightProbes=k,i.version=EF++)}function d(p,y){let v=0,x=0,S=0,T=0,C=0;const A=y.matrixWorldInverse;for(let M=0,N=p.length;M<N;M++){const D=p[M];if(D.isDirectionalLight){const I=i.directional[v];I.direction.setFromMatrixPosition(D.matrixWorld),a.setFromMatrixPosition(D.target.matrixWorld),I.direction.sub(a),I.direction.transformDirection(A),v++}else if(D.isSpotLight){const I=i.spot[S];I.position.setFromMatrixPosition(D.matrixWorld),I.position.applyMatrix4(A),I.direction.setFromMatrixPosition(D.matrixWorld),a.setFromMatrixPosition(D.target.matrixWorld),I.direction.sub(a),I.direction.transformDirection(A),S++}else if(D.isRectAreaLight){const I=i.rectArea[T];I.position.setFromMatrixPosition(D.matrixWorld),I.position.applyMatrix4(A),u.identity(),o.copy(D.matrixWorld),o.premultiply(A),u.extractRotation(o),I.halfWidth.set(D.width*.5,0,0),I.halfHeight.set(0,D.height*.5,0),I.halfWidth.applyMatrix4(u),I.halfHeight.applyMatrix4(u),T++}else if(D.isPointLight){const I=i.point[x];I.position.setFromMatrixPosition(D.matrixWorld),I.position.applyMatrix4(A),x++}else if(D.isHemisphereLight){const I=i.hemi[C];I.direction.setFromMatrixPosition(D.matrixWorld),I.direction.transformDirection(A),C++}}}return{setup:h,setupView:d,state:i}}function hA(n){const e=new CF(n),t=[],i=[];function a(y){p.camera=y,t.length=0,i.length=0}function o(y){t.push(y)}function u(y){i.push(y)}function h(){e.setup(t)}function d(y){e.setupView(t,y)}const p={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:p,setupLights:h,setupLightsView:d,pushLight:o,pushShadow:u}}function RF(n){let e=new WeakMap;function t(a,o=0){const u=e.get(a);let h;return u===void 0?(h=new hA(n),e.set(a,[h])):o>=u.length?(h=new hA(n),u.push(h)):h=u[o],h}function i(){e=new WeakMap}return{get:t,dispose:i}}const NF=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,DF=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,LF=[new Q(1,0,0),new Q(-1,0,0),new Q(0,1,0),new Q(0,-1,0),new Q(0,0,1),new Q(0,0,-1)],IF=[new Q(0,-1,0),new Q(0,-1,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,-1,0),new Q(0,-1,0)],dA=new Xt,Fm=new Q,I_=new Q;function PF(n,e,t){let i=new Yd;const a=new Ge,o=new Ge,u=new $n,h=new t3,d=new n3,p={},y=t.maxTextureSize,v={[tc]:ba,[ba]:tc,[il]:il},x=new ur({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ge},radius:{value:4}},vertexShader:NF,fragmentShader:DF}),S=x.clone();S.defines.HORIZONTAL_PASS=1;const T=new tn;T.setAttribute("position",new Kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new ns(T,x),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ad;let M=this.type;this.render=function(F,k,j){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||F.length===0)return;F.type===Km&&(ht("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),F.type=Ad);const U=n.getRenderTarget(),B=n.getActiveCubeFace(),Y=n.getActiveMipmapLevel(),ie=n.state;ie.setBlending(ol),ie.buffers.depth.getReversed()===!0?ie.buffers.color.setClear(0,0,0,0):ie.buffers.color.setClear(1,1,1,1),ie.buffers.depth.setTest(!0),ie.setScissorTest(!1);const ee=M!==this.type;ee&&k.traverse(function(me){me.material&&(Array.isArray(me.material)?me.material.forEach(he=>he.needsUpdate=!0):me.material.needsUpdate=!0)});for(let me=0,he=F.length;me<he;me++){const q=F[me],K=q.shadow;if(K===void 0){ht("WebGLShadowMap:",q,"has no shadow.");continue}if(K.autoUpdate===!1&&K.needsUpdate===!1)continue;a.copy(K.mapSize);const oe=K.getFrameExtents();if(a.multiply(oe),o.copy(K.mapSize),(a.x>y||a.y>y)&&(a.x>y&&(o.x=Math.floor(y/oe.x),a.x=o.x*oe.x,K.mapSize.x=o.x),a.y>y&&(o.y=Math.floor(y/oe.y),a.y=o.y*oe.y,K.mapSize.y=o.y)),K.map===null||ee===!0){if(K.map!==null&&(K.map.depthTexture!==null&&(K.map.depthTexture.dispose(),K.map.depthTexture=null),K.map.dispose()),this.type===wf){if(q.isPointLight){ht("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}K.map=new lr(a.x,a.y,{format:Pf,type:cl,minFilter:hi,magFilter:hi,generateMipmaps:!1}),K.map.texture.name=q.name+".shadowMap",K.map.depthTexture=new kd(a.x,a.y,xa),K.map.depthTexture.name=q.name+".shadowMapDepth",K.map.depthTexture.format=ul,K.map.depthTexture.compareFunction=null,K.map.depthTexture.minFilter=Wi,K.map.depthTexture.magFilter=Wi}else{q.isPointLight?(K.map=new VM(a.x),K.map.depthTexture=new R5(a.x,kr)):(K.map=new lr(a.x,a.y),K.map.depthTexture=new kd(a.x,a.y,kr)),K.map.depthTexture.name=q.name+".shadowMap",K.map.depthTexture.format=ul;const Ce=n.state.buffers.depth.getReversed();this.type===Ad?(K.map.depthTexture.compareFunction=Ce?mx:px,K.map.depthTexture.minFilter=hi,K.map.depthTexture.magFilter=hi):(K.map.depthTexture.compareFunction=null,K.map.depthTexture.minFilter=Wi,K.map.depthTexture.magFilter=Wi)}K.camera.updateProjectionMatrix()}const Ee=K.map.isWebGLCubeRenderTarget?6:1;for(let Ce=0;Ce<Ee;Ce++){if(K.map.isWebGLCubeRenderTarget)n.setRenderTarget(K.map,Ce),n.clear();else{Ce===0&&(n.setRenderTarget(K.map),n.clear());const X=K.getViewport(Ce);u.set(o.x*X.x,o.y*X.y,o.x*X.z,o.y*X.w),ie.viewport(u)}if(q.isPointLight){const X=K.camera,re=K.matrix,pe=q.distance||X.far;pe!==X.far&&(X.far=pe,X.updateProjectionMatrix()),Fm.setFromMatrixPosition(q.matrixWorld),X.position.copy(Fm),I_.copy(X.position),I_.add(LF[Ce]),X.up.copy(IF[Ce]),X.lookAt(I_),X.updateMatrixWorld(),re.makeTranslation(-Fm.x,-Fm.y,-Fm.z),dA.multiplyMatrices(X.projectionMatrix,X.matrixWorldInverse),K._frustum.setFromProjectionMatrix(dA,X.coordinateSystem,X.reversedDepth)}else K.updateMatrices(q);i=K.getFrustum(),I(k,j,K.camera,q,this.type)}K.isPointLightShadow!==!0&&this.type===wf&&N(K,j),K.needsUpdate=!1}M=this.type,A.needsUpdate=!1,n.setRenderTarget(U,B,Y)};function N(F,k){const j=e.update(C);x.defines.VSM_SAMPLES!==F.blurSamples&&(x.defines.VSM_SAMPLES=F.blurSamples,S.defines.VSM_SAMPLES=F.blurSamples,x.needsUpdate=!0,S.needsUpdate=!0),F.mapPass===null&&(F.mapPass=new lr(a.x,a.y,{format:Pf,type:cl})),x.uniforms.shadow_pass.value=F.map.depthTexture,x.uniforms.resolution.value=F.mapSize,x.uniforms.radius.value=F.radius,n.setRenderTarget(F.mapPass),n.clear(),n.renderBufferDirect(k,null,j,x,C,null),S.uniforms.shadow_pass.value=F.mapPass.texture,S.uniforms.resolution.value=F.mapSize,S.uniforms.radius.value=F.radius,n.setRenderTarget(F.map),n.clear(),n.renderBufferDirect(k,null,j,S,C,null)}function D(F,k,j,U){let B=null;const Y=j.isPointLight===!0?F.customDistanceMaterial:F.customDepthMaterial;if(Y!==void 0)B=Y;else if(B=j.isPointLight===!0?d:h,n.localClippingEnabled&&k.clipShadows===!0&&Array.isArray(k.clippingPlanes)&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0||k.map&&k.alphaTest>0||k.alphaToCoverage===!0){const ie=B.uuid,ee=k.uuid;let me=p[ie];me===void 0&&(me={},p[ie]=me);let he=me[ee];he===void 0&&(he=B.clone(),me[ee]=he,k.addEventListener("dispose",z)),B=he}if(B.visible=k.visible,B.wireframe=k.wireframe,U===wf?B.side=k.shadowSide!==null?k.shadowSide:k.side:B.side=k.shadowSide!==null?k.shadowSide:v[k.side],B.alphaMap=k.alphaMap,B.alphaTest=k.alphaToCoverage===!0?.5:k.alphaTest,B.map=k.map,B.clipShadows=k.clipShadows,B.clippingPlanes=k.clippingPlanes,B.clipIntersection=k.clipIntersection,B.displacementMap=k.displacementMap,B.displacementScale=k.displacementScale,B.displacementBias=k.displacementBias,B.wireframeLinewidth=k.wireframeLinewidth,B.linewidth=k.linewidth,j.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const ie=n.properties.get(B);ie.light=j}return B}function I(F,k,j,U,B){if(F.visible===!1)return;if(F.layers.test(k.layers)&&(F.isMesh||F.isLine||F.isPoints)&&(F.castShadow||F.receiveShadow&&B===wf)&&(!F.frustumCulled||i.intersectsObject(F))){F.modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,F.matrixWorld);const ee=e.update(F),me=F.material;if(Array.isArray(me)){const he=ee.groups;for(let q=0,K=he.length;q<K;q++){const oe=he[q],Ee=me[oe.materialIndex];if(Ee&&Ee.visible){const Ce=D(F,Ee,U,B);F.onBeforeShadow(n,F,k,j,ee,Ce,oe),n.renderBufferDirect(j,null,ee,Ce,F,oe),F.onAfterShadow(n,F,k,j,ee,Ce,oe)}}}else if(me.visible){const he=D(F,me,U,B);F.onBeforeShadow(n,F,k,j,ee,he,null),n.renderBufferDirect(j,null,ee,he,F,null),F.onAfterShadow(n,F,k,j,ee,he,null)}}const ie=F.children;for(let ee=0,me=ie.length;ee<me;ee++)I(ie[ee],k,j,U,B)}function z(F){F.target.removeEventListener("dispose",z);for(const j in p){const U=p[j],B=F.target.uuid;B in U&&(U[B].dispose(),delete U[B])}}}const UF={[i1]:s1,[a1]:l1,[r1]:c1,[If]:o1,[s1]:i1,[l1]:a1,[c1]:r1,[o1]:If};function OF(n,e){function t(){let te=!1;const rt=new $n;let Ke=null;const ot=new $n(0,0,0,0);return{setMask:function(ke){Ke!==ke&&!te&&(n.colorMask(ke,ke,ke,ke),Ke=ke)},setLocked:function(ke){te=ke},setClear:function(ke,ge,Ve,St,kt){kt===!0&&(ke*=St,ge*=St,Ve*=St),rt.set(ke,ge,Ve,St),ot.equals(rt)===!1&&(n.clearColor(ke,ge,Ve,St),ot.copy(rt))},reset:function(){te=!1,Ke=null,ot.set(-1,0,0,0)}}}function i(){let te=!1,rt=!1,Ke=null,ot=null,ke=null;return{setReversed:function(ge){if(rt!==ge){const Ve=e.get("EXT_clip_control");ge?Ve.clipControlEXT(Ve.LOWER_LEFT_EXT,Ve.ZERO_TO_ONE_EXT):Ve.clipControlEXT(Ve.LOWER_LEFT_EXT,Ve.NEGATIVE_ONE_TO_ONE_EXT),rt=ge;const St=ke;ke=null,this.setClear(St)}},getReversed:function(){return rt},setTest:function(ge){ge?Ae(n.DEPTH_TEST):Be(n.DEPTH_TEST)},setMask:function(ge){Ke!==ge&&!te&&(n.depthMask(ge),Ke=ge)},setFunc:function(ge){if(rt&&(ge=UF[ge]),ot!==ge){switch(ge){case i1:n.depthFunc(n.NEVER);break;case s1:n.depthFunc(n.ALWAYS);break;case a1:n.depthFunc(n.LESS);break;case If:n.depthFunc(n.LEQUAL);break;case r1:n.depthFunc(n.EQUAL);break;case o1:n.depthFunc(n.GEQUAL);break;case l1:n.depthFunc(n.GREATER);break;case c1:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ot=ge}},setLocked:function(ge){te=ge},setClear:function(ge){ke!==ge&&(rt&&(ge=1-ge),n.clearDepth(ge),ke=ge)},reset:function(){te=!1,Ke=null,ot=null,ke=null,rt=!1}}}function a(){let te=!1,rt=null,Ke=null,ot=null,ke=null,ge=null,Ve=null,St=null,kt=null;return{setTest:function(cn){te||(cn?Ae(n.STENCIL_TEST):Be(n.STENCIL_TEST))},setMask:function(cn){rt!==cn&&!te&&(n.stencilMask(cn),rt=cn)},setFunc:function(cn,xn,Gn){(Ke!==cn||ot!==xn||ke!==Gn)&&(n.stencilFunc(cn,xn,Gn),Ke=cn,ot=xn,ke=Gn)},setOp:function(cn,xn,Gn){(ge!==cn||Ve!==xn||St!==Gn)&&(n.stencilOp(cn,xn,Gn),ge=cn,Ve=xn,St=Gn)},setLocked:function(cn){te=cn},setClear:function(cn){kt!==cn&&(n.clearStencil(cn),kt=cn)},reset:function(){te=!1,rt=null,Ke=null,ot=null,ke=null,ge=null,Ve=null,St=null,kt=null}}}const o=new t,u=new i,h=new a,d=new WeakMap,p=new WeakMap;let y={},v={},x=new WeakMap,S=[],T=null,C=!1,A=null,M=null,N=null,D=null,I=null,z=null,F=null,k=new yt(0,0,0),j=0,U=!1,B=null,Y=null,ie=null,ee=null,me=null;const he=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,K=0;const oe=n.getParameter(n.VERSION);oe.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(oe)[1]),q=K>=1):oe.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(oe)[1]),q=K>=2);let Ee=null,Ce={};const X=n.getParameter(n.SCISSOR_BOX),re=n.getParameter(n.VIEWPORT),pe=new $n().fromArray(X),De=new $n().fromArray(re);function Xe(te,rt,Ke,ot){const ke=new Uint8Array(4),ge=n.createTexture();n.bindTexture(te,ge),n.texParameteri(te,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(te,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ve=0;Ve<Ke;Ve++)te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY?n.texImage3D(rt,0,n.RGBA,1,1,ot,0,n.RGBA,n.UNSIGNED_BYTE,ke):n.texImage2D(rt+Ve,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ke);return ge}const ce={};ce[n.TEXTURE_2D]=Xe(n.TEXTURE_2D,n.TEXTURE_2D,1),ce[n.TEXTURE_CUBE_MAP]=Xe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[n.TEXTURE_2D_ARRAY]=Xe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ce[n.TEXTURE_3D]=Xe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),u.setClear(1),h.setClear(0),Ae(n.DEPTH_TEST),u.setFunc(If),Pe(!1),$e(gS),Ae(n.CULL_FACE),Ie(ol);function Ae(te){y[te]!==!0&&(n.enable(te),y[te]=!0)}function Be(te){y[te]!==!1&&(n.disable(te),y[te]=!1)}function nt(te,rt){return v[te]!==rt?(n.bindFramebuffer(te,rt),v[te]=rt,te===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=rt),te===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=rt),!0):!1}function lt(te,rt){let Ke=S,ot=!1;if(te){Ke=x.get(rt),Ke===void 0&&(Ke=[],x.set(rt,Ke));const ke=te.textures;if(Ke.length!==ke.length||Ke[0]!==n.COLOR_ATTACHMENT0){for(let ge=0,Ve=ke.length;ge<Ve;ge++)Ke[ge]=n.COLOR_ATTACHMENT0+ge;Ke.length=ke.length,ot=!0}}else Ke[0]!==n.BACK&&(Ke[0]=n.BACK,ot=!0);ot&&n.drawBuffers(Ke)}function qt(te){return T!==te?(n.useProgram(te),T=te,!0):!1}const Zt={[tu]:n.FUNC_ADD,[PC]:n.FUNC_SUBTRACT,[UC]:n.FUNC_REVERSE_SUBTRACT};Zt[OC]=n.MIN,Zt[zC]=n.MAX;const Lt={[BC]:n.ZERO,[FC]:n.ONE,[kC]:n.SRC_COLOR,[t1]:n.SRC_ALPHA,[XC]:n.SRC_ALPHA_SATURATE,[jC]:n.DST_COLOR,[HC]:n.DST_ALPHA,[VC]:n.ONE_MINUS_SRC_COLOR,[n1]:n.ONE_MINUS_SRC_ALPHA,[WC]:n.ONE_MINUS_DST_COLOR,[GC]:n.ONE_MINUS_DST_ALPHA,[qC]:n.CONSTANT_COLOR,[YC]:n.ONE_MINUS_CONSTANT_COLOR,[ZC]:n.CONSTANT_ALPHA,[KC]:n.ONE_MINUS_CONSTANT_ALPHA};function Ie(te,rt,Ke,ot,ke,ge,Ve,St,kt,cn){if(te===ol){C===!0&&(Be(n.BLEND),C=!1);return}if(C===!1&&(Ae(n.BLEND),C=!0),te!==IC){if(te!==A||cn!==U){if((M!==tu||I!==tu)&&(n.blendEquation(n.FUNC_ADD),M=tu,I=tu),cn)switch(te){case Rf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case e1:n.blendFunc(n.ONE,n.ONE);break;case vS:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case yS:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Dt("WebGLState: Invalid blending: ",te);break}else switch(te){case Rf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case e1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case vS:Dt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case yS:Dt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Dt("WebGLState: Invalid blending: ",te);break}N=null,D=null,z=null,F=null,k.set(0,0,0),j=0,A=te,U=cn}return}ke=ke||rt,ge=ge||Ke,Ve=Ve||ot,(rt!==M||ke!==I)&&(n.blendEquationSeparate(Zt[rt],Zt[ke]),M=rt,I=ke),(Ke!==N||ot!==D||ge!==z||Ve!==F)&&(n.blendFuncSeparate(Lt[Ke],Lt[ot],Lt[ge],Lt[Ve]),N=Ke,D=ot,z=ge,F=Ve),(St.equals(k)===!1||kt!==j)&&(n.blendColor(St.r,St.g,St.b,kt),k.copy(St),j=kt),A=te,U=!1}function We(te,rt){te.side===il?Be(n.CULL_FACE):Ae(n.CULL_FACE);let Ke=te.side===ba;rt&&(Ke=!Ke),Pe(Ke),te.blending===Rf&&te.transparent===!1?Ie(ol):Ie(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),u.setFunc(te.depthFunc),u.setTest(te.depthTest),u.setMask(te.depthWrite),o.setMask(te.colorWrite);const ot=te.stencilWrite;h.setTest(ot),ot&&(h.setMask(te.stencilWriteMask),h.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),h.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),vt(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Ae(n.SAMPLE_ALPHA_TO_COVERAGE):Be(n.SAMPLE_ALPHA_TO_COVERAGE)}function Pe(te){B!==te&&(te?n.frontFace(n.CW):n.frontFace(n.CCW),B=te)}function $e(te){te!==NC?(Ae(n.CULL_FACE),te!==Y&&(te===gS?n.cullFace(n.BACK):te===DC?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Be(n.CULL_FACE),Y=te}function Z(te){te!==ie&&(q&&n.lineWidth(te),ie=te)}function vt(te,rt,Ke){te?(Ae(n.POLYGON_OFFSET_FILL),(ee!==rt||me!==Ke)&&(n.polygonOffset(rt,Ke),ee=rt,me=Ke)):Be(n.POLYGON_OFFSET_FILL)}function at(te){te?Ae(n.SCISSOR_TEST):Be(n.SCISSOR_TEST)}function At(te){te===void 0&&(te=n.TEXTURE0+he-1),Ee!==te&&(n.activeTexture(te),Ee=te)}function Fe(te,rt,Ke){Ke===void 0&&(Ee===null?Ke=n.TEXTURE0+he-1:Ke=Ee);let ot=Ce[Ke];ot===void 0&&(ot={type:void 0,texture:void 0},Ce[Ke]=ot),(ot.type!==te||ot.texture!==rt)&&(Ee!==Ke&&(n.activeTexture(Ke),Ee=Ke),n.bindTexture(te,rt||ce[te]),ot.type=te,ot.texture=rt)}function W(){const te=Ce[Ee];te!==void 0&&te.type!==void 0&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function O(){try{n.compressedTexImage2D(...arguments)}catch(te){Dt("WebGLState:",te)}}function se(){try{n.compressedTexImage3D(...arguments)}catch(te){Dt("WebGLState:",te)}}function Me(){try{n.texSubImage2D(...arguments)}catch(te){Dt("WebGLState:",te)}}function Ue(){try{n.texSubImage3D(...arguments)}catch(te){Dt("WebGLState:",te)}}function Te(){try{n.compressedTexSubImage2D(...arguments)}catch(te){Dt("WebGLState:",te)}}function ut(){try{n.compressedTexSubImage3D(...arguments)}catch(te){Dt("WebGLState:",te)}}function Ze(){try{n.texStorage2D(...arguments)}catch(te){Dt("WebGLState:",te)}}function xt(){try{n.texStorage3D(...arguments)}catch(te){Dt("WebGLState:",te)}}function Ct(){try{n.texImage2D(...arguments)}catch(te){Dt("WebGLState:",te)}}function je(){try{n.texImage3D(...arguments)}catch(te){Dt("WebGLState:",te)}}function Qe(te){pe.equals(te)===!1&&(n.scissor(te.x,te.y,te.z,te.w),pe.copy(te))}function dt(te){De.equals(te)===!1&&(n.viewport(te.x,te.y,te.z,te.w),De.copy(te))}function ft(te,rt){let Ke=p.get(rt);Ke===void 0&&(Ke=new WeakMap,p.set(rt,Ke));let ot=Ke.get(te);ot===void 0&&(ot=n.getUniformBlockIndex(rt,te.name),Ke.set(te,ot))}function st(te,rt){const ot=p.get(rt).get(te);d.get(rt)!==ot&&(n.uniformBlockBinding(rt,ot,te.__bindingPointIndex),d.set(rt,ot))}function Yt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),u.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),y={},Ee=null,Ce={},v={},x=new WeakMap,S=[],T=null,C=!1,A=null,M=null,N=null,D=null,I=null,z=null,F=null,k=new yt(0,0,0),j=0,U=!1,B=null,Y=null,ie=null,ee=null,me=null,pe.set(0,0,n.canvas.width,n.canvas.height),De.set(0,0,n.canvas.width,n.canvas.height),o.reset(),u.reset(),h.reset()}return{buffers:{color:o,depth:u,stencil:h},enable:Ae,disable:Be,bindFramebuffer:nt,drawBuffers:lt,useProgram:qt,setBlending:Ie,setMaterial:We,setFlipSided:Pe,setCullFace:$e,setLineWidth:Z,setPolygonOffset:vt,setScissorTest:at,activeTexture:At,bindTexture:Fe,unbindTexture:W,compressedTexImage2D:O,compressedTexImage3D:se,texImage2D:Ct,texImage3D:je,updateUBOMapping:ft,uniformBlockBinding:st,texStorage2D:Ze,texStorage3D:xt,texSubImage2D:Me,texSubImage3D:Ue,compressedTexSubImage2D:Te,compressedTexSubImage3D:ut,scissor:Qe,viewport:dt,reset:Yt}}function zF(n,e,t,i,a,o,u){const h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Ge,y=new WeakMap;let v;const x=new WeakMap;let S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(W,O){return S?new OffscreenCanvas(W,O):b0("canvas")}function C(W,O,se){let Me=1;const Ue=Fe(W);if((Ue.width>se||Ue.height>se)&&(Me=se/Math.max(Ue.width,Ue.height)),Me<1)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap||typeof VideoFrame<"u"&&W instanceof VideoFrame){const Te=Math.floor(Me*Ue.width),ut=Math.floor(Me*Ue.height);v===void 0&&(v=T(Te,ut));const Ze=O?T(Te,ut):v;return Ze.width=Te,Ze.height=ut,Ze.getContext("2d").drawImage(W,0,0,Te,ut),ht("WebGLRenderer: Texture has been resized from ("+Ue.width+"x"+Ue.height+") to ("+Te+"x"+ut+")."),Ze}else return"data"in W&&ht("WebGLRenderer: Image in DataTexture is too big ("+Ue.width+"x"+Ue.height+")."),W;return W}function A(W){return W.generateMipmaps}function M(W){n.generateMipmap(W)}function N(W){return W.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:W.isWebGL3DRenderTarget?n.TEXTURE_3D:W.isWebGLArrayRenderTarget||W.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function D(W,O,se,Me,Ue=!1){if(W!==null){if(n[W]!==void 0)return n[W];ht("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Te=O;if(O===n.RED&&(se===n.FLOAT&&(Te=n.R32F),se===n.HALF_FLOAT&&(Te=n.R16F),se===n.UNSIGNED_BYTE&&(Te=n.R8)),O===n.RED_INTEGER&&(se===n.UNSIGNED_BYTE&&(Te=n.R8UI),se===n.UNSIGNED_SHORT&&(Te=n.R16UI),se===n.UNSIGNED_INT&&(Te=n.R32UI),se===n.BYTE&&(Te=n.R8I),se===n.SHORT&&(Te=n.R16I),se===n.INT&&(Te=n.R32I)),O===n.RG&&(se===n.FLOAT&&(Te=n.RG32F),se===n.HALF_FLOAT&&(Te=n.RG16F),se===n.UNSIGNED_BYTE&&(Te=n.RG8)),O===n.RG_INTEGER&&(se===n.UNSIGNED_BYTE&&(Te=n.RG8UI),se===n.UNSIGNED_SHORT&&(Te=n.RG16UI),se===n.UNSIGNED_INT&&(Te=n.RG32UI),se===n.BYTE&&(Te=n.RG8I),se===n.SHORT&&(Te=n.RG16I),se===n.INT&&(Te=n.RG32I)),O===n.RGB_INTEGER&&(se===n.UNSIGNED_BYTE&&(Te=n.RGB8UI),se===n.UNSIGNED_SHORT&&(Te=n.RGB16UI),se===n.UNSIGNED_INT&&(Te=n.RGB32UI),se===n.BYTE&&(Te=n.RGB8I),se===n.SHORT&&(Te=n.RGB16I),se===n.INT&&(Te=n.RGB32I)),O===n.RGBA_INTEGER&&(se===n.UNSIGNED_BYTE&&(Te=n.RGBA8UI),se===n.UNSIGNED_SHORT&&(Te=n.RGBA16UI),se===n.UNSIGNED_INT&&(Te=n.RGBA32UI),se===n.BYTE&&(Te=n.RGBA8I),se===n.SHORT&&(Te=n.RGBA16I),se===n.INT&&(Te=n.RGBA32I)),O===n.RGB&&(se===n.UNSIGNED_INT_5_9_9_9_REV&&(Te=n.RGB9_E5),se===n.UNSIGNED_INT_10F_11F_11F_REV&&(Te=n.R11F_G11F_B10F)),O===n.RGBA){const ut=Ue?y0:Tn.getTransfer(Me);se===n.FLOAT&&(Te=n.RGBA32F),se===n.HALF_FLOAT&&(Te=n.RGBA16F),se===n.UNSIGNED_BYTE&&(Te=ut===Hn?n.SRGB8_ALPHA8:n.RGBA8),se===n.UNSIGNED_SHORT_4_4_4_4&&(Te=n.RGBA4),se===n.UNSIGNED_SHORT_5_5_5_1&&(Te=n.RGB5_A1)}return(Te===n.R16F||Te===n.R32F||Te===n.RG16F||Te===n.RG32F||Te===n.RGBA16F||Te===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Te}function I(W,O){let se;return W?O===null||O===kr||O===Id?se=n.DEPTH24_STENCIL8:O===xa?se=n.DEPTH32F_STENCIL8:O===Ld&&(se=n.DEPTH24_STENCIL8,ht("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):O===null||O===kr||O===Id?se=n.DEPTH_COMPONENT24:O===xa?se=n.DEPTH_COMPONENT32F:O===Ld&&(se=n.DEPTH_COMPONENT16),se}function z(W,O){return A(W)===!0||W.isFramebufferTexture&&W.minFilter!==Wi&&W.minFilter!==hi?Math.log2(Math.max(O.width,O.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?O.mipmaps.length:1}function F(W){const O=W.target;O.removeEventListener("dispose",F),j(O),O.isVideoTexture&&y.delete(O)}function k(W){const O=W.target;O.removeEventListener("dispose",k),B(O)}function j(W){const O=i.get(W);if(O.__webglInit===void 0)return;const se=W.source,Me=x.get(se);if(Me){const Ue=Me[O.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&U(W),Object.keys(Me).length===0&&x.delete(se)}i.remove(W)}function U(W){const O=i.get(W);n.deleteTexture(O.__webglTexture);const se=W.source,Me=x.get(se);delete Me[O.__cacheKey],u.memory.textures--}function B(W){const O=i.get(W);if(W.depthTexture&&(W.depthTexture.dispose(),i.remove(W.depthTexture)),W.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++){if(Array.isArray(O.__webglFramebuffer[Me]))for(let Ue=0;Ue<O.__webglFramebuffer[Me].length;Ue++)n.deleteFramebuffer(O.__webglFramebuffer[Me][Ue]);else n.deleteFramebuffer(O.__webglFramebuffer[Me]);O.__webglDepthbuffer&&n.deleteRenderbuffer(O.__webglDepthbuffer[Me])}else{if(Array.isArray(O.__webglFramebuffer))for(let Me=0;Me<O.__webglFramebuffer.length;Me++)n.deleteFramebuffer(O.__webglFramebuffer[Me]);else n.deleteFramebuffer(O.__webglFramebuffer);if(O.__webglDepthbuffer&&n.deleteRenderbuffer(O.__webglDepthbuffer),O.__webglMultisampledFramebuffer&&n.deleteFramebuffer(O.__webglMultisampledFramebuffer),O.__webglColorRenderbuffer)for(let Me=0;Me<O.__webglColorRenderbuffer.length;Me++)O.__webglColorRenderbuffer[Me]&&n.deleteRenderbuffer(O.__webglColorRenderbuffer[Me]);O.__webglDepthRenderbuffer&&n.deleteRenderbuffer(O.__webglDepthRenderbuffer)}const se=W.textures;for(let Me=0,Ue=se.length;Me<Ue;Me++){const Te=i.get(se[Me]);Te.__webglTexture&&(n.deleteTexture(Te.__webglTexture),u.memory.textures--),i.remove(se[Me])}i.remove(W)}let Y=0;function ie(){Y=0}function ee(){const W=Y;return W>=a.maxTextures&&ht("WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+a.maxTextures),Y+=1,W}function me(W){const O=[];return O.push(W.wrapS),O.push(W.wrapT),O.push(W.wrapR||0),O.push(W.magFilter),O.push(W.minFilter),O.push(W.anisotropy),O.push(W.internalFormat),O.push(W.format),O.push(W.type),O.push(W.generateMipmaps),O.push(W.premultiplyAlpha),O.push(W.flipY),O.push(W.unpackAlignment),O.push(W.colorSpace),O.join()}function he(W,O){const se=i.get(W);if(W.isVideoTexture&&at(W),W.isRenderTargetTexture===!1&&W.isExternalTexture!==!0&&W.version>0&&se.__version!==W.version){const Me=W.image;if(Me===null)ht("WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)ht("WebGLRenderer: Texture marked for update but image is incomplete");else{ce(se,W,O);return}}else W.isExternalTexture&&(se.__webglTexture=W.sourceTexture?W.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,se.__webglTexture,n.TEXTURE0+O)}function q(W,O){const se=i.get(W);if(W.isRenderTargetTexture===!1&&W.version>0&&se.__version!==W.version){ce(se,W,O);return}else W.isExternalTexture&&(se.__webglTexture=W.sourceTexture?W.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,se.__webglTexture,n.TEXTURE0+O)}function K(W,O){const se=i.get(W);if(W.isRenderTargetTexture===!1&&W.version>0&&se.__version!==W.version){ce(se,W,O);return}t.bindTexture(n.TEXTURE_3D,se.__webglTexture,n.TEXTURE0+O)}function oe(W,O){const se=i.get(W);if(W.isCubeDepthTexture!==!0&&W.version>0&&se.__version!==W.version){Ae(se,W,O);return}t.bindTexture(n.TEXTURE_CUBE_MAP,se.__webglTexture,n.TEXTURE0+O)}const Ee={[p0]:n.REPEAT,[Xa]:n.CLAMP_TO_EDGE,[m0]:n.MIRRORED_REPEAT},Ce={[Wi]:n.NEAREST,[RM]:n.NEAREST_MIPMAP_NEAREST,[Md]:n.NEAREST_MIPMAP_LINEAR,[hi]:n.LINEAR,[Qm]:n.LINEAR_MIPMAP_NEAREST,[sl]:n.LINEAR_MIPMAP_LINEAR},X={[a5]:n.NEVER,[u5]:n.ALWAYS,[r5]:n.LESS,[px]:n.LEQUAL,[o5]:n.EQUAL,[mx]:n.GEQUAL,[l5]:n.GREATER,[c5]:n.NOTEQUAL};function re(W,O){if(O.type===xa&&e.has("OES_texture_float_linear")===!1&&(O.magFilter===hi||O.magFilter===Qm||O.magFilter===Md||O.magFilter===sl||O.minFilter===hi||O.minFilter===Qm||O.minFilter===Md||O.minFilter===sl)&&ht("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(W,n.TEXTURE_WRAP_S,Ee[O.wrapS]),n.texParameteri(W,n.TEXTURE_WRAP_T,Ee[O.wrapT]),(W===n.TEXTURE_3D||W===n.TEXTURE_2D_ARRAY)&&n.texParameteri(W,n.TEXTURE_WRAP_R,Ee[O.wrapR]),n.texParameteri(W,n.TEXTURE_MAG_FILTER,Ce[O.magFilter]),n.texParameteri(W,n.TEXTURE_MIN_FILTER,Ce[O.minFilter]),O.compareFunction&&(n.texParameteri(W,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(W,n.TEXTURE_COMPARE_FUNC,X[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(O.magFilter===Wi||O.minFilter!==Md&&O.minFilter!==sl||O.type===xa&&e.has("OES_texture_float_linear")===!1)return;if(O.anisotropy>1||i.get(O).__currentAnisotropy){const se=e.get("EXT_texture_filter_anisotropic");n.texParameterf(W,se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,a.getMaxAnisotropy())),i.get(O).__currentAnisotropy=O.anisotropy}}}function pe(W,O){let se=!1;W.__webglInit===void 0&&(W.__webglInit=!0,O.addEventListener("dispose",F));const Me=O.source;let Ue=x.get(Me);Ue===void 0&&(Ue={},x.set(Me,Ue));const Te=me(O);if(Te!==W.__cacheKey){Ue[Te]===void 0&&(Ue[Te]={texture:n.createTexture(),usedTimes:0},u.memory.textures++,se=!0),Ue[Te].usedTimes++;const ut=Ue[W.__cacheKey];ut!==void 0&&(Ue[W.__cacheKey].usedTimes--,ut.usedTimes===0&&U(O)),W.__cacheKey=Te,W.__webglTexture=Ue[Te].texture}return se}function De(W,O,se){return Math.floor(Math.floor(W/se)/O)}function Xe(W,O,se,Me){const Te=W.updateRanges;if(Te.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,O.width,O.height,se,Me,O.data);else{Te.sort((je,Qe)=>je.start-Qe.start);let ut=0;for(let je=1;je<Te.length;je++){const Qe=Te[ut],dt=Te[je],ft=Qe.start+Qe.count,st=De(dt.start,O.width,4),Yt=De(Qe.start,O.width,4);dt.start<=ft+1&&st===Yt&&De(dt.start+dt.count-1,O.width,4)===st?Qe.count=Math.max(Qe.count,dt.start+dt.count-Qe.start):(++ut,Te[ut]=dt)}Te.length=ut+1;const Ze=n.getParameter(n.UNPACK_ROW_LENGTH),xt=n.getParameter(n.UNPACK_SKIP_PIXELS),Ct=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,O.width);for(let je=0,Qe=Te.length;je<Qe;je++){const dt=Te[je],ft=Math.floor(dt.start/4),st=Math.ceil(dt.count/4),Yt=ft%O.width,te=Math.floor(ft/O.width),rt=st,Ke=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Yt),n.pixelStorei(n.UNPACK_SKIP_ROWS,te),t.texSubImage2D(n.TEXTURE_2D,0,Yt,te,rt,Ke,se,Me,O.data)}W.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Ze),n.pixelStorei(n.UNPACK_SKIP_PIXELS,xt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ct)}}function ce(W,O,se){let Me=n.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(Me=n.TEXTURE_2D_ARRAY),O.isData3DTexture&&(Me=n.TEXTURE_3D);const Ue=pe(W,O),Te=O.source;t.bindTexture(Me,W.__webglTexture,n.TEXTURE0+se);const ut=i.get(Te);if(Te.version!==ut.__version||Ue===!0){t.activeTexture(n.TEXTURE0+se);const Ze=Tn.getPrimaries(Tn.workingColorSpace),xt=O.colorSpace===Kl?null:Tn.getPrimaries(O.colorSpace),Ct=O.colorSpace===Kl||Ze===xt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,O.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,O.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ct);let je=C(O.image,!1,a.maxTextureSize);je=At(O,je);const Qe=o.convert(O.format,O.colorSpace),dt=o.convert(O.type);let ft=D(O.internalFormat,Qe,dt,O.colorSpace,O.isVideoTexture);re(Me,O);let st;const Yt=O.mipmaps,te=O.isVideoTexture!==!0,rt=ut.__version===void 0||Ue===!0,Ke=Te.dataReady,ot=z(O,je);if(O.isDepthTexture)ft=I(O.format===su,O.type),rt&&(te?t.texStorage2D(n.TEXTURE_2D,1,ft,je.width,je.height):t.texImage2D(n.TEXTURE_2D,0,ft,je.width,je.height,0,Qe,dt,null));else if(O.isDataTexture)if(Yt.length>0){te&&rt&&t.texStorage2D(n.TEXTURE_2D,ot,ft,Yt[0].width,Yt[0].height);for(let ke=0,ge=Yt.length;ke<ge;ke++)st=Yt[ke],te?Ke&&t.texSubImage2D(n.TEXTURE_2D,ke,0,0,st.width,st.height,Qe,dt,st.data):t.texImage2D(n.TEXTURE_2D,ke,ft,st.width,st.height,0,Qe,dt,st.data);O.generateMipmaps=!1}else te?(rt&&t.texStorage2D(n.TEXTURE_2D,ot,ft,je.width,je.height),Ke&&Xe(O,je,Qe,dt)):t.texImage2D(n.TEXTURE_2D,0,ft,je.width,je.height,0,Qe,dt,je.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){te&&rt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ot,ft,Yt[0].width,Yt[0].height,je.depth);for(let ke=0,ge=Yt.length;ke<ge;ke++)if(st=Yt[ke],O.format!==Zs)if(Qe!==null)if(te){if(Ke)if(O.layerUpdates.size>0){const Ve=CS(st.width,st.height,O.format,O.type);for(const St of O.layerUpdates){const kt=st.data.subarray(St*Ve/st.data.BYTES_PER_ELEMENT,(St+1)*Ve/st.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ke,0,0,St,st.width,st.height,1,Qe,kt)}O.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ke,0,0,0,st.width,st.height,je.depth,Qe,st.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ke,ft,st.width,st.height,je.depth,0,st.data,0,0);else ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else te?Ke&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ke,0,0,0,st.width,st.height,je.depth,Qe,dt,st.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ke,ft,st.width,st.height,je.depth,0,Qe,dt,st.data)}else{te&&rt&&t.texStorage2D(n.TEXTURE_2D,ot,ft,Yt[0].width,Yt[0].height);for(let ke=0,ge=Yt.length;ke<ge;ke++)st=Yt[ke],O.format!==Zs?Qe!==null?te?Ke&&t.compressedTexSubImage2D(n.TEXTURE_2D,ke,0,0,st.width,st.height,Qe,st.data):t.compressedTexImage2D(n.TEXTURE_2D,ke,ft,st.width,st.height,0,st.data):ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):te?Ke&&t.texSubImage2D(n.TEXTURE_2D,ke,0,0,st.width,st.height,Qe,dt,st.data):t.texImage2D(n.TEXTURE_2D,ke,ft,st.width,st.height,0,Qe,dt,st.data)}else if(O.isDataArrayTexture)if(te){if(rt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ot,ft,je.width,je.height,je.depth),Ke)if(O.layerUpdates.size>0){const ke=CS(je.width,je.height,O.format,O.type);for(const ge of O.layerUpdates){const Ve=je.data.subarray(ge*ke/je.data.BYTES_PER_ELEMENT,(ge+1)*ke/je.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ge,je.width,je.height,1,Qe,dt,Ve)}O.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,je.width,je.height,je.depth,Qe,dt,je.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ft,je.width,je.height,je.depth,0,Qe,dt,je.data);else if(O.isData3DTexture)te?(rt&&t.texStorage3D(n.TEXTURE_3D,ot,ft,je.width,je.height,je.depth),Ke&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,je.width,je.height,je.depth,Qe,dt,je.data)):t.texImage3D(n.TEXTURE_3D,0,ft,je.width,je.height,je.depth,0,Qe,dt,je.data);else if(O.isFramebufferTexture){if(rt)if(te)t.texStorage2D(n.TEXTURE_2D,ot,ft,je.width,je.height);else{let ke=je.width,ge=je.height;for(let Ve=0;Ve<ot;Ve++)t.texImage2D(n.TEXTURE_2D,Ve,ft,ke,ge,0,Qe,dt,null),ke>>=1,ge>>=1}}else if(Yt.length>0){if(te&&rt){const ke=Fe(Yt[0]);t.texStorage2D(n.TEXTURE_2D,ot,ft,ke.width,ke.height)}for(let ke=0,ge=Yt.length;ke<ge;ke++)st=Yt[ke],te?Ke&&t.texSubImage2D(n.TEXTURE_2D,ke,0,0,Qe,dt,st):t.texImage2D(n.TEXTURE_2D,ke,ft,Qe,dt,st);O.generateMipmaps=!1}else if(te){if(rt){const ke=Fe(je);t.texStorage2D(n.TEXTURE_2D,ot,ft,ke.width,ke.height)}Ke&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Qe,dt,je)}else t.texImage2D(n.TEXTURE_2D,0,ft,Qe,dt,je);A(O)&&M(Me),ut.__version=Te.version,O.onUpdate&&O.onUpdate(O)}W.__version=O.version}function Ae(W,O,se){if(O.image.length!==6)return;const Me=pe(W,O),Ue=O.source;t.bindTexture(n.TEXTURE_CUBE_MAP,W.__webglTexture,n.TEXTURE0+se);const Te=i.get(Ue);if(Ue.version!==Te.__version||Me===!0){t.activeTexture(n.TEXTURE0+se);const ut=Tn.getPrimaries(Tn.workingColorSpace),Ze=O.colorSpace===Kl?null:Tn.getPrimaries(O.colorSpace),xt=O.colorSpace===Kl||ut===Ze?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,O.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,O.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,xt);const Ct=O.isCompressedTexture||O.image[0].isCompressedTexture,je=O.image[0]&&O.image[0].isDataTexture,Qe=[];for(let ge=0;ge<6;ge++)!Ct&&!je?Qe[ge]=C(O.image[ge],!0,a.maxCubemapSize):Qe[ge]=je?O.image[ge].image:O.image[ge],Qe[ge]=At(O,Qe[ge]);const dt=Qe[0],ft=o.convert(O.format,O.colorSpace),st=o.convert(O.type),Yt=D(O.internalFormat,ft,st,O.colorSpace),te=O.isVideoTexture!==!0,rt=Te.__version===void 0||Me===!0,Ke=Ue.dataReady;let ot=z(O,dt);re(n.TEXTURE_CUBE_MAP,O);let ke;if(Ct){te&&rt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ot,Yt,dt.width,dt.height);for(let ge=0;ge<6;ge++){ke=Qe[ge].mipmaps;for(let Ve=0;Ve<ke.length;Ve++){const St=ke[Ve];O.format!==Zs?ft!==null?te?Ke&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Ve,0,0,St.width,St.height,ft,St.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Ve,Yt,St.width,St.height,0,St.data):ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):te?Ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Ve,0,0,St.width,St.height,ft,st,St.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Ve,Yt,St.width,St.height,0,ft,st,St.data)}}}else{if(ke=O.mipmaps,te&&rt){ke.length>0&&ot++;const ge=Fe(Qe[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ot,Yt,ge.width,ge.height)}for(let ge=0;ge<6;ge++)if(je){te?Ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,0,0,Qe[ge].width,Qe[ge].height,ft,st,Qe[ge].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,Yt,Qe[ge].width,Qe[ge].height,0,ft,st,Qe[ge].data);for(let Ve=0;Ve<ke.length;Ve++){const kt=ke[Ve].image[ge].image;te?Ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Ve+1,0,0,kt.width,kt.height,ft,st,kt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Ve+1,Yt,kt.width,kt.height,0,ft,st,kt.data)}}else{te?Ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,0,0,ft,st,Qe[ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0,Yt,ft,st,Qe[ge]);for(let Ve=0;Ve<ke.length;Ve++){const St=ke[Ve];te?Ke&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Ve+1,0,0,ft,st,St.image[ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Ve+1,Yt,ft,st,St.image[ge])}}}A(O)&&M(n.TEXTURE_CUBE_MAP),Te.__version=Ue.version,O.onUpdate&&O.onUpdate(O)}W.__version=O.version}function Be(W,O,se,Me,Ue,Te){const ut=o.convert(se.format,se.colorSpace),Ze=o.convert(se.type),xt=D(se.internalFormat,ut,Ze,se.colorSpace),Ct=i.get(O),je=i.get(se);if(je.__renderTarget=O,!Ct.__hasExternalTextures){const Qe=Math.max(1,O.width>>Te),dt=Math.max(1,O.height>>Te);Ue===n.TEXTURE_3D||Ue===n.TEXTURE_2D_ARRAY?t.texImage3D(Ue,Te,xt,Qe,dt,O.depth,0,ut,Ze,null):t.texImage2D(Ue,Te,xt,Qe,dt,0,ut,Ze,null)}t.bindFramebuffer(n.FRAMEBUFFER,W),vt(O)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Me,Ue,je.__webglTexture,0,Z(O)):(Ue===n.TEXTURE_2D||Ue>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Me,Ue,je.__webglTexture,Te),t.bindFramebuffer(n.FRAMEBUFFER,null)}function nt(W,O,se){if(n.bindRenderbuffer(n.RENDERBUFFER,W),O.depthBuffer){const Me=O.depthTexture,Ue=Me&&Me.isDepthTexture?Me.type:null,Te=I(O.stencilBuffer,Ue),ut=O.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;vt(O)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Z(O),Te,O.width,O.height):se?n.renderbufferStorageMultisample(n.RENDERBUFFER,Z(O),Te,O.width,O.height):n.renderbufferStorage(n.RENDERBUFFER,Te,O.width,O.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ut,n.RENDERBUFFER,W)}else{const Me=O.textures;for(let Ue=0;Ue<Me.length;Ue++){const Te=Me[Ue],ut=o.convert(Te.format,Te.colorSpace),Ze=o.convert(Te.type),xt=D(Te.internalFormat,ut,Ze,Te.colorSpace);vt(O)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Z(O),xt,O.width,O.height):se?n.renderbufferStorageMultisample(n.RENDERBUFFER,Z(O),xt,O.width,O.height):n.renderbufferStorage(n.RENDERBUFFER,xt,O.width,O.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function lt(W,O,se){const Me=O.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(n.FRAMEBUFFER,W),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ue=i.get(O.depthTexture);if(Ue.__renderTarget=O,(!Ue.__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),Me){if(Ue.__webglInit===void 0&&(Ue.__webglInit=!0,O.depthTexture.addEventListener("dispose",F)),Ue.__webglTexture===void 0){Ue.__webglTexture=n.createTexture(),t.bindTexture(n.TEXTURE_CUBE_MAP,Ue.__webglTexture),re(n.TEXTURE_CUBE_MAP,O.depthTexture);const Ct=o.convert(O.depthTexture.format),je=o.convert(O.depthTexture.type);let Qe;O.depthTexture.format===ul?Qe=n.DEPTH_COMPONENT24:O.depthTexture.format===su&&(Qe=n.DEPTH24_STENCIL8);for(let dt=0;dt<6;dt++)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,Qe,O.width,O.height,0,Ct,je,null)}}else he(O.depthTexture,0);const Te=Ue.__webglTexture,ut=Z(O),Ze=Me?n.TEXTURE_CUBE_MAP_POSITIVE_X+se:n.TEXTURE_2D,xt=O.depthTexture.format===su?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;if(O.depthTexture.format===ul)vt(O)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,xt,Ze,Te,0,ut):n.framebufferTexture2D(n.FRAMEBUFFER,xt,Ze,Te,0);else if(O.depthTexture.format===su)vt(O)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,xt,Ze,Te,0,ut):n.framebufferTexture2D(n.FRAMEBUFFER,xt,Ze,Te,0);else throw new Error("Unknown depthTexture format")}function qt(W){const O=i.get(W),se=W.isWebGLCubeRenderTarget===!0;if(O.__boundDepthTexture!==W.depthTexture){const Me=W.depthTexture;if(O.__depthDisposeCallback&&O.__depthDisposeCallback(),Me){const Ue=()=>{delete O.__boundDepthTexture,delete O.__depthDisposeCallback,Me.removeEventListener("dispose",Ue)};Me.addEventListener("dispose",Ue),O.__depthDisposeCallback=Ue}O.__boundDepthTexture=Me}if(W.depthTexture&&!O.__autoAllocateDepthBuffer)if(se)for(let Me=0;Me<6;Me++)lt(O.__webglFramebuffer[Me],W,Me);else{const Me=W.texture.mipmaps;Me&&Me.length>0?lt(O.__webglFramebuffer[0],W,0):lt(O.__webglFramebuffer,W,0)}else if(se){O.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)if(t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer[Me]),O.__webglDepthbuffer[Me]===void 0)O.__webglDepthbuffer[Me]=n.createRenderbuffer(),nt(O.__webglDepthbuffer[Me],W,!1);else{const Ue=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Te=O.__webglDepthbuffer[Me];n.bindRenderbuffer(n.RENDERBUFFER,Te),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ue,n.RENDERBUFFER,Te)}}else{const Me=W.texture.mipmaps;if(Me&&Me.length>0?t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer===void 0)O.__webglDepthbuffer=n.createRenderbuffer(),nt(O.__webglDepthbuffer,W,!1);else{const Ue=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Te=O.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Te),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ue,n.RENDERBUFFER,Te)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Zt(W,O,se){const Me=i.get(W);O!==void 0&&Be(Me.__webglFramebuffer,W,W.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),se!==void 0&&qt(W)}function Lt(W){const O=W.texture,se=i.get(W),Me=i.get(O);W.addEventListener("dispose",k);const Ue=W.textures,Te=W.isWebGLCubeRenderTarget===!0,ut=Ue.length>1;if(ut||(Me.__webglTexture===void 0&&(Me.__webglTexture=n.createTexture()),Me.__version=O.version,u.memory.textures++),Te){se.__webglFramebuffer=[];for(let Ze=0;Ze<6;Ze++)if(O.mipmaps&&O.mipmaps.length>0){se.__webglFramebuffer[Ze]=[];for(let xt=0;xt<O.mipmaps.length;xt++)se.__webglFramebuffer[Ze][xt]=n.createFramebuffer()}else se.__webglFramebuffer[Ze]=n.createFramebuffer()}else{if(O.mipmaps&&O.mipmaps.length>0){se.__webglFramebuffer=[];for(let Ze=0;Ze<O.mipmaps.length;Ze++)se.__webglFramebuffer[Ze]=n.createFramebuffer()}else se.__webglFramebuffer=n.createFramebuffer();if(ut)for(let Ze=0,xt=Ue.length;Ze<xt;Ze++){const Ct=i.get(Ue[Ze]);Ct.__webglTexture===void 0&&(Ct.__webglTexture=n.createTexture(),u.memory.textures++)}if(W.samples>0&&vt(W)===!1){se.__webglMultisampledFramebuffer=n.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,se.__webglMultisampledFramebuffer);for(let Ze=0;Ze<Ue.length;Ze++){const xt=Ue[Ze];se.__webglColorRenderbuffer[Ze]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,se.__webglColorRenderbuffer[Ze]);const Ct=o.convert(xt.format,xt.colorSpace),je=o.convert(xt.type),Qe=D(xt.internalFormat,Ct,je,xt.colorSpace,W.isXRRenderTarget===!0),dt=Z(W);n.renderbufferStorageMultisample(n.RENDERBUFFER,dt,Qe,W.width,W.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ze,n.RENDERBUFFER,se.__webglColorRenderbuffer[Ze])}n.bindRenderbuffer(n.RENDERBUFFER,null),W.depthBuffer&&(se.__webglDepthRenderbuffer=n.createRenderbuffer(),nt(se.__webglDepthRenderbuffer,W,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Te){t.bindTexture(n.TEXTURE_CUBE_MAP,Me.__webglTexture),re(n.TEXTURE_CUBE_MAP,O);for(let Ze=0;Ze<6;Ze++)if(O.mipmaps&&O.mipmaps.length>0)for(let xt=0;xt<O.mipmaps.length;xt++)Be(se.__webglFramebuffer[Ze][xt],W,O,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,xt);else Be(se.__webglFramebuffer[Ze],W,O,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0);A(O)&&M(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ut){for(let Ze=0,xt=Ue.length;Ze<xt;Ze++){const Ct=Ue[Ze],je=i.get(Ct);let Qe=n.TEXTURE_2D;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(Qe=W.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Qe,je.__webglTexture),re(Qe,Ct),Be(se.__webglFramebuffer,W,Ct,n.COLOR_ATTACHMENT0+Ze,Qe,0),A(Ct)&&M(Qe)}t.unbindTexture()}else{let Ze=n.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(Ze=W.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ze,Me.__webglTexture),re(Ze,O),O.mipmaps&&O.mipmaps.length>0)for(let xt=0;xt<O.mipmaps.length;xt++)Be(se.__webglFramebuffer[xt],W,O,n.COLOR_ATTACHMENT0,Ze,xt);else Be(se.__webglFramebuffer,W,O,n.COLOR_ATTACHMENT0,Ze,0);A(O)&&M(Ze),t.unbindTexture()}W.depthBuffer&&qt(W)}function Ie(W){const O=W.textures;for(let se=0,Me=O.length;se<Me;se++){const Ue=O[se];if(A(Ue)){const Te=N(W),ut=i.get(Ue).__webglTexture;t.bindTexture(Te,ut),M(Te),t.unbindTexture()}}}const We=[],Pe=[];function $e(W){if(W.samples>0){if(vt(W)===!1){const O=W.textures,se=W.width,Me=W.height;let Ue=n.COLOR_BUFFER_BIT;const Te=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ut=i.get(W),Ze=O.length>1;if(Ze)for(let Ct=0;Ct<O.length;Ct++)t.bindFramebuffer(n.FRAMEBUFFER,ut.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ct,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ut.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ct,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ut.__webglMultisampledFramebuffer);const xt=W.texture.mipmaps;xt&&xt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ut.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ut.__webglFramebuffer);for(let Ct=0;Ct<O.length;Ct++){if(W.resolveDepthBuffer&&(W.depthBuffer&&(Ue|=n.DEPTH_BUFFER_BIT),W.stencilBuffer&&W.resolveStencilBuffer&&(Ue|=n.STENCIL_BUFFER_BIT)),Ze){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ut.__webglColorRenderbuffer[Ct]);const je=i.get(O[Ct]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,je,0)}n.blitFramebuffer(0,0,se,Me,0,0,se,Me,Ue,n.NEAREST),d===!0&&(We.length=0,Pe.length=0,We.push(n.COLOR_ATTACHMENT0+Ct),W.depthBuffer&&W.resolveDepthBuffer===!1&&(We.push(Te),Pe.push(Te),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Pe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,We))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ze)for(let Ct=0;Ct<O.length;Ct++){t.bindFramebuffer(n.FRAMEBUFFER,ut.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ct,n.RENDERBUFFER,ut.__webglColorRenderbuffer[Ct]);const je=i.get(O[Ct]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ut.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ct,n.TEXTURE_2D,je,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ut.__webglMultisampledFramebuffer)}else if(W.depthBuffer&&W.resolveDepthBuffer===!1&&d){const O=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[O])}}}function Z(W){return Math.min(a.maxSamples,W.samples)}function vt(W){const O=i.get(W);return W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function at(W){const O=u.render.frame;y.get(W)!==O&&(y.set(W,O),W.update())}function At(W,O){const se=W.colorSpace,Me=W.format,Ue=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||se!==uu&&se!==Kl&&(Tn.getTransfer(se)===Hn?(Me!==Zs||Ue!==ma)&&ht("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Dt("WebGLTextures: Unsupported texture color space:",se)),O}function Fe(W){return typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement?(p.width=W.naturalWidth||W.width,p.height=W.naturalHeight||W.height):typeof VideoFrame<"u"&&W instanceof VideoFrame?(p.width=W.displayWidth,p.height=W.displayHeight):(p.width=W.width,p.height=W.height),p}this.allocateTextureUnit=ee,this.resetTextureUnits=ie,this.setTexture2D=he,this.setTexture2DArray=q,this.setTexture3D=K,this.setTextureCube=oe,this.rebindTextures=Zt,this.setupRenderTarget=Lt,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=qt,this.setupFrameBufferTexture=Be,this.useMultisampledRTT=vt,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function _R(n,e){function t(i,a=Kl){let o;const u=Tn.getTransfer(a);if(i===ma)return n.UNSIGNED_BYTE;if(i===lx)return n.UNSIGNED_SHORT_4_4_4_4;if(i===cx)return n.UNSIGNED_SHORT_5_5_5_1;if(i===LM)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===IM)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===NM)return n.BYTE;if(i===DM)return n.SHORT;if(i===Ld)return n.UNSIGNED_SHORT;if(i===ox)return n.INT;if(i===kr)return n.UNSIGNED_INT;if(i===xa)return n.FLOAT;if(i===cl)return n.HALF_FLOAT;if(i===PM)return n.ALPHA;if(i===UM)return n.RGB;if(i===Zs)return n.RGBA;if(i===ul)return n.DEPTH_COMPONENT;if(i===su)return n.DEPTH_STENCIL;if(i===ux)return n.RED;if(i===B0)return n.RED_INTEGER;if(i===Pf)return n.RG;if(i===fx)return n.RG_INTEGER;if(i===hx)return n.RGBA_INTEGER;if(i===Jm||i===$m||i===e0||i===t0)if(u===Hn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(i===Jm)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===$m)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===e0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===t0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(i===Jm)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===$m)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===e0)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===t0)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===u1||i===f1||i===h1||i===d1)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(i===u1)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===f1)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===h1)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===d1)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===p1||i===m1||i===g1||i===v1||i===y1||i===x1||i===b1)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(i===p1||i===m1)return u===Hn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(i===g1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(i===v1)return o.COMPRESSED_R11_EAC;if(i===y1)return o.COMPRESSED_SIGNED_R11_EAC;if(i===x1)return o.COMPRESSED_RG11_EAC;if(i===b1)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(i===_1||i===S1||i===M1||i===w1||i===T1||i===E1||i===A1||i===C1||i===R1||i===N1||i===D1||i===L1||i===I1||i===P1)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(i===_1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===S1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===M1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===w1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===T1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===E1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===A1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===C1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===R1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===N1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===D1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===L1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===I1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===P1)return u===Hn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===U1||i===O1||i===z1)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(i===U1)return u===Hn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===O1)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===z1)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===B1||i===F1||i===k1||i===V1)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(i===B1)return o.COMPRESSED_RED_RGTC1_EXT;if(i===F1)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===k1)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===V1)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Id?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const BF=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,FF=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class kF{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new XM(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new ur({vertexShader:BF,fragmentShader:FF,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ns(new Zd(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class VF extends fl{constructor(e,t){super();const i=this;let a=null,o=1,u=null,h="local-floor",d=1,p=null,y=null,v=null,x=null,S=null,T=null;const C=typeof XRWebGLBinding<"u",A=new kF,M={},N=t.getContextAttributes();let D=null,I=null;const z=[],F=[],k=new Ge;let j=null;const U=new xs;U.viewport=new $n;const B=new xs;B.viewport=new $n;const Y=[U,B],ie=new cR;let ee=null,me=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let Ae=z[ce];return Ae===void 0&&(Ae=new Vy,z[ce]=Ae),Ae.getTargetRaySpace()},this.getControllerGrip=function(ce){let Ae=z[ce];return Ae===void 0&&(Ae=new Vy,z[ce]=Ae),Ae.getGripSpace()},this.getHand=function(ce){let Ae=z[ce];return Ae===void 0&&(Ae=new Vy,z[ce]=Ae),Ae.getHandSpace()};function he(ce){const Ae=F.indexOf(ce.inputSource);if(Ae===-1)return;const Be=z[Ae];Be!==void 0&&(Be.update(ce.inputSource,ce.frame,p||u),Be.dispatchEvent({type:ce.type,data:ce.inputSource}))}function q(){a.removeEventListener("select",he),a.removeEventListener("selectstart",he),a.removeEventListener("selectend",he),a.removeEventListener("squeeze",he),a.removeEventListener("squeezestart",he),a.removeEventListener("squeezeend",he),a.removeEventListener("end",q),a.removeEventListener("inputsourceschange",K);for(let ce=0;ce<z.length;ce++){const Ae=F[ce];Ae!==null&&(F[ce]=null,z[ce].disconnect(Ae))}ee=null,me=null,A.reset();for(const ce in M)delete M[ce];e.setRenderTarget(D),S=null,x=null,v=null,a=null,I=null,Xe.stop(),i.isPresenting=!1,e.setPixelRatio(j),e.setSize(k.width,k.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){o=ce,i.isPresenting===!0&&ht("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){h=ce,i.isPresenting===!0&&ht("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||u},this.setReferenceSpace=function(ce){p=ce},this.getBaseLayer=function(){return x!==null?x:S},this.getBinding=function(){return v===null&&C&&(v=new XRWebGLBinding(a,t)),v},this.getFrame=function(){return T},this.getSession=function(){return a},this.setSession=async function(ce){if(a=ce,a!==null){if(D=e.getRenderTarget(),a.addEventListener("select",he),a.addEventListener("selectstart",he),a.addEventListener("selectend",he),a.addEventListener("squeeze",he),a.addEventListener("squeezestart",he),a.addEventListener("squeezeend",he),a.addEventListener("end",q),a.addEventListener("inputsourceschange",K),N.xrCompatible!==!0&&await t.makeXRCompatible(),j=e.getPixelRatio(),e.getSize(k),C&&"createProjectionLayer"in XRWebGLBinding.prototype){let Be=null,nt=null,lt=null;N.depth&&(lt=N.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Be=N.stencil?su:ul,nt=N.stencil?Id:kr);const qt={colorFormat:t.RGBA8,depthFormat:lt,scaleFactor:o};v=this.getBinding(),x=v.createProjectionLayer(qt),a.updateRenderState({layers:[x]}),e.setPixelRatio(1),e.setSize(x.textureWidth,x.textureHeight,!1),I=new lr(x.textureWidth,x.textureHeight,{format:Zs,type:ma,depthTexture:new kd(x.textureWidth,x.textureHeight,nt,void 0,void 0,void 0,void 0,void 0,void 0,Be),stencilBuffer:N.stencil,colorSpace:e.outputColorSpace,samples:N.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}else{const Be={antialias:N.antialias,alpha:!0,depth:N.depth,stencil:N.stencil,framebufferScaleFactor:o};S=new XRWebGLLayer(a,t,Be),a.updateRenderState({baseLayer:S}),e.setPixelRatio(1),e.setSize(S.framebufferWidth,S.framebufferHeight,!1),I=new lr(S.framebufferWidth,S.framebufferHeight,{format:Zs,type:ma,colorSpace:e.outputColorSpace,stencilBuffer:N.stencil,resolveDepthBuffer:S.ignoreDepthValues===!1,resolveStencilBuffer:S.ignoreDepthValues===!1})}I.isXRRenderTarget=!0,this.setFoveation(d),p=null,u=await a.requestReferenceSpace(h),Xe.setContext(a),Xe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function K(ce){for(let Ae=0;Ae<ce.removed.length;Ae++){const Be=ce.removed[Ae],nt=F.indexOf(Be);nt>=0&&(F[nt]=null,z[nt].disconnect(Be))}for(let Ae=0;Ae<ce.added.length;Ae++){const Be=ce.added[Ae];let nt=F.indexOf(Be);if(nt===-1){for(let qt=0;qt<z.length;qt++)if(qt>=F.length){F.push(Be),nt=qt;break}else if(F[qt]===null){F[qt]=Be,nt=qt;break}if(nt===-1)break}const lt=z[nt];lt&&lt.connect(Be)}}const oe=new Q,Ee=new Q;function Ce(ce,Ae,Be){oe.setFromMatrixPosition(Ae.matrixWorld),Ee.setFromMatrixPosition(Be.matrixWorld);const nt=oe.distanceTo(Ee),lt=Ae.projectionMatrix.elements,qt=Be.projectionMatrix.elements,Zt=lt[14]/(lt[10]-1),Lt=lt[14]/(lt[10]+1),Ie=(lt[9]+1)/lt[5],We=(lt[9]-1)/lt[5],Pe=(lt[8]-1)/lt[0],$e=(qt[8]+1)/qt[0],Z=Zt*Pe,vt=Zt*$e,at=nt/(-Pe+$e),At=at*-Pe;if(Ae.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(At),ce.translateZ(at),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),lt[10]===-1)ce.projectionMatrix.copy(Ae.projectionMatrix),ce.projectionMatrixInverse.copy(Ae.projectionMatrixInverse);else{const Fe=Zt+at,W=Lt+at,O=Z-At,se=vt+(nt-At),Me=Ie*Lt/W*Fe,Ue=We*Lt/W*Fe;ce.projectionMatrix.makePerspective(O,se,Me,Ue,Fe,W),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function X(ce,Ae){Ae===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(Ae.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(a===null)return;let Ae=ce.near,Be=ce.far;A.texture!==null&&(A.depthNear>0&&(Ae=A.depthNear),A.depthFar>0&&(Be=A.depthFar)),ie.near=B.near=U.near=Ae,ie.far=B.far=U.far=Be,(ee!==ie.near||me!==ie.far)&&(a.updateRenderState({depthNear:ie.near,depthFar:ie.far}),ee=ie.near,me=ie.far),ie.layers.mask=ce.layers.mask|6,U.layers.mask=ie.layers.mask&3,B.layers.mask=ie.layers.mask&5;const nt=ce.parent,lt=ie.cameras;X(ie,nt);for(let qt=0;qt<lt.length;qt++)X(lt[qt],nt);lt.length===2?Ce(ie,U,B):ie.projectionMatrix.copy(U.projectionMatrix),re(ce,ie,nt)};function re(ce,Ae,Be){Be===null?ce.matrix.copy(Ae.matrixWorld):(ce.matrix.copy(Be.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(Ae.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(Ae.projectionMatrix),ce.projectionMatrixInverse.copy(Ae.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=Od*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return ie},this.getFoveation=function(){if(!(x===null&&S===null))return d},this.setFoveation=function(ce){d=ce,x!==null&&(x.fixedFoveation=ce),S!==null&&S.fixedFoveation!==void 0&&(S.fixedFoveation=ce)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(ie)},this.getCameraTexture=function(ce){return M[ce]};let pe=null;function De(ce,Ae){if(y=Ae.getViewerPose(p||u),T=Ae,y!==null){const Be=y.views;S!==null&&(e.setRenderTargetFramebuffer(I,S.framebuffer),e.setRenderTarget(I));let nt=!1;Be.length!==ie.cameras.length&&(ie.cameras.length=0,nt=!0);for(let Lt=0;Lt<Be.length;Lt++){const Ie=Be[Lt];let We=null;if(S!==null)We=S.getViewport(Ie);else{const $e=v.getViewSubImage(x,Ie);We=$e.viewport,Lt===0&&(e.setRenderTargetTextures(I,$e.colorTexture,$e.depthStencilTexture),e.setRenderTarget(I))}let Pe=Y[Lt];Pe===void 0&&(Pe=new xs,Pe.layers.enable(Lt),Pe.viewport=new $n,Y[Lt]=Pe),Pe.matrix.fromArray(Ie.transform.matrix),Pe.matrix.decompose(Pe.position,Pe.quaternion,Pe.scale),Pe.projectionMatrix.fromArray(Ie.projectionMatrix),Pe.projectionMatrixInverse.copy(Pe.projectionMatrix).invert(),Pe.viewport.set(We.x,We.y,We.width,We.height),Lt===0&&(ie.matrix.copy(Pe.matrix),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale)),nt===!0&&ie.cameras.push(Pe)}const lt=a.enabledFeatures;if(lt&&lt.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&C){v=i.getBinding();const Lt=v.getDepthInformation(Be[0]);Lt&&Lt.isValid&&Lt.texture&&A.init(Lt,a.renderState)}if(lt&&lt.includes("camera-access")&&C){e.state.unbindTexture(),v=i.getBinding();for(let Lt=0;Lt<Be.length;Lt++){const Ie=Be[Lt].camera;if(Ie){let We=M[Ie];We||(We=new XM,M[Ie]=We);const Pe=v.getCameraImage(Ie);We.sourceTexture=Pe}}}}for(let Be=0;Be<z.length;Be++){const nt=F[Be],lt=z[Be];nt!==null&&lt!==void 0&&lt.update(nt,Ae,p||u)}pe&&pe(ce,Ae),Ae.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ae}),T=null}const Xe=new gR;Xe.setAnimationLoop(De),this.setAnimationLoop=function(ce){pe=ce},this.dispose=function(){}}}const yf=new cr,HF=new Xt;function GF(n,e){function t(A,M){A.matrixAutoUpdate===!0&&A.updateMatrix(),M.value.copy(A.matrix)}function i(A,M){M.color.getRGB(A.fogColor.value,v5(n)),M.isFog?(A.fogNear.value=M.near,A.fogFar.value=M.far):M.isFogExp2&&(A.fogDensity.value=M.density)}function a(A,M,N,D,I){M.isMeshBasicMaterial||M.isMeshLambertMaterial?o(A,M):M.isMeshToonMaterial?(o(A,M),v(A,M)):M.isMeshPhongMaterial?(o(A,M),y(A,M)):M.isMeshStandardMaterial?(o(A,M),x(A,M),M.isMeshPhysicalMaterial&&S(A,M,I)):M.isMeshMatcapMaterial?(o(A,M),T(A,M)):M.isMeshDepthMaterial?o(A,M):M.isMeshDistanceMaterial?(o(A,M),C(A,M)):M.isMeshNormalMaterial?o(A,M):M.isLineBasicMaterial?(u(A,M),M.isLineDashedMaterial&&h(A,M)):M.isPointsMaterial?d(A,M,N,D):M.isSpriteMaterial?p(A,M):M.isShadowMaterial?(A.color.value.copy(M.color),A.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function o(A,M){A.opacity.value=M.opacity,M.color&&A.diffuse.value.copy(M.color),M.emissive&&A.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(A.map.value=M.map,t(M.map,A.mapTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.bumpMap&&(A.bumpMap.value=M.bumpMap,t(M.bumpMap,A.bumpMapTransform),A.bumpScale.value=M.bumpScale,M.side===ba&&(A.bumpScale.value*=-1)),M.normalMap&&(A.normalMap.value=M.normalMap,t(M.normalMap,A.normalMapTransform),A.normalScale.value.copy(M.normalScale),M.side===ba&&A.normalScale.value.negate()),M.displacementMap&&(A.displacementMap.value=M.displacementMap,t(M.displacementMap,A.displacementMapTransform),A.displacementScale.value=M.displacementScale,A.displacementBias.value=M.displacementBias),M.emissiveMap&&(A.emissiveMap.value=M.emissiveMap,t(M.emissiveMap,A.emissiveMapTransform)),M.specularMap&&(A.specularMap.value=M.specularMap,t(M.specularMap,A.specularMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest);const N=e.get(M),D=N.envMap,I=N.envMapRotation;D&&(A.envMap.value=D,yf.copy(I),yf.x*=-1,yf.y*=-1,yf.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(yf.y*=-1,yf.z*=-1),A.envMapRotation.value.setFromMatrix4(HF.makeRotationFromEuler(yf)),A.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=M.reflectivity,A.ior.value=M.ior,A.refractionRatio.value=M.refractionRatio),M.lightMap&&(A.lightMap.value=M.lightMap,A.lightMapIntensity.value=M.lightMapIntensity,t(M.lightMap,A.lightMapTransform)),M.aoMap&&(A.aoMap.value=M.aoMap,A.aoMapIntensity.value=M.aoMapIntensity,t(M.aoMap,A.aoMapTransform))}function u(A,M){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,M.map&&(A.map.value=M.map,t(M.map,A.mapTransform))}function h(A,M){A.dashSize.value=M.dashSize,A.totalSize.value=M.dashSize+M.gapSize,A.scale.value=M.scale}function d(A,M,N,D){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,A.size.value=M.size*N,A.scale.value=D*.5,M.map&&(A.map.value=M.map,t(M.map,A.uvTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest)}function p(A,M){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,A.rotation.value=M.rotation,M.map&&(A.map.value=M.map,t(M.map,A.mapTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest)}function y(A,M){A.specular.value.copy(M.specular),A.shininess.value=Math.max(M.shininess,1e-4)}function v(A,M){M.gradientMap&&(A.gradientMap.value=M.gradientMap)}function x(A,M){A.metalness.value=M.metalness,M.metalnessMap&&(A.metalnessMap.value=M.metalnessMap,t(M.metalnessMap,A.metalnessMapTransform)),A.roughness.value=M.roughness,M.roughnessMap&&(A.roughnessMap.value=M.roughnessMap,t(M.roughnessMap,A.roughnessMapTransform)),M.envMap&&(A.envMapIntensity.value=M.envMapIntensity)}function S(A,M,N){A.ior.value=M.ior,M.sheen>0&&(A.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),A.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(A.sheenColorMap.value=M.sheenColorMap,t(M.sheenColorMap,A.sheenColorMapTransform)),M.sheenRoughnessMap&&(A.sheenRoughnessMap.value=M.sheenRoughnessMap,t(M.sheenRoughnessMap,A.sheenRoughnessMapTransform))),M.clearcoat>0&&(A.clearcoat.value=M.clearcoat,A.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(A.clearcoatMap.value=M.clearcoatMap,t(M.clearcoatMap,A.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,t(M.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(A.clearcoatNormalMap.value=M.clearcoatNormalMap,t(M.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===ba&&A.clearcoatNormalScale.value.negate())),M.dispersion>0&&(A.dispersion.value=M.dispersion),M.iridescence>0&&(A.iridescence.value=M.iridescence,A.iridescenceIOR.value=M.iridescenceIOR,A.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(A.iridescenceMap.value=M.iridescenceMap,t(M.iridescenceMap,A.iridescenceMapTransform)),M.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=M.iridescenceThicknessMap,t(M.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),M.transmission>0&&(A.transmission.value=M.transmission,A.transmissionSamplerMap.value=N.texture,A.transmissionSamplerSize.value.set(N.width,N.height),M.transmissionMap&&(A.transmissionMap.value=M.transmissionMap,t(M.transmissionMap,A.transmissionMapTransform)),A.thickness.value=M.thickness,M.thicknessMap&&(A.thicknessMap.value=M.thicknessMap,t(M.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=M.attenuationDistance,A.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(A.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(A.anisotropyMap.value=M.anisotropyMap,t(M.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=M.specularIntensity,A.specularColor.value.copy(M.specularColor),M.specularColorMap&&(A.specularColorMap.value=M.specularColorMap,t(M.specularColorMap,A.specularColorMapTransform)),M.specularIntensityMap&&(A.specularIntensityMap.value=M.specularIntensityMap,t(M.specularIntensityMap,A.specularIntensityMapTransform))}function T(A,M){M.matcap&&(A.matcap.value=M.matcap)}function C(A,M){const N=e.get(M).light;A.referencePosition.value.setFromMatrixPosition(N.matrixWorld),A.nearDistance.value=N.shadow.camera.near,A.farDistance.value=N.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:a}}function jF(n,e,t,i){let a={},o={},u=[];const h=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function d(N,D){const I=D.program;i.uniformBlockBinding(N,I)}function p(N,D){let I=a[N.id];I===void 0&&(T(N),I=y(N),a[N.id]=I,N.addEventListener("dispose",A));const z=D.program;i.updateUBOMapping(N,z);const F=e.render.frame;o[N.id]!==F&&(x(N),o[N.id]=F)}function y(N){const D=v();N.__bindingPointIndex=D;const I=n.createBuffer(),z=N.__size,F=N.usage;return n.bindBuffer(n.UNIFORM_BUFFER,I),n.bufferData(n.UNIFORM_BUFFER,z,F),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,I),I}function v(){for(let N=0;N<h;N++)if(u.indexOf(N)===-1)return u.push(N),N;return Dt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(N){const D=a[N.id],I=N.uniforms,z=N.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let F=0,k=I.length;F<k;F++){const j=Array.isArray(I[F])?I[F]:[I[F]];for(let U=0,B=j.length;U<B;U++){const Y=j[U];if(S(Y,F,U,z)===!0){const ie=Y.__offset,ee=Array.isArray(Y.value)?Y.value:[Y.value];let me=0;for(let he=0;he<ee.length;he++){const q=ee[he],K=C(q);typeof q=="number"||typeof q=="boolean"?(Y.__data[0]=q,n.bufferSubData(n.UNIFORM_BUFFER,ie+me,Y.__data)):q.isMatrix3?(Y.__data[0]=q.elements[0],Y.__data[1]=q.elements[1],Y.__data[2]=q.elements[2],Y.__data[3]=0,Y.__data[4]=q.elements[3],Y.__data[5]=q.elements[4],Y.__data[6]=q.elements[5],Y.__data[7]=0,Y.__data[8]=q.elements[6],Y.__data[9]=q.elements[7],Y.__data[10]=q.elements[8],Y.__data[11]=0):(q.toArray(Y.__data,me),me+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ie,Y.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function S(N,D,I,z){const F=N.value,k=D+"_"+I;if(z[k]===void 0)return typeof F=="number"||typeof F=="boolean"?z[k]=F:z[k]=F.clone(),!0;{const j=z[k];if(typeof F=="number"||typeof F=="boolean"){if(j!==F)return z[k]=F,!0}else if(j.equals(F)===!1)return j.copy(F),!0}return!1}function T(N){const D=N.uniforms;let I=0;const z=16;for(let k=0,j=D.length;k<j;k++){const U=Array.isArray(D[k])?D[k]:[D[k]];for(let B=0,Y=U.length;B<Y;B++){const ie=U[B],ee=Array.isArray(ie.value)?ie.value:[ie.value];for(let me=0,he=ee.length;me<he;me++){const q=ee[me],K=C(q),oe=I%z,Ee=oe%K.boundary,Ce=oe+Ee;I+=Ee,Ce!==0&&z-Ce<K.storage&&(I+=z-Ce),ie.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),ie.__offset=I,I+=K.storage}}}const F=I%z;return F>0&&(I+=z-F),N.__size=I,N.__cache={},this}function C(N){const D={boundary:0,storage:0};return typeof N=="number"||typeof N=="boolean"?(D.boundary=4,D.storage=4):N.isVector2?(D.boundary=8,D.storage=8):N.isVector3||N.isColor?(D.boundary=16,D.storage=12):N.isVector4?(D.boundary=16,D.storage=16):N.isMatrix3?(D.boundary=48,D.storage=48):N.isMatrix4?(D.boundary=64,D.storage=64):N.isTexture?ht("WebGLRenderer: Texture samplers can not be part of an uniforms group."):ht("WebGLRenderer: Unsupported uniform value type.",N),D}function A(N){const D=N.target;D.removeEventListener("dispose",A);const I=u.indexOf(D.__bindingPointIndex);u.splice(I,1),n.deleteBuffer(a[D.id]),delete a[D.id],delete o[D.id]}function M(){for(const N in a)n.deleteBuffer(a[N]);u=[],a={},o={}}return{bind:d,update:p,dispose:M}}const WF=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let tl=null;function XF(){return tl===null&&(tl=new yo(WF,16,16,Pf,cl),tl.name="DFG_LUT",tl.minFilter=hi,tl.magFilter=hi,tl.wrapS=Xa,tl.wrapT=Xa,tl.generateMipmaps=!1,tl.needsUpdate=!0),tl}class SR{constructor(e={}){const{canvas:t=d5(),context:i=null,depth:a=!0,stencil:o=!1,alpha:u=!1,antialias:h=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:y="default",failIfMajorPerformanceCaveat:v=!1,reversedDepthBuffer:x=!1,outputBufferType:S=ma}=e;this.isWebGLRenderer=!0;let T;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");T=i.getContextAttributes().alpha}else T=u;const C=S,A=new Set([hx,fx,B0]),M=new Set([ma,kr,Ld,Id,lx,cx]),N=new Uint32Array(4),D=new Int32Array(4);let I=null,z=null;const F=[],k=[];let j=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Fr,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const U=this;let B=!1;this._outputColorSpace=Ys;let Y=0,ie=0,ee=null,me=-1,he=null;const q=new $n,K=new $n;let oe=null;const Ee=new yt(0);let Ce=0,X=t.width,re=t.height,pe=1,De=null,Xe=null;const ce=new $n(0,0,X,re),Ae=new $n(0,0,X,re);let Be=!1;const nt=new Yd;let lt=!1,qt=!1;const Zt=new Xt,Lt=new Q,Ie=new $n,We={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pe=!1;function $e(){return ee===null?pe:1}let Z=i;function vt(H,ae){return t.getContext(H,ae)}try{const H={alpha:!0,depth:a,stencil:o,antialias:h,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:y,failIfMajorPerformanceCaveat:v};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${O0}`),t.addEventListener("webglcontextlost",St,!1),t.addEventListener("webglcontextrestored",kt,!1),t.addEventListener("webglcontextcreationerror",cn,!1),Z===null){const ae="webgl2";if(Z=vt(ae,H),Z===null)throw vt(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw Dt("WebGLRenderer: "+H.message),H}let at,At,Fe,W,O,se,Me,Ue,Te,ut,Ze,xt,Ct,je,Qe,dt,ft,st,Yt,te,rt,Ke,ot,ke;function ge(){at=new qB(Z),at.init(),Ke=new _R(Z,at),At=new BB(Z,at,e,Ke),Fe=new OF(Z,at),At.reversedDepthBuffer&&x&&Fe.buffers.depth.setReversed(!0),W=new KB(Z),O=new _F,se=new zF(Z,at,Fe,O,At,Ke,W),Me=new kB(U),Ue=new XB(U),Te=new ez(Z),ot=new OB(Z,Te),ut=new YB(Z,Te,W,ot),Ze=new JB(Z,ut,Te,W),Yt=new QB(Z,At,se),dt=new FB(O),xt=new bF(U,Me,Ue,at,At,ot,dt),Ct=new GF(U,O),je=new MF,Qe=new RF(at),st=new UB(U,Me,Ue,Fe,Ze,T,d),ft=new PF(U,Ze,At),ke=new jF(Z,W,At,Fe),te=new zB(Z,at,W),rt=new ZB(Z,at,W),W.programs=xt.programs,U.capabilities=At,U.extensions=at,U.properties=O,U.renderLists=je,U.shadowMap=ft,U.state=Fe,U.info=W}ge(),C!==ma&&(j=new e9(C,t.width,t.height,a,o));const Ve=new VF(U,Z);this.xr=Ve,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const H=at.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=at.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return pe},this.setPixelRatio=function(H){H!==void 0&&(pe=H,this.setSize(X,re,!1))},this.getSize=function(H){return H.set(X,re)},this.setSize=function(H,ae,Se=!0){if(Ve.isPresenting){ht("WebGLRenderer: Can't change size while VR device is presenting.");return}X=H,re=ae,t.width=Math.floor(H*pe),t.height=Math.floor(ae*pe),Se===!0&&(t.style.width=H+"px",t.style.height=ae+"px"),j!==null&&j.setSize(t.width,t.height),this.setViewport(0,0,H,ae)},this.getDrawingBufferSize=function(H){return H.set(X*pe,re*pe).floor()},this.setDrawingBufferSize=function(H,ae,Se){X=H,re=ae,pe=Se,t.width=Math.floor(H*Se),t.height=Math.floor(ae*Se),this.setViewport(0,0,H,ae)},this.setEffects=function(H){if(C===ma){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(H){for(let ae=0;ae<H.length;ae++)if(H[ae].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}j.setEffects(H||[])},this.getCurrentViewport=function(H){return H.copy(q)},this.getViewport=function(H){return H.copy(ce)},this.setViewport=function(H,ae,Se,xe){H.isVector4?ce.set(H.x,H.y,H.z,H.w):ce.set(H,ae,Se,xe),Fe.viewport(q.copy(ce).multiplyScalar(pe).round())},this.getScissor=function(H){return H.copy(Ae)},this.setScissor=function(H,ae,Se,xe){H.isVector4?Ae.set(H.x,H.y,H.z,H.w):Ae.set(H,ae,Se,xe),Fe.scissor(K.copy(Ae).multiplyScalar(pe).round())},this.getScissorTest=function(){return Be},this.setScissorTest=function(H){Fe.setScissorTest(Be=H)},this.setOpaqueSort=function(H){De=H},this.setTransparentSort=function(H){Xe=H},this.getClearColor=function(H){return H.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor(...arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha(...arguments)},this.clear=function(H=!0,ae=!0,Se=!0){let xe=0;if(H){let ue=!1;if(ee!==null){const et=ee.texture.format;ue=A.has(et)}if(ue){const et=ee.texture.type,mt=M.has(et),Ye=st.getClearColor(),bt=st.getClearAlpha(),Mt=Ye.r,It=Ye.g,Tt=Ye.b;mt?(N[0]=Mt,N[1]=It,N[2]=Tt,N[3]=bt,Z.clearBufferuiv(Z.COLOR,0,N)):(D[0]=Mt,D[1]=It,D[2]=Tt,D[3]=bt,Z.clearBufferiv(Z.COLOR,0,D))}else xe|=Z.COLOR_BUFFER_BIT}ae&&(xe|=Z.DEPTH_BUFFER_BIT),Se&&(xe|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",St,!1),t.removeEventListener("webglcontextrestored",kt,!1),t.removeEventListener("webglcontextcreationerror",cn,!1),st.dispose(),je.dispose(),Qe.dispose(),O.dispose(),Me.dispose(),Ue.dispose(),Ze.dispose(),ot.dispose(),ke.dispose(),xt.dispose(),Ve.dispose(),Ve.removeEventListener("sessionstart",is),Ve.removeEventListener("sessionend",So),hs.stop()};function St(H){H.preventDefault(),_0("WebGLRenderer: Context Lost."),B=!0}function kt(){_0("WebGLRenderer: Context Restored."),B=!1;const H=W.autoReset,ae=ft.enabled,Se=ft.autoUpdate,xe=ft.needsUpdate,ue=ft.type;ge(),W.autoReset=H,ft.enabled=ae,ft.autoUpdate=Se,ft.needsUpdate=xe,ft.type=ue}function cn(H){Dt("WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function xn(H){const ae=H.target;ae.removeEventListener("dispose",xn),Gn(ae)}function Gn(H){Js(H),O.remove(H)}function Js(H){const ae=O.get(H).programs;ae!==void 0&&(ae.forEach(function(Se){xt.releaseProgram(Se)}),H.isShaderMaterial&&xt.releaseShaderCache(H))}this.renderBufferDirect=function(H,ae,Se,xe,ue,et){ae===null&&(ae=We);const mt=ue.isMesh&&ue.matrixWorld.determinant()<0,Ye=Qa(H,ae,Se,xe,ue);Fe.setMaterial(xe,mt);let bt=Se.index,Mt=1;if(xe.wireframe===!0){if(bt=ut.getWireframeAttribute(Se),bt===void 0)return;Mt=2}const It=Se.drawRange,Tt=Se.attributes.position;let Bt=It.start*Mt,En=(It.start+It.count)*Mt;et!==null&&(Bt=Math.max(Bt,et.start*Mt),En=Math.min(En,(et.start+et.count)*Mt)),bt!==null?(Bt=Math.max(Bt,0),En=Math.min(En,bt.count)):Tt!=null&&(Bt=Math.max(Bt,0),En=Math.min(En,Tt.count));const jn=En-Bt;if(jn<0||jn===1/0)return;ot.setup(ue,xe,Ye,Se,bt);let Fn,Kt=te;if(bt!==null&&(Fn=Te.get(bt),Kt=rt,Kt.setIndex(Fn)),ue.isMesh)xe.wireframe===!0?(Fe.setLineWidth(xe.wireframeLinewidth*$e()),Kt.setMode(Z.LINES)):Kt.setMode(Z.TRIANGLES);else if(ue.isLine){let ct=xe.linewidth;ct===void 0&&(ct=1),Fe.setLineWidth(ct*$e()),ue.isLineSegments?Kt.setMode(Z.LINES):ue.isLineLoop?Kt.setMode(Z.LINE_LOOP):Kt.setMode(Z.LINE_STRIP)}else ue.isPoints?Kt.setMode(Z.POINTS):ue.isSprite&&Kt.setMode(Z.TRIANGLES);if(ue.isBatchedMesh)if(ue._multiDrawInstances!==null)Ud("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Kt.renderMultiDrawInstances(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount,ue._multiDrawInstances);else if(at.get("WEBGL_multi_draw"))Kt.renderMultiDraw(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount);else{const ct=ue._multiDrawStarts,Sn=ue._multiDrawCounts,Vt=ue._multiDrawCount,Ai=bt?Te.get(bt).bytesPerElement:1,Ja=O.get(xe).currentProgram.getUniforms();for(let Qn=0;Qn<Vt;Qn++)Ja.setValue(Z,"_gl_DrawID",Qn),Kt.render(ct[Qn]/Ai,Sn[Qn])}else if(ue.isInstancedMesh)Kt.renderInstances(Bt,jn,ue.count);else if(Se.isInstancedBufferGeometry){const ct=Se._maxInstanceCount!==void 0?Se._maxInstanceCount:1/0,Sn=Math.min(Se.instanceCount,ct);Kt.renderInstances(Bt,jn,Sn)}else Kt.render(Bt,jn)};function Ei(H,ae,Se){H.transparent===!0&&H.side===il&&H.forceSinglePass===!1?(H.side=ba,H.needsUpdate=!0,na(H,ae,Se),H.side=tc,H.needsUpdate=!0,na(H,ae,Se),H.side=il):na(H,ae,Se)}this.compile=function(H,ae,Se=null){Se===null&&(Se=H),z=Qe.get(Se),z.init(ae),k.push(z),Se.traverseVisible(function(ue){ue.isLight&&ue.layers.test(ae.layers)&&(z.pushLight(ue),ue.castShadow&&z.pushShadow(ue))}),H!==Se&&H.traverseVisible(function(ue){ue.isLight&&ue.layers.test(ae.layers)&&(z.pushLight(ue),ue.castShadow&&z.pushShadow(ue))}),z.setupLights();const xe=new Set;return H.traverse(function(ue){if(!(ue.isMesh||ue.isPoints||ue.isLine||ue.isSprite))return;const et=ue.material;if(et)if(Array.isArray(et))for(let mt=0;mt<et.length;mt++){const Ye=et[mt];Ei(Ye,Se,ue),xe.add(Ye)}else Ei(et,Se,ue),xe.add(et)}),z=k.pop(),xe},this.compileAsync=function(H,ae,Se=null){const xe=this.compile(H,ae,Se);return new Promise(ue=>{function et(){if(xe.forEach(function(mt){O.get(mt).currentProgram.isReady()&&xe.delete(mt)}),xe.size===0){ue(H);return}setTimeout(et,10)}at.get("KHR_parallel_shader_compile")!==null?et():setTimeout(et,10)})};let Oi=null;function Ka(H){Oi&&Oi(H)}function is(){hs.stop()}function So(){hs.start()}const hs=new gR;hs.setAnimationLoop(Ka),typeof self<"u"&&hs.setContext(self),this.setAnimationLoop=function(H){Oi=H,Ve.setAnimationLoop(H),H===null?hs.stop():hs.start()},Ve.addEventListener("sessionstart",is),Ve.addEventListener("sessionend",So),this.render=function(H,ae){if(ae!==void 0&&ae.isCamera!==!0){Dt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(B===!0)return;const Se=Ve.enabled===!0&&Ve.isPresenting===!0,xe=j!==null&&(ee===null||Se)&&j.begin(U,ee);if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ve.enabled===!0&&Ve.isPresenting===!0&&(j===null||j.isCompositing()===!1)&&(Ve.cameraAutoUpdate===!0&&Ve.updateCamera(ae),ae=Ve.getCamera()),H.isScene===!0&&H.onBeforeRender(U,H,ae,ee),z=Qe.get(H,k.length),z.init(ae),k.push(z),Zt.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),nt.setFromProjectionMatrix(Zt,rr,ae.reversedDepth),qt=this.localClippingEnabled,lt=dt.init(this.clippingPlanes,qt),I=je.get(H,F.length),I.init(),F.push(I),Ve.enabled===!0&&Ve.isPresenting===!0){const mt=U.xr.getDepthSensingMesh();mt!==null&&$s(mt,ae,-1/0,U.sortObjects)}$s(H,ae,0,U.sortObjects),I.finish(),U.sortObjects===!0&&I.sort(De,Xe),Pe=Ve.enabled===!1||Ve.isPresenting===!1||Ve.hasDepthSensing()===!1,Pe&&st.addToRenderList(I,H),this.info.render.frame++,lt===!0&&dt.beginShadows();const ue=z.state.shadowsArray;if(ft.render(ue,H,ae),lt===!0&&dt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(xe&&j.hasRenderPass())===!1){const mt=I.opaque,Ye=I.transmissive;if(z.setupLights(),ae.isArrayCamera){const bt=ae.cameras;if(Ye.length>0)for(let Mt=0,It=bt.length;Mt<It;Mt++){const Tt=bt[Mt];zi(mt,Ye,H,Tt)}Pe&&st.render(H);for(let Mt=0,It=bt.length;Mt<It;Mt++){const Tt=bt[Mt];si(I,H,Tt,Tt.viewport)}}else Ye.length>0&&zi(mt,Ye,H,ae),Pe&&st.render(H),si(I,H,ae)}ee!==null&&ie===0&&(se.updateMultisampleRenderTarget(ee),se.updateRenderTargetMipmap(ee)),xe&&j.end(U),H.isScene===!0&&H.onAfterRender(U,H,ae),ot.resetDefaultState(),me=-1,he=null,k.pop(),k.length>0?(z=k[k.length-1],lt===!0&&dt.setGlobalState(U.clippingPlanes,z.state.camera)):z=null,F.pop(),F.length>0?I=F[F.length-1]:I=null};function $s(H,ae,Se,xe){if(H.visible===!1)return;if(H.layers.test(ae.layers)){if(H.isGroup)Se=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(ae);else if(H.isLight)z.pushLight(H),H.castShadow&&z.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||nt.intersectsSprite(H)){xe&&Ie.setFromMatrixPosition(H.matrixWorld).applyMatrix4(Zt);const mt=Ze.update(H),Ye=H.material;Ye.visible&&I.push(H,mt,Ye,Se,Ie.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||nt.intersectsObject(H))){const mt=Ze.update(H),Ye=H.material;if(xe&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),Ie.copy(H.boundingSphere.center)):(mt.boundingSphere===null&&mt.computeBoundingSphere(),Ie.copy(mt.boundingSphere.center)),Ie.applyMatrix4(H.matrixWorld).applyMatrix4(Zt)),Array.isArray(Ye)){const bt=mt.groups;for(let Mt=0,It=bt.length;Mt<It;Mt++){const Tt=bt[Mt],Bt=Ye[Tt.materialIndex];Bt&&Bt.visible&&I.push(H,mt,Bt,Se,Ie.z,Tt)}}else Ye.visible&&I.push(H,mt,Ye,Se,Ie.z,null)}}const et=H.children;for(let mt=0,Ye=et.length;mt<Ye;mt++)$s(et[mt],ae,Se,xe)}function si(H,ae,Se,xe){const{opaque:ue,transmissive:et,transparent:mt}=H;z.setupLightsView(Se),lt===!0&&dt.setGlobalState(U.clippingPlanes,Se),xe&&Fe.viewport(q.copy(xe)),ue.length>0&&ea(ue,ae,Se),et.length>0&&ea(et,ae,Se),mt.length>0&&ea(mt,ae,Se),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function zi(H,ae,Se,xe){if((Se.isScene===!0?Se.overrideMaterial:null)!==null)return;if(z.state.transmissionRenderTarget[xe.id]===void 0){const Bt=at.has("EXT_color_buffer_half_float")||at.has("EXT_color_buffer_float");z.state.transmissionRenderTarget[xe.id]=new lr(1,1,{generateMipmaps:!0,type:Bt?cl:ma,minFilter:sl,samples:At.samples,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Tn.workingColorSpace})}const et=z.state.transmissionRenderTarget[xe.id],mt=xe.viewport||q;et.setSize(mt.z*U.transmissionResolutionScale,mt.w*U.transmissionResolutionScale);const Ye=U.getRenderTarget(),bt=U.getActiveCubeFace(),Mt=U.getActiveMipmapLevel();U.setRenderTarget(et),U.getClearColor(Ee),Ce=U.getClearAlpha(),Ce<1&&U.setClearColor(16777215,.5),U.clear(),Pe&&st.render(Se);const It=U.toneMapping;U.toneMapping=Fr;const Tt=xe.viewport;if(xe.viewport!==void 0&&(xe.viewport=void 0),z.setupLightsView(xe),lt===!0&&dt.setGlobalState(U.clippingPlanes,xe),ea(H,Se,xe),se.updateMultisampleRenderTarget(et),se.updateRenderTargetMipmap(et),at.has("WEBGL_multisampled_render_to_texture")===!1){let Bt=!1;for(let En=0,jn=ae.length;En<jn;En++){const Fn=ae[En],{object:Kt,geometry:ct,material:Sn,group:Vt}=Fn;if(Sn.side===il&&Kt.layers.test(xe.layers)){const Ai=Sn.side;Sn.side=ba,Sn.needsUpdate=!0,ta(Kt,Se,xe,ct,Sn,Vt),Sn.side=Ai,Sn.needsUpdate=!0,Bt=!0}}Bt===!0&&(se.updateMultisampleRenderTarget(et),se.updateRenderTargetMipmap(et))}U.setRenderTarget(Ye,bt,Mt),U.setClearColor(Ee,Ce),Tt!==void 0&&(xe.viewport=Tt),U.toneMapping=It}function ea(H,ae,Se){const xe=ae.isScene===!0?ae.overrideMaterial:null;for(let ue=0,et=H.length;ue<et;ue++){const mt=H[ue],{object:Ye,geometry:bt,group:Mt}=mt;let It=mt.material;It.allowOverride===!0&&xe!==null&&(It=xe),Ye.layers.test(Se.layers)&&ta(Ye,ae,Se,bt,It,Mt)}}function ta(H,ae,Se,xe,ue,et){H.onBeforeRender(U,ae,Se,xe,ue,et),H.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),ue.onBeforeRender(U,ae,Se,xe,H,et),ue.transparent===!0&&ue.side===il&&ue.forceSinglePass===!1?(ue.side=ba,ue.needsUpdate=!0,U.renderBufferDirect(Se,ae,xe,ue,H,et),ue.side=tc,ue.needsUpdate=!0,U.renderBufferDirect(Se,ae,xe,ue,H,et),ue.side=il):U.renderBufferDirect(Se,ae,xe,ue,H,et),H.onAfterRender(U,ae,Se,xe,ue,et)}function na(H,ae,Se){ae.isScene!==!0&&(ae=We);const xe=O.get(H),ue=z.state.lights,et=z.state.shadowsArray,mt=ue.state.version,Ye=xt.getParameters(H,ue.state,et,ae,Se),bt=xt.getProgramCacheKey(Ye);let Mt=xe.programs;xe.environment=H.isMeshStandardMaterial?ae.environment:null,xe.fog=ae.fog,xe.envMap=(H.isMeshStandardMaterial?Ue:Me).get(H.envMap||xe.environment),xe.envMapRotation=xe.environment!==null&&H.envMap===null?ae.environmentRotation:H.envMapRotation,Mt===void 0&&(H.addEventListener("dispose",xn),Mt=new Map,xe.programs=Mt);let It=Mt.get(bt);if(It!==void 0){if(xe.currentProgram===It&&xe.lightsStateVersion===mt)return dl(H,Ye),It}else Ye.uniforms=xt.getUniforms(H),H.onBeforeCompile(Ye,U),It=xt.acquireProgram(Ye,bt),Mt.set(bt,It),xe.uniforms=Ye.uniforms;const Tt=xe.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Tt.clippingPlanes=dt.uniform),dl(H,Ye),xe.needsLights=Gr(H),xe.lightsStateVersion=mt,xe.needsLights&&(Tt.ambientLightColor.value=ue.state.ambient,Tt.lightProbe.value=ue.state.probe,Tt.directionalLights.value=ue.state.directional,Tt.directionalLightShadows.value=ue.state.directionalShadow,Tt.spotLights.value=ue.state.spot,Tt.spotLightShadows.value=ue.state.spotShadow,Tt.rectAreaLights.value=ue.state.rectArea,Tt.ltc_1.value=ue.state.rectAreaLTC1,Tt.ltc_2.value=ue.state.rectAreaLTC2,Tt.pointLights.value=ue.state.point,Tt.pointLightShadows.value=ue.state.pointShadow,Tt.hemisphereLights.value=ue.state.hemi,Tt.directionalShadowMap.value=ue.state.directionalShadowMap,Tt.directionalShadowMatrix.value=ue.state.directionalShadowMatrix,Tt.spotShadowMap.value=ue.state.spotShadowMap,Tt.spotLightMatrix.value=ue.state.spotLightMatrix,Tt.spotLightMap.value=ue.state.spotLightMap,Tt.pointShadowMap.value=ue.state.pointShadowMap,Tt.pointShadowMatrix.value=ue.state.pointShadowMatrix),xe.currentProgram=It,xe.uniformsList=null,It}function Mo(H){if(H.uniformsList===null){const ae=H.currentProgram.getUniforms();H.uniformsList=Hy.seqWithValue(ae.seq,H.uniforms)}return H.uniformsList}function dl(H,ae){const Se=O.get(H);Se.outputColorSpace=ae.outputColorSpace,Se.batching=ae.batching,Se.batchingColor=ae.batchingColor,Se.instancing=ae.instancing,Se.instancingColor=ae.instancingColor,Se.instancingMorph=ae.instancingMorph,Se.skinning=ae.skinning,Se.morphTargets=ae.morphTargets,Se.morphNormals=ae.morphNormals,Se.morphColors=ae.morphColors,Se.morphTargetsCount=ae.morphTargetsCount,Se.numClippingPlanes=ae.numClippingPlanes,Se.numIntersection=ae.numClipIntersection,Se.vertexAlphas=ae.vertexAlphas,Se.vertexTangents=ae.vertexTangents,Se.toneMapping=ae.toneMapping}function Qa(H,ae,Se,xe,ue){ae.isScene!==!0&&(ae=We),se.resetTextureUnits();const et=ae.fog,mt=xe.isMeshStandardMaterial?ae.environment:null,Ye=ee===null?U.outputColorSpace:ee.isXRRenderTarget===!0?ee.texture.colorSpace:uu,bt=(xe.isMeshStandardMaterial?Ue:Me).get(xe.envMap||mt),Mt=xe.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,It=!!Se.attributes.tangent&&(!!xe.normalMap||xe.anisotropy>0),Tt=!!Se.morphAttributes.position,Bt=!!Se.morphAttributes.normal,En=!!Se.morphAttributes.color;let jn=Fr;xe.toneMapped&&(ee===null||ee.isXRRenderTarget===!0)&&(jn=U.toneMapping);const Fn=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,Kt=Fn!==void 0?Fn.length:0,ct=O.get(xe),Sn=z.state.lights;if(lt===!0&&(qt===!0||H!==he)){const Xi=H===he&&xe.id===me;dt.setState(xe,H,Xi)}let Vt=!1;xe.version===ct.__version?(ct.needsLights&&ct.lightsStateVersion!==Sn.state.version||ct.outputColorSpace!==Ye||ue.isBatchedMesh&&ct.batching===!1||!ue.isBatchedMesh&&ct.batching===!0||ue.isBatchedMesh&&ct.batchingColor===!0&&ue.colorTexture===null||ue.isBatchedMesh&&ct.batchingColor===!1&&ue.colorTexture!==null||ue.isInstancedMesh&&ct.instancing===!1||!ue.isInstancedMesh&&ct.instancing===!0||ue.isSkinnedMesh&&ct.skinning===!1||!ue.isSkinnedMesh&&ct.skinning===!0||ue.isInstancedMesh&&ct.instancingColor===!0&&ue.instanceColor===null||ue.isInstancedMesh&&ct.instancingColor===!1&&ue.instanceColor!==null||ue.isInstancedMesh&&ct.instancingMorph===!0&&ue.morphTexture===null||ue.isInstancedMesh&&ct.instancingMorph===!1&&ue.morphTexture!==null||ct.envMap!==bt||xe.fog===!0&&ct.fog!==et||ct.numClippingPlanes!==void 0&&(ct.numClippingPlanes!==dt.numPlanes||ct.numIntersection!==dt.numIntersection)||ct.vertexAlphas!==Mt||ct.vertexTangents!==It||ct.morphTargets!==Tt||ct.morphNormals!==Bt||ct.morphColors!==En||ct.toneMapping!==jn||ct.morphTargetsCount!==Kt)&&(Vt=!0):(Vt=!0,ct.__version=xe.version);let Ai=ct.currentProgram;Vt===!0&&(Ai=na(xe,ae,ue));let Ja=!1,Qn=!1,_s=!1;const Rn=Ai.getUniforms(),Bi=ct.uniforms;if(Fe.useProgram(Ai.program)&&(Ja=!0,Qn=!0,_s=!0),xe.id!==me&&(me=xe.id,Qn=!0),Ja||he!==H){Fe.buffers.depth.getReversed()&&H.reversedDepth!==!0&&(H._reversedDepth=!0,H.updateProjectionMatrix()),Rn.setValue(Z,"projectionMatrix",H.projectionMatrix),Rn.setValue(Z,"viewMatrix",H.matrixWorldInverse);const qi=Rn.map.cameraPosition;qi!==void 0&&qi.setValue(Z,Lt.setFromMatrixPosition(H.matrixWorld)),At.logarithmicDepthBuffer&&Rn.setValue(Z,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial)&&Rn.setValue(Z,"isOrthographic",H.isOrthographicCamera===!0),he!==H&&(he=H,Qn=!0,_s=!0)}if(ct.needsLights&&(Sn.state.directionalShadowMap.length>0&&Rn.setValue(Z,"directionalShadowMap",Sn.state.directionalShadowMap,se),Sn.state.spotShadowMap.length>0&&Rn.setValue(Z,"spotShadowMap",Sn.state.spotShadowMap,se),Sn.state.pointShadowMap.length>0&&Rn.setValue(Z,"pointShadowMap",Sn.state.pointShadowMap,se)),ue.isSkinnedMesh){Rn.setOptional(Z,ue,"bindMatrix"),Rn.setOptional(Z,ue,"bindMatrixInverse");const Xi=ue.skeleton;Xi&&(Xi.boneTexture===null&&Xi.computeBoneTexture(),Rn.setValue(Z,"boneTexture",Xi.boneTexture,se))}ue.isBatchedMesh&&(Rn.setOptional(Z,ue,"batchingTexture"),Rn.setValue(Z,"batchingTexture",ue._matricesTexture,se),Rn.setOptional(Z,ue,"batchingIdTexture"),Rn.setValue(Z,"batchingIdTexture",ue._indirectTexture,se),Rn.setOptional(Z,ue,"batchingColorTexture"),ue._colorsTexture!==null&&Rn.setValue(Z,"batchingColorTexture",ue._colorsTexture,se));const Ci=Se.morphAttributes;if((Ci.position!==void 0||Ci.normal!==void 0||Ci.color!==void 0)&&Yt.update(ue,Se,Ai),(Qn||ct.receiveShadow!==ue.receiveShadow)&&(ct.receiveShadow=ue.receiveShadow,Rn.setValue(Z,"receiveShadow",ue.receiveShadow)),xe.isMeshGouraudMaterial&&xe.envMap!==null&&(Bi.envMap.value=bt,Bi.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),xe.isMeshStandardMaterial&&xe.envMap===null&&ae.environment!==null&&(Bi.envMapIntensity.value=ae.environmentIntensity),Bi.dfgLUT!==void 0&&(Bi.dfgLUT.value=XF()),Qn&&(Rn.setValue(Z,"toneMappingExposure",U.toneMappingExposure),ct.needsLights&&Hr(Bi,_s),et&&xe.fog===!0&&Ct.refreshFogUniforms(Bi,et),Ct.refreshMaterialUniforms(Bi,xe,pe,re,z.state.transmissionRenderTarget[H.id]),Hy.upload(Z,Mo(ct),Bi,se)),xe.isShaderMaterial&&xe.uniformsNeedUpdate===!0&&(Hy.upload(Z,Mo(ct),Bi,se),xe.uniformsNeedUpdate=!1),xe.isSpriteMaterial&&Rn.setValue(Z,"center",ue.center),Rn.setValue(Z,"modelViewMatrix",ue.modelViewMatrix),Rn.setValue(Z,"normalMatrix",ue.normalMatrix),Rn.setValue(Z,"modelMatrix",ue.matrixWorld),xe.isShaderMaterial||xe.isRawShaderMaterial){const Xi=xe.uniformsGroups;for(let qi=0,pl=Xi.length;qi<pl;qi++){const Sa=Xi[qi];ke.update(Sa,Ai),ke.bind(Sa,Ai)}}return Ai}function Hr(H,ae){H.ambientLightColor.needsUpdate=ae,H.lightProbe.needsUpdate=ae,H.directionalLights.needsUpdate=ae,H.directionalLightShadows.needsUpdate=ae,H.pointLights.needsUpdate=ae,H.pointLightShadows.needsUpdate=ae,H.spotLights.needsUpdate=ae,H.spotLightShadows.needsUpdate=ae,H.rectAreaLights.needsUpdate=ae,H.hemisphereLights.needsUpdate=ae}function Gr(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return Y},this.getActiveMipmapLevel=function(){return ie},this.getRenderTarget=function(){return ee},this.setRenderTargetTextures=function(H,ae,Se){const xe=O.get(H);xe.__autoAllocateDepthBuffer=H.resolveDepthBuffer===!1,xe.__autoAllocateDepthBuffer===!1&&(xe.__useRenderToTexture=!1),O.get(H.texture).__webglTexture=ae,O.get(H.depthTexture).__webglTexture=xe.__autoAllocateDepthBuffer?void 0:Se,xe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(H,ae){const Se=O.get(H);Se.__webglFramebuffer=ae,Se.__useDefaultFramebuffer=ae===void 0};const jr=Z.createFramebuffer();this.setRenderTarget=function(H,ae=0,Se=0){ee=H,Y=ae,ie=Se;let xe=null,ue=!1,et=!1;if(H){const Ye=O.get(H);if(Ye.__useDefaultFramebuffer!==void 0){Fe.bindFramebuffer(Z.FRAMEBUFFER,Ye.__webglFramebuffer),q.copy(H.viewport),K.copy(H.scissor),oe=H.scissorTest,Fe.viewport(q),Fe.scissor(K),Fe.setScissorTest(oe),me=-1;return}else if(Ye.__webglFramebuffer===void 0)se.setupRenderTarget(H);else if(Ye.__hasExternalTextures)se.rebindTextures(H,O.get(H.texture).__webglTexture,O.get(H.depthTexture).__webglTexture);else if(H.depthBuffer){const It=H.depthTexture;if(Ye.__boundDepthTexture!==It){if(It!==null&&O.has(It)&&(H.width!==It.image.width||H.height!==It.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");se.setupDepthRenderbuffer(H)}}const bt=H.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(et=!0);const Mt=O.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(Mt[ae])?xe=Mt[ae][Se]:xe=Mt[ae],ue=!0):H.samples>0&&se.useMultisampledRTT(H)===!1?xe=O.get(H).__webglMultisampledFramebuffer:Array.isArray(Mt)?xe=Mt[Se]:xe=Mt,q.copy(H.viewport),K.copy(H.scissor),oe=H.scissorTest}else q.copy(ce).multiplyScalar(pe).floor(),K.copy(Ae).multiplyScalar(pe).floor(),oe=Be;if(Se!==0&&(xe=jr),Fe.bindFramebuffer(Z.FRAMEBUFFER,xe)&&Fe.drawBuffers(H,xe),Fe.viewport(q),Fe.scissor(K),Fe.setScissorTest(oe),ue){const Ye=O.get(H.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Ye.__webglTexture,Se)}else if(et){const Ye=ae;for(let bt=0;bt<H.textures.length;bt++){const Mt=O.get(H.textures[bt]);Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+bt,Mt.__webglTexture,Se,Ye)}}else if(H!==null&&Se!==0){const Ye=O.get(H.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Ye.__webglTexture,Se)}me=-1},this.readRenderTargetPixels=function(H,ae,Se,xe,ue,et,mt,Ye=0){if(!(H&&H.isWebGLRenderTarget)){Dt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let bt=O.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&mt!==void 0&&(bt=bt[mt]),bt){Fe.bindFramebuffer(Z.FRAMEBUFFER,bt);try{const Mt=H.textures[Ye],It=Mt.format,Tt=Mt.type;if(!At.textureFormatReadable(It)){Dt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!At.textureTypeReadable(Tt)){Dt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=H.width-xe&&Se>=0&&Se<=H.height-ue&&(H.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+Ye),Z.readPixels(ae,Se,xe,ue,Ke.convert(It),Ke.convert(Tt),et))}finally{const Mt=ee!==null?O.get(ee).__webglFramebuffer:null;Fe.bindFramebuffer(Z.FRAMEBUFFER,Mt)}}},this.readRenderTargetPixelsAsync=async function(H,ae,Se,xe,ue,et,mt,Ye=0){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let bt=O.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&mt!==void 0&&(bt=bt[mt]),bt)if(ae>=0&&ae<=H.width-xe&&Se>=0&&Se<=H.height-ue){Fe.bindFramebuffer(Z.FRAMEBUFFER,bt);const Mt=H.textures[Ye],It=Mt.format,Tt=Mt.type;if(!At.textureFormatReadable(It))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!At.textureTypeReadable(Tt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Bt=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Bt),Z.bufferData(Z.PIXEL_PACK_BUFFER,et.byteLength,Z.STREAM_READ),H.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+Ye),Z.readPixels(ae,Se,xe,ue,Ke.convert(It),Ke.convert(Tt),0);const En=ee!==null?O.get(ee).__webglFramebuffer:null;Fe.bindFramebuffer(Z.FRAMEBUFFER,En);const jn=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.flush(),await nP(Z,jn,4),Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Bt),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,et),Z.deleteBuffer(Bt),Z.deleteSync(jn),et}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(H,ae=null,Se=0){const xe=Math.pow(2,-Se),ue=Math.floor(H.image.width*xe),et=Math.floor(H.image.height*xe),mt=ae!==null?ae.x:0,Ye=ae!==null?ae.y:0;se.setTexture2D(H,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,Se,0,0,mt,Ye,ue,et),Fe.unbindTexture()};const wo=Z.createFramebuffer(),fr=Z.createFramebuffer();this.copyTextureToTexture=function(H,ae,Se=null,xe=null,ue=0,et=null){et===null&&(ue!==0?(Ud("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),et=ue,ue=0):et=0);let mt,Ye,bt,Mt,It,Tt,Bt,En,jn;const Fn=H.isCompressedTexture?H.mipmaps[et]:H.image;if(Se!==null)mt=Se.max.x-Se.min.x,Ye=Se.max.y-Se.min.y,bt=Se.isBox3?Se.max.z-Se.min.z:1,Mt=Se.min.x,It=Se.min.y,Tt=Se.isBox3?Se.min.z:0;else{const Ci=Math.pow(2,-ue);mt=Math.floor(Fn.width*Ci),Ye=Math.floor(Fn.height*Ci),H.isDataArrayTexture?bt=Fn.depth:H.isData3DTexture?bt=Math.floor(Fn.depth*Ci):bt=1,Mt=0,It=0,Tt=0}xe!==null?(Bt=xe.x,En=xe.y,jn=xe.z):(Bt=0,En=0,jn=0);const Kt=Ke.convert(ae.format),ct=Ke.convert(ae.type);let Sn;ae.isData3DTexture?(se.setTexture3D(ae,0),Sn=Z.TEXTURE_3D):ae.isDataArrayTexture||ae.isCompressedArrayTexture?(se.setTexture2DArray(ae,0),Sn=Z.TEXTURE_2D_ARRAY):(se.setTexture2D(ae,0),Sn=Z.TEXTURE_2D),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,ae.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,ae.unpackAlignment);const Vt=Z.getParameter(Z.UNPACK_ROW_LENGTH),Ai=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),Ja=Z.getParameter(Z.UNPACK_SKIP_PIXELS),Qn=Z.getParameter(Z.UNPACK_SKIP_ROWS),_s=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Fn.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Fn.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Mt),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,It),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Tt);const Rn=H.isDataArrayTexture||H.isData3DTexture,Bi=ae.isDataArrayTexture||ae.isData3DTexture;if(H.isDepthTexture){const Ci=O.get(H),Xi=O.get(ae),qi=O.get(Ci.__renderTarget),pl=O.get(Xi.__renderTarget);Fe.bindFramebuffer(Z.READ_FRAMEBUFFER,qi.__webglFramebuffer),Fe.bindFramebuffer(Z.DRAW_FRAMEBUFFER,pl.__webglFramebuffer);for(let Sa=0;Sa<bt;Sa++)Rn&&(Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,O.get(H).__webglTexture,ue,Tt+Sa),Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,O.get(ae).__webglTexture,et,jn+Sa)),Z.blitFramebuffer(Mt,It,mt,Ye,Bt,En,mt,Ye,Z.DEPTH_BUFFER_BIT,Z.NEAREST);Fe.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Fe.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else if(ue!==0||H.isRenderTargetTexture||O.has(H)){const Ci=O.get(H),Xi=O.get(ae);Fe.bindFramebuffer(Z.READ_FRAMEBUFFER,wo),Fe.bindFramebuffer(Z.DRAW_FRAMEBUFFER,fr);for(let qi=0;qi<bt;qi++)Rn?Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Ci.__webglTexture,ue,Tt+qi):Z.framebufferTexture2D(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Ci.__webglTexture,ue),Bi?Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Xi.__webglTexture,et,jn+qi):Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Xi.__webglTexture,et),ue!==0?Z.blitFramebuffer(Mt,It,mt,Ye,Bt,En,mt,Ye,Z.COLOR_BUFFER_BIT,Z.NEAREST):Bi?Z.copyTexSubImage3D(Sn,et,Bt,En,jn+qi,Mt,It,mt,Ye):Z.copyTexSubImage2D(Sn,et,Bt,En,Mt,It,mt,Ye);Fe.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Fe.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else Bi?H.isDataTexture||H.isData3DTexture?Z.texSubImage3D(Sn,et,Bt,En,jn,mt,Ye,bt,Kt,ct,Fn.data):ae.isCompressedArrayTexture?Z.compressedTexSubImage3D(Sn,et,Bt,En,jn,mt,Ye,bt,Kt,Fn.data):Z.texSubImage3D(Sn,et,Bt,En,jn,mt,Ye,bt,Kt,ct,Fn):H.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,et,Bt,En,mt,Ye,Kt,ct,Fn.data):H.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,et,Bt,En,Fn.width,Fn.height,Kt,Fn.data):Z.texSubImage2D(Z.TEXTURE_2D,et,Bt,En,mt,Ye,Kt,ct,Fn);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Vt),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Ai),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Ja),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Qn),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,_s),et===0&&ae.generateMipmaps&&Z.generateMipmap(Sn),Fe.unbindTexture()},this.initRenderTarget=function(H){O.get(H).__webglFramebuffer===void 0&&se.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?se.setTextureCube(H,0):H.isData3DTexture?se.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?se.setTexture2DArray(H,0):se.setTexture2D(H,0),Fe.unbindTexture()},this.resetState=function(){Y=0,ie=0,ee=null,Fe.reset(),ot.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return rr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Tn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Tn._getUnpackColorSpace()}}const qF=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:ax,AddEquation:tu,AddOperation:JC,AdditiveAnimationBlendMode:OM,AdditiveBlending:e1,AgXToneMapping:AM,AlphaFormat:PM,AlwaysCompare:u5,AlwaysDepth:s1,AlwaysStencilFunc:bS,AmbientLight:sR,AnimationAction:hR,AnimationClip:A0,AnimationLoader:WU,AnimationMixer:bO,AnimationObjectGroup:yO,AnimationUtils:VU,ArcCurve:D5,ArrayCamera:cR,ArrowHelper:WO,AttachedBindMode:xS,Audio:uR,AudioAnalyser:lO,AudioContext:c3,AudioListener:aO,AudioLoader:nO,AxesHelper:XO,BackSide:ba,BasicDepthPacking:i5,BasicShadowMap:LC,BatchedMesh:T5,Bone:jM,BooleanKeyframeTrack:Ff,Box2:RO,Box3:Ks,Box3Helper:GO,BoxGeometry:Bf,BoxHelper:HO,BufferAttribute:Kn,BufferGeometry:tn,BufferGeometryLoader:lR,ByteType:NM,Cache:al,Camera:yx,CameraHelper:VO,CanvasTexture:uU,CapsuleGeometry:Tx,CatmullRomCurve3:L5,CineonToneMapping:TM,CircleGeometry:Ex,ClampToEdgeWrapping:Xa,Clock:u3,Color:yt,ColorKeyframeTrack:a3,ColorManagement:Tn,CompressedArrayTexture:lU,CompressedCubeTexture:cU,CompressedTexture:wx,CompressedTextureLoader:XU,ConeGeometry:V0,ConstantAlphaFactor:ZC,ConstantColorFactor:qC,Controls:YO,CubeCamera:x5,CubeDepthTexture:R5,CubeReflectionMapping:ll,CubeRefractionMapping:cu,CubeTexture:F0,CubeTextureLoader:qU,CubeUVReflectionMapping:Xd,CubicBezierCurve:YM,CubicBezierCurve3:I5,CubicInterpolant:K5,CullFaceBack:gS,CullFaceFront:DC,CullFaceFrontBack:hI,CullFaceNone:NC,Curve:_o,CurvePath:U5,CustomBlending:IC,CustomToneMapping:EM,CylinderGeometry:k0,Cylindrical:CO,Data3DTexture:vx,DataArrayTexture:gx,DataTexture:yo,DataTextureLoader:YU,DataUtils:IP,DecrementStencilOp:NI,DecrementWrapStencilOp:LI,DefaultLoadingManager:$5,DepthFormat:ul,DepthStencilFormat:su,DepthTexture:kd,DetachedBindMode:$C,DirectionalLight:iR,DirectionalLightHelper:kO,DiscreteInterpolant:Q5,DodecahedronGeometry:Ax,DoubleSide:il,DstAlphaFactor:HC,DstColorFactor:jC,DynamicCopyUsage:qI,DynamicDrawUsage:VI,DynamicReadUsage:jI,EdgesGeometry:N5,EllipseCurve:Cx,EqualCompare:o5,EqualDepth:r1,EqualStencilFunc:OI,EquirectangularReflectionMapping:h0,EquirectangularRefractionMapping:d0,Euler:cr,EventDispatcher:fl,ExternalTexture:XM,ExtrudeGeometry:Rx,FileLoader:nc,Float16BufferAttribute:kP,Float32BufferAttribute:wt,FloatType:xa,Fog:bx,FogExp2:xx,FramebufferTexture:oU,FrontSide:tc,Frustum:Yd,FrustumArray:Mx,GLBufferAttribute:TO,GLSL1:ZI,GLSL3:_S,GreaterCompare:l5,GreaterDepth:l1,GreaterEqualCompare:mx,GreaterEqualDepth:o1,GreaterEqualStencilFunc:kI,GreaterStencilFunc:BI,GridHelper:BO,Group:Td,HalfFloatType:cl,HemisphereLight:eR,HemisphereLightHelper:zO,IcosahedronGeometry:Nx,ImageBitmapLoader:tO,ImageLoader:C0,ImageUtils:m5,IncrementStencilOp:RI,IncrementWrapStencilOp:DI,InstancedBufferAttribute:Fd,InstancedBufferGeometry:oR,InstancedInterleavedBuffer:wO,InstancedMesh:w5,Int16BufferAttribute:BP,Int32BufferAttribute:FP,Int8BufferAttribute:UP,IntType:ox,InterleavedBuffer:_x,InterleavedBufferAttribute:Uf,Interpolant:j0,InterpolateDiscrete:g0,InterpolateLinear:H1,InterpolateSmooth:ky,InterpolationSamplingMode:JI,InterpolationSamplingType:QI,InvertStencilOp:II,KeepStencilOp:bf,KeyframeTrack:Vr,LOD:S5,LatheGeometry:Dx,Layers:zd,LessCompare:r5,LessDepth:a1,LessEqualCompare:px,LessEqualDepth:If,LessEqualStencilFunc:zI,LessStencilFunc:UI,Light:vu,LightProbe:rR,Line:hu,Line3:LO,LineBasicMaterial:_a,LineCurve:ZM,LineCurve3:P5,LineDashedMaterial:Y5,LineLoop:E5,LineSegments:hl,LinearFilter:hi,LinearInterpolant:s3,LinearMipMapLinearFilter:gI,LinearMipMapNearestFilter:mI,LinearMipmapLinearFilter:sl,LinearMipmapNearestFilter:Qm,LinearSRGBColorSpace:uu,LinearToneMapping:MM,LinearTransfer:y0,Loader:Za,LoaderUtils:ES,LoadingManager:r3,LoopOnce:e5,LoopPingPong:n5,LoopRepeat:t5,MOUSE:uI,Material:Qs,MaterialLoader:Bx,MathUtils:p5,Matrix2:p3,Matrix3:sn,Matrix4:Xt,MaxEquation:zC,Mesh:ns,MeshBasicMaterial:mu,MeshDepthMaterial:t3,MeshDistanceMaterial:n3,MeshLambertMaterial:X5,MeshMatcapMaterial:q5,MeshNormalMaterial:W5,MeshPhongMaterial:G5,MeshPhysicalMaterial:H5,MeshStandardMaterial:e3,MeshToonMaterial:j5,MinEquation:OC,MirroredRepeatWrapping:m0,MixOperation:QC,MultiplyBlending:yS,MultiplyOperation:z0,NearestFilter:Wi,NearestMipMapLinearFilter:pI,NearestMipMapNearestFilter:dI,NearestMipmapLinearFilter:Md,NearestMipmapNearestFilter:RM,NeutralToneMapping:CM,NeverCompare:a5,NeverDepth:i1,NeverStencilFunc:PI,NoBlending:ol,NoColorSpace:Kl,NoNormalPacking:wI,NoToneMapping:Fr,NormalAnimationBlendMode:dx,NormalBlending:Rf,NormalGAPacking:EI,NormalRGPacking:TI,NotEqualCompare:c5,NotEqualDepth:c1,NotEqualStencilFunc:FI,NumberKeyframeTrack:T0,Object3D:Dn,ObjectLoader:$U,ObjectSpaceNormalMap:s5,OctahedronGeometry:H0,OneFactor:FC,OneMinusConstantAlphaFactor:KC,OneMinusConstantColorFactor:YC,OneMinusDstAlphaFactor:GC,OneMinusDstColorFactor:WC,OneMinusSrcAlphaFactor:n1,OneMinusSrcColorFactor:VC,OrthographicCamera:Kd,PCFShadowMap:Ad,PCFSoftShadowMap:Km,PMREMGenerator:RS,Path:X1,PerspectiveCamera:xs,Plane:eu,PlaneGeometry:Zd,PlaneHelper:jO,PointLight:nR,PointLightHelper:UO,Points:A5,PointsMaterial:WM,PolarGridHelper:FO,PolyhedronGeometry:gu,PositionalAudio:oO,PropertyBinding:Nn,PropertyMixer:fR,QuadraticBezierCurve:KM,QuadraticBezierCurve3:QM,Quaternion:Ya,QuaternionKeyframeTrack:W0,QuaternionLinearInterpolant:J5,R11_EAC_Format:v1,RED_GREEN_RGTC2_Format:k1,RED_RGTC1_Format:B1,REVISION:O0,RG11_EAC_Format:x1,RGBADepthPacking:_I,RGBAFormat:Zs,RGBAIntegerFormat:hx,RGBA_ASTC_10x10_Format:L1,RGBA_ASTC_10x5_Format:R1,RGBA_ASTC_10x6_Format:N1,RGBA_ASTC_10x8_Format:D1,RGBA_ASTC_12x10_Format:I1,RGBA_ASTC_12x12_Format:P1,RGBA_ASTC_4x4_Format:_1,RGBA_ASTC_5x4_Format:S1,RGBA_ASTC_5x5_Format:M1,RGBA_ASTC_6x5_Format:w1,RGBA_ASTC_6x6_Format:T1,RGBA_ASTC_8x5_Format:E1,RGBA_ASTC_8x6_Format:A1,RGBA_ASTC_8x8_Format:C1,RGBA_BPTC_Format:U1,RGBA_ETC2_EAC_Format:g1,RGBA_PVRTC_2BPPV1_Format:d1,RGBA_PVRTC_4BPPV1_Format:h1,RGBA_S3TC_DXT1_Format:$m,RGBA_S3TC_DXT3_Format:e0,RGBA_S3TC_DXT5_Format:t0,RGBDepthPacking:SI,RGBFormat:UM,RGBIntegerFormat:vI,RGB_BPTC_SIGNED_Format:O1,RGB_BPTC_UNSIGNED_Format:z1,RGB_ETC1_Format:p1,RGB_ETC2_Format:m1,RGB_PVRTC_2BPPV1_Format:f1,RGB_PVRTC_4BPPV1_Format:u1,RGB_S3TC_DXT1_Format:Jm,RGDepthPacking:MI,RGFormat:Pf,RGIntegerFormat:fx,RawShaderMaterial:$M,Ray:qd,Raycaster:dR,RectAreaLight:aR,RedFormat:ux,RedIntegerFormat:B0,ReinhardToneMapping:wM,RenderTarget:BM,RenderTarget3D:_O,RepeatWrapping:p0,ReplaceStencilOp:CI,ReverseSubtractEquation:UC,RingGeometry:Lx,SIGNED_R11_EAC_Format:y1,SIGNED_RED_GREEN_RGTC2_Format:V1,SIGNED_RED_RGTC1_Format:F1,SIGNED_RG11_EAC_Format:b1,SRGBColorSpace:Ys,SRGBTransfer:Hn,Scene:HM,ShaderChunk:fn,ShaderLib:mo,ShaderMaterial:ur,ShadowMaterial:V5,Shape:Df,ShapeGeometry:Ix,ShapePath:qO,ShapeUtils:vo,ShortType:DM,Skeleton:Sx,SkeletonHelper:PO,SkinnedMesh:M5,Source:au,Sphere:Is,SphereGeometry:G0,Spherical:pR,SphericalHarmonics3:l3,SplineCurve:JM,SpotLight:tR,SpotLightHelper:IO,Sprite:_5,SpriteMaterial:GM,SrcAlphaFactor:t1,SrcAlphaSaturateFactor:XC,SrcColorFactor:kC,StaticCopyUsage:XI,StaticDrawUsage:x0,StaticReadUsage:GI,StereoCamera:iO,StreamCopyUsage:YI,StreamDrawUsage:HI,StreamReadUsage:WI,StringKeyframeTrack:kf,SubtractEquation:PC,SubtractiveBlending:vS,TOUCH:fI,TangentSpaceNormalMap:pu,TetrahedronGeometry:Px,Texture:Ui,TextureLoader:ZU,TextureUtils:$O,Timer:EO,TimestampQuery:KI,TorusGeometry:Ux,TorusKnotGeometry:Ox,Triangle:Wa,TriangleFanDrawMode:bI,TriangleStripDrawMode:xI,TrianglesDrawMode:yI,TubeGeometry:zx,UVMapping:rx,Uint16BufferAttribute:FM,Uint32BufferAttribute:kM,Uint8BufferAttribute:OP,Uint8ClampedBufferAttribute:zP,Uniform:d3,UniformsGroup:MO,UniformsLib:pt,UniformsUtils:y5,UnsignedByteType:ma,UnsignedInt101111Type:IM,UnsignedInt248Type:Id,UnsignedInt5999Type:LM,UnsignedIntType:kr,UnsignedShort4444Type:lx,UnsignedShort5551Type:cx,UnsignedShortType:Ld,VSMShadowMap:wf,Vector2:Ge,Vector3:Q,Vector4:$n,VectorKeyframeTrack:E0,VideoFrameTexture:rU,VideoTexture:C5,WebGL3DRenderTarget:MP,WebGLArrayRenderTarget:SP,WebGLCoordinateSystem:rr,WebGLCubeRenderTarget:VM,WebGLRenderTarget:lr,WebGLRenderer:SR,WebGLUtils:_R,WebGPUCoordinateSystem:Pd,WebXRController:Vy,WireframeGeometry:k5,WrapAroundEnding:v0,ZeroCurvatureEnding:Tf,ZeroFactor:BC,ZeroSlopeEnding:Ef,ZeroStencilOp:AI,createCanvasElement:d5,error:Dt,getConsoleFunction:tP,log:_0,setConsoleFunction:eP,warn:ht,warnOnce:Ud},Symbol.toStringTag,{value:"Module"}));var P_={exports:{}},U_={},O_={exports:{}},z_={};var pA;function YF(){if(pA)return z_;pA=1;var n=N0();function e(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,o=n.useLayoutEffect,u=n.useDebugValue;function h(v,x){var S=x(),T=i({inst:{value:S,getSnapshot:x}}),C=T[0].inst,A=T[1];return o(function(){C.value=S,C.getSnapshot=x,d(C)&&A({inst:C})},[v,S,x]),a(function(){return d(C)&&A({inst:C}),v(function(){d(C)&&A({inst:C})})},[v]),u(S),S}function d(v){var x=v.getSnapshot;v=v.value;try{var S=x();return!t(v,S)}catch{return!0}}function p(v,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return z_.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,z_}var mA;function ZF(){return mA||(mA=1,O_.exports=YF()),O_.exports}var gA;function KF(){if(gA)return U_;gA=1;var n=N0(),e=ZF();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var i=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,o=n.useRef,u=n.useEffect,h=n.useMemo,d=n.useDebugValue;return U_.useSyncExternalStoreWithSelector=function(p,y,v,x,S){var T=o(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=h(function(){function M(F){if(!N){if(N=!0,D=F,F=x(F),S!==void 0&&C.hasValue){var k=C.value;if(S(k,F))return I=k}return I=F}if(k=I,i(D,F))return k;var j=x(F);return S!==void 0&&S(k,j)?(D=F,k):(D=F,I=j)}var N=!1,D,I,z=v===void 0?null:v;return[function(){return M(y())},z===null?void 0:function(){return M(z())}]},[y,v,x,S]);var A=a(p,T[0],T[1]);return u(function(){C.hasValue=!0,C.value=A},[A]),d(A),A},U_}var vA;function QF(){return vA||(vA=1,P_.exports=KF()),P_.exports}var JF=QF();const $F=J1(JF),yA=n=>{let e;const t=new Set,i=(p,y)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const x=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(S=>S(e,x))}},a=()=>e,h={setState:i,getState:a,getInitialState:()=>d,subscribe:p=>(t.add(p),()=>t.delete(p))},d=e=n(i,a,h);return h},ek=(n=>n?yA(n):yA),{useSyncExternalStoreWithSelector:tk}=$F,nk=n=>n;function ik(n,e=nk,t){const i=tk(n.subscribe,n.getState,n.getInitialState,e,t);return Je.useDebugValue(i),i}const xA=(n,e)=>{const t=ek(n),i=(a,o=e)=>ik(t,a,o);return Object.assign(i,t),i},sk=((n,e)=>n?xA(n,e):xA);var LS=UA();const ak=J1(LS);function m3(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const a=m3(i,e,t);if(a)return a;i=e?null:i.sibling}}function MR(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const g3=MR(de.createContext(null));class wR extends de.Component{render(){return de.createElement(g3.Provider,{value:this._reactInternals},this.props.children)}}function TR(){const n=de.useContext(g3);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=de.useId();return de.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=m3(t,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}const rk=Symbol.for("react.context"),ok=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===rk;function lk(){const n=TR(),[e]=de.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;ok(i)&&i!==g3&&!e.has(i)&&e.set(i,de.use(MR(i))),t=t.return}return e}function ck(){const n=lk();return de.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>de.createElement(e,null,de.createElement(t.Provider,{...i,value:n.get(t)})),e=>de.createElement(wR,{...e})),[n])}function ER(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const AR=n=>n&&n.isOrthographicCamera,uk=n=>n&&n.hasOwnProperty("current"),fk=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),X0=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?de.useLayoutEffect:de.useEffect;function CR(n){const e=de.useRef(n);return X0(()=>void(e.current=n),[n]),e}function hk(){const n=TR(),e=ck();return de.useMemo(()=>({children:t})=>{const a=!!m3(n,!0,o=>o.type===de.StrictMode)?de.StrictMode:de.Fragment;return P.jsx(a,{children:P.jsx(e,{children:t})})},[n,e])}function dk({set:n}){return X0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const pk=(n=>(n=class extends de.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function RR(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function pd(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Mi={obj:n=>n===Object(n)&&!Mi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Mi.str(n)||Mi.num(n)||Mi.boo(n))return n===e;const o=Mi.obj(n);if(o&&i==="reference")return n===e;const u=Mi.arr(n);if(u&&t==="reference")return n===e;if((u||o)&&n===e)return!0;let h;for(h in n)if(!(h in e))return!1;if(o&&t==="shallow"&&i==="shallow"){for(h in a?e:n)if(!Mi.equ(n[h],e[h],{strict:a,objects:"reference"}))return!1}else for(h in a?e:n)if(n[h]!==e[h])return!1;if(Mi.und(h)){if(u&&n.length===0&&e.length===0||o&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function mk(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const NR=["children","key","ref"];function gk(n){const e={};for(const t in n)NR.includes(t)||(e[t]=n[t]);return e}function q1(n,e,t,i){const a=n;let o=a?.__r3f;return o||(o={root:e,type:t,parent:null,children:[],props:gk(i),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=o)),o}function R0(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const a of i){if(typeof t!="object"||t===null){if(t!==void 0){const o=i.slice(i.indexOf(a)).join("-");return{root:t,key:o,target:void 0}}return{root:n,key:e,target:void 0}}e=a,n=t,t=t[e]}return{root:n,key:e,target:t}}const bA=/-\d+$/;function Y1(n,e){if(Mi.str(e.props.attach)){if(bA.test(e.props.attach)){const a=e.props.attach.replace(bA,""),{root:o,key:u}=R0(n.object,a);Array.isArray(o[u])||(o[u]=[])}const{root:t,key:i}=R0(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Mi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function Z1(n,e){if(Mi.str(e.props.attach)){const{root:t,key:i}=R0(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[i]:t[i]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const IS=[...NR,"args","dispose","attach","object","onUpdate","dispose"],_A=new Map;function vk(n){let e=_A.get(n.constructor);try{e||(e=new n.constructor,_A.set(n.constructor,e))}catch{}return e}function yk(n,e){const t={};for(const i in e)if(!IS.includes(i)&&!Mi.equ(e[i],n.props[i])){t[i]=e[i];for(const a in e)a.startsWith(`${i}-`)&&(t[a]=e[a])}for(const i in n.props){if(IS.includes(i)||e.hasOwnProperty(i))continue;const{root:a,key:o}=R0(n.object,i);if(a.constructor&&a.constructor.length===0){const u=vk(a);Mi.und(u)||(t[o]=u[o])}else t[o]=0}return t}const xk=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],bk=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function nu(n,e){var t;const i=n.__r3f,a=i&&ER(i).getState(),o=i?.eventCount;for(const h in e){let d=e[h];if(IS.includes(h))continue;if(i&&bk.test(h)){typeof d=="function"?i.handlers[h]=d:delete i.handlers[h],i.eventCount=Object.keys(i.handlers).length;continue}if(d===void 0)continue;let{root:p,key:y,target:v}=R0(n,h);if(v===void 0&&(typeof p!="object"||p===null))throw Error(`R3F: Cannot set "${h}". Ensure it is an object before setting "${y}".`);if(v instanceof zd&&d instanceof zd)v.mask=d.mask;else if(v instanceof yt&&fk(d))v.set(d);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&d!=null&&d.constructor&&v.constructor===d.constructor)v.copy(d);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(d))typeof v.fromArray=="function"?v.fromArray(d):v.set(...d);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof d=="number")typeof v.setScalar=="function"?v.setScalar(d):v.set(d);else{var u;p[y]=d,a&&!a.linear&&xk.includes(y)&&(u=p[y])!=null&&u.isTexture&&p[y].format===Zs&&p[y].type===ma&&(p[y].colorSpace=Ys)}}if(i!=null&&i.parent&&a!=null&&a.internal&&(t=i.object)!=null&&t.isObject3D&&o!==i.eventCount){const h=i.object,d=a.internal.interaction.indexOf(h);d>-1&&a.internal.interaction.splice(d,1),i.eventCount&&h.raycast!==null&&a.internal.interaction.push(h)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Jd(i),n}function Jd(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function _k(n,e){n.manual||(AR(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const ja=n=>n?.isObject3D;function Ey(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function DR(n,e,t,i){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(i),a.target.releasePointerCapture(i)))}function Sk(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,a)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((i,a)=>{DR(t.capturedMap,e,i,a)})}function Mk(n){function e(d){const{internal:p}=n.getState(),y=d.offsetX-p.initialClick[0],v=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(y*y+v*v))}function t(d){return d.filter(p=>["Move","Over","Enter","Out","Leave"].some(y=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+y]}))}function i(d,p){const y=n.getState(),v=new Set,x=[],S=p?p(y.internal.interaction):y.internal.interaction;for(let M=0;M<S.length;M++){const N=pd(S[M]);N&&(N.raycaster.camera=void 0)}y.previousRoot||y.events.compute==null||y.events.compute(d,y);function T(M){const N=pd(M);if(!N||!N.events.enabled||N.raycaster.camera===null)return[];if(N.raycaster.camera===void 0){var D;N.events.compute==null||N.events.compute(d,N,(D=N.previousRoot)==null?void 0:D.getState()),N.raycaster.camera===void 0&&(N.raycaster.camera=null)}return N.raycaster.camera?N.raycaster.intersectObject(M,!0):[]}let C=S.flatMap(T).sort((M,N)=>{const D=pd(M.object),I=pd(N.object);return!D||!I?M.distance-N.distance:I.events.priority-D.events.priority||M.distance-N.distance}).filter(M=>{const N=Ey(M);return v.has(N)?!1:(v.add(N),!0)});y.events.filter&&(C=y.events.filter(C,y));for(const M of C){let N=M.object;for(;N;){var A;(A=N.__r3f)!=null&&A.eventCount&&x.push({...M,eventObject:N}),N=N.parent}}if("pointerId"in d&&y.internal.capturedMap.has(d.pointerId))for(let M of y.internal.capturedMap.get(d.pointerId).values())v.has(Ey(M.intersection))||x.push(M.intersection);return x}function a(d,p,y,v){if(d.length){const x={stopped:!1};for(const S of d){let T=pd(S.object);if(T||S.object.traverseAncestors(C=>{const A=pd(C);if(A)return T=A,!1}),T){const{raycaster:C,pointer:A,camera:M,internal:N}=T,D=new Q(A.x,A.y,0).unproject(M),I=U=>{var B,Y;return(B=(Y=N.capturedMap.get(U))==null?void 0:Y.has(S.eventObject))!=null?B:!1},z=U=>{const B={intersection:S,target:p.target};N.capturedMap.has(U)?N.capturedMap.get(U).set(S.eventObject,B):N.capturedMap.set(U,new Map([[S.eventObject,B]])),p.target.setPointerCapture(U)},F=U=>{const B=N.capturedMap.get(U);B&&DR(N.capturedMap,S.eventObject,B,U)};let k={};for(let U in p){let B=p[U];typeof B!="function"&&(k[U]=B)}let j={...S,...k,pointer:A,intersections:d,stopped:x.stopped,delta:y,unprojectedPoint:D,ray:C.ray,camera:M,stopPropagation(){const U="pointerId"in p&&N.capturedMap.get(p.pointerId);if((!U||U.has(S.eventObject))&&(j.stopped=x.stopped=!0,N.hovered.size&&Array.from(N.hovered.values()).find(B=>B.eventObject===S.eventObject))){const B=d.slice(0,d.indexOf(S));o([...B,S])}},target:{hasPointerCapture:I,setPointerCapture:z,releasePointerCapture:F},currentTarget:{hasPointerCapture:I,setPointerCapture:z,releasePointerCapture:F},nativeEvent:p};if(v(j),x.stopped===!0)break}}}return d}function o(d){const{internal:p}=n.getState();for(const y of p.hovered.values())if(!d.length||!d.find(v=>v.object===y.object&&v.index===y.index&&v.instanceId===y.instanceId)){const x=y.eventObject.__r3f;if(p.hovered.delete(Ey(y)),x!=null&&x.eventCount){const S=x.handlers,T={...y,intersections:d};S.onPointerOut==null||S.onPointerOut(T),S.onPointerLeave==null||S.onPointerLeave(T)}}}function u(d,p){for(let y=0;y<p.length;y++){const v=p[y].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(d)}}function h(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return p=>{const{internal:y}=n.getState();"pointerId"in p&&y.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{y.capturedMap.has(p.pointerId)&&(y.capturedMap.delete(p.pointerId),o([]))})}}return function(y){const{onPointerMissed:v,internal:x}=n.getState();x.lastEvent.current=y;const S=d==="onPointerMove",T=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",A=i(y,S?t:void 0),M=T?e(y):0;d==="onPointerDown"&&(x.initialClick=[y.offsetX,y.offsetY],x.initialHits=A.map(D=>D.eventObject)),T&&!A.length&&M<=2&&(u(y,x.interaction),v&&v(y)),S&&o(A);function N(D){const I=D.eventObject,z=I.__r3f;if(!(z!=null&&z.eventCount))return;const F=z.handlers;if(S){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const k=Ey(D),j=x.hovered.get(k);j?j.stopped&&D.stopPropagation():(x.hovered.set(k,D),F.onPointerOver==null||F.onPointerOver(D),F.onPointerEnter==null||F.onPointerEnter(D))}F.onPointerMove==null||F.onPointerMove(D)}else{const k=F[d];k?(!T||x.initialHits.includes(I))&&(u(y,x.interaction.filter(j=>!x.initialHits.includes(j))),k(D)):T&&x.initialHits.includes(I)&&u(y,x.interaction.filter(j=>!x.initialHits.includes(j)))}}a(A,y,M,N)}}return{handlePointer:h}}const SA=n=>!!(n!=null&&n.render),LR=de.createContext(null),wk=(n,e)=>{const t=sk((h,d)=>{const p=new Q,y=new Q,v=new Q;function x(M=d().camera,N=y,D=d().size){const{width:I,height:z,top:F,left:k}=D,j=I/z;N.isVector3?v.copy(N):v.set(...N);const U=M.getWorldPosition(p).distanceTo(v);if(AR(M))return{width:I/M.zoom,height:z/M.zoom,top:F,left:k,factor:1,distance:U,aspect:j};{const B=M.fov*Math.PI/180,Y=2*Math.tan(B/2)*U,ie=Y*(I/z);return{width:ie,height:Y,top:F,left:k,factor:I/ie,distance:U,aspect:j}}}let S;const T=M=>h(N=>({performance:{...N.performance,current:M}})),C=new Ge;return{set:h,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>n(d(),M),advance:(M,N)=>e(M,N,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new u3,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=d();S&&clearTimeout(S),M.performance.current!==M.performance.min&&T(M.performance.min),S=setTimeout(()=>T(d().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:M=>h(N=>({...N,events:{...N.events,...M}})),setSize:(M,N,D=0,I=0)=>{const z=d().camera,F={width:M,height:N,top:D,left:I};h(k=>({size:F,viewport:{...k.viewport,...x(z,y,F)}}))},setDpr:M=>h(N=>{const D=RR(M);return{viewport:{...N.viewport,dpr:D,initialDpr:N.viewport.initialDpr||D}}}),setFrameloop:(M="always")=>{const N=d().clock;N.stop(),N.elapsedTime=0,M!=="never"&&(N.start(),N.elapsedTime=0),h(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:de.createRef(),active:!1,frames:0,priority:0,subscribe:(M,N,D)=>{const I=d().internal;return I.priority=I.priority+(N>0?1:0),I.subscribers.push({ref:M,priority:N,store:D}),I.subscribers=I.subscribers.sort((z,F)=>z.priority-F.priority),()=>{const z=d().internal;z!=null&&z.subscribers&&(z.priority=z.priority-(N>0?1:0),z.subscribers=z.subscribers.filter(F=>F.ref!==M))}}}}}),i=t.getState();let a=i.size,o=i.viewport.dpr,u=i.camera;return t.subscribe(()=>{const{camera:h,size:d,viewport:p,gl:y,set:v}=t.getState();if(d.width!==a.width||d.height!==a.height||p.dpr!==o){a=d,o=p.dpr,_k(h,d),p.dpr>0&&y.setPixelRatio(p.dpr);const x=typeof HTMLCanvasElement<"u"&&y.domElement instanceof HTMLCanvasElement;y.setSize(d.width,d.height,x)}h!==u&&(u=h,v(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(h)}})))}),t.subscribe(h=>n(h)),t};function Tk(){const n=de.useContext(LR);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function v3(n,e=0){const t=Tk(),i=t.getState().internal.subscribe,a=CR(n);return X0(()=>i(a,e,t),[e,i,t]),null}const Ek=1,Ak=8,Ck=32,Rk=2;var Nk={version:"9.5.0"};function Dk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var MA={exports:{}},wA={exports:{}},TA;function Lk(){return TA||(TA=1,(function(n){n.exports=function(e){function t(l,c,g,b){return new Mp(l,c,g,b)}function i(){}function a(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){var c=l,g=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(g=c.return),l=c.return;while(l)}return c.tag===3?g:null}function u(l){if(o(l)!==l)throw Error(a(188))}function h(l){var c=l.alternate;if(!c){if(c=o(l),c===null)throw Error(a(188));return c!==l?null:l}for(var g=l,b=c;;){var E=g.return;if(E===null)break;var R=E.alternate;if(R===null){if(b=E.return,b!==null){g=b;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===g)return u(E),l;if(R===b)return u(E),c;R=R.sibling}throw Error(a(188))}if(g.return!==b.return)g=E,b=R;else{for(var V=!1,$=E.child;$;){if($===g){V=!0,g=E,b=R;break}if($===b){V=!0,b=E,g=R;break}$=$.sibling}if(!V){for($=R.child;$;){if($===g){V=!0,g=R,b=E;break}if($===b){V=!0,b=R,g=E;break}$=$.sibling}if(!V)throw Error(a(189))}}if(g.alternate!==b)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?l:c}function d(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=d(l),c!==null)return c;l=l.sibling}return null}function p(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(l.tag!==4&&(c=p(l),c!==null))return c;l=l.sibling}return null}function y(l){return l===null||typeof l!="object"?null:(l=$r&&l[$r]||l["@@iterator"],typeof l=="function"?l:null)}function v(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===zo?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case El:return"Fragment";case Cl:return"Profiler";case Al:return"StrictMode";case mh:return"Suspense";case Jr:return"SuspenseList";case Bu:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case Tl:return"Portal";case Ra:return l.displayName||"Context";case zu:return(l._context.displayName||"Context")+".Consumer";case Mc:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case gh:return c=l.displayName||null,c!==null?c:v(l.type)||"Memo";case Ts:c=l._payload,l=l._init;try{return v(l(c))}catch{}}return null}function x(l){return{current:l}}function S(l){0>Il||(l.current=Rh[Il],Rh[Il]=null,Il--)}function T(l,c){Il++,Rh[Il]=l.current,l.current=c}function C(l){return l>>>=0,l===0?32:31-(Nh(l)/uv|0)|0}function A(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function M(l,c,g){var b=l.pendingLanes;if(b===0)return 0;var E=0,R=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var $=b&134217727;return $!==0?(b=$&~R,b!==0?E=A(b):(V&=$,V!==0?E=A(V):g||(g=$&~l,g!==0&&(E=A(g))))):($=b&~R,$!==0?E=A($):V!==0?E=A(V):g||(g=b&~l,g!==0&&(E=A(g)))),E===0?0:c!==0&&c!==E&&(c&R)===0&&(R=E&-E,g=c&-c,R>=g||R===32&&(g&4194048)!==0)?c:E}function N(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function D(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I(){var l=Nc;return Nc<<=1,(Nc&62914560)===0&&(Nc=4194304),l}function z(l){for(var c=[],g=0;31>g;g++)c.push(l);return c}function F(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function k(l,c,g,b,E,R){var V=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var $=l.entanglements,Re=l.expirationTimes,He=l.hiddenUpdates;for(g=V&~g;0<g;){var it=31-Fs(g),qe=1<<it;$[it]=0,Re[it]=-1;var gt=He[it];if(gt!==null)for(He[it]=null,it=0;it<gt.length;it++){var Qt=gt[it];Qt!==null&&(Qt.lane&=-536870913)}g&=~qe}b!==0&&j(l,b,0),R!==0&&E===0&&l.tag!==0&&(l.suspendedLanes|=R&~(V&~c))}function j(l,c,g){l.pendingLanes|=c,l.suspendedLanes&=~c;var b=31-Fs(c);l.entangledLanes|=c,l.entanglements[b]=l.entanglements[b]|1073741824|g&261930}function U(l,c){var g=l.entangledLanes|=c;for(l=l.entanglements;g;){var b=31-Fs(g),E=1<<b;E&c|l[b]&c&&(l[b]|=c),g&=~E}}function B(l,c){var g=c&-c;return g=(g&42)!==0?1:Y(g),(g&(l.suspendedLanes|c))!==0?0:g}function Y(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ie(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function ee(l){if(typeof lm=="function"&&dv(l),ks&&typeof ks.setStrictMode=="function")try{ks.setStrictMode(Ul,l)}catch{}}function me(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}function he(l){if(Oh===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);Oh=c&&c[1]||"",Er=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oh+l+Er}function q(l,c){if(!l||qu)return"";qu=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var qe=function(){throw Error()};if(Object.defineProperty(qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qe,[])}catch(Qt){var gt=Qt}Reflect.construct(l,[],qe)}else{try{qe.call()}catch(Qt){gt=Qt}l.call(qe.prototype)}}else{try{throw Error()}catch(Qt){gt=Qt}(qe=l())&&typeof qe.catch=="function"&&qe.catch(function(){})}}catch(Qt){if(Qt&&gt&&typeof Qt.stack=="string")return[Qt.stack,gt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=b.DetermineComponentFrameRoot(),V=R[0],$=R[1];if(V&&$){var Re=V.split(`
`),He=$.split(`
`);for(E=b=0;b<Re.length&&!Re[b].includes("DetermineComponentFrameRoot");)b++;for(;E<He.length&&!He[E].includes("DetermineComponentFrameRoot");)E++;if(b===Re.length||E===He.length)for(b=Re.length-1,E=He.length-1;1<=b&&0<=E&&Re[b]!==He[E];)E--;for(;1<=b&&0<=E;b--,E--)if(Re[b]!==He[E]){if(b!==1||E!==1)do if(b--,E--,0>E||Re[b]!==He[E]){var it=`
`+Re[b].replace(" at new "," at ");return l.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",l.displayName)),it}while(1<=b&&0<=E);break}}}finally{qu=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?he(g):""}function K(l,c){switch(l.tag){case 26:case 27:case 5:return he(l.type);case 16:return he("Lazy");case 13:return l.child!==c&&c!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return q(l.type,!1);case 11:return q(l.type.render,!1);case 1:return q(l.type,!0);case 31:return he("Activity");default:return""}}function oe(l){try{var c="",g=null;do c+=K(l,g),g=l,l=l.return;while(l);return c}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function Ee(l,c){if(typeof l=="object"&&l!==null){var g=cm.get(l);return g!==void 0?g:(c={value:l,source:c,stack:oe(c)},cm.set(l,c),c)}return{value:l,source:c,stack:oe(c)}}function Ce(l,c){no[Ar++]=Yu,no[Ar++]=Vn,Vn=l,Yu=c}function X(l,c,g){La[la++]=as,La[la++]=er,La[la++]=Ia,Ia=l;var b=as;l=er;var E=32-Fs(b)-1;b&=~(1<<E),g+=1;var R=32-Fs(c)+E;if(30<R){var V=E-E%5;R=(b&(1<<V)-1).toString(32),b>>=V,E-=V,as=1<<32-Fs(c)+E|g<<E|b,er=R+l}else as=1<<R|g<<E|b,er=l}function re(l){l.return!==null&&(Ce(l,1),X(l,1,0))}function pe(l){for(;l===Vn;)Vn=no[--Ar],no[Ar]=null,Yu=no[--Ar],no[Ar]=null;for(;l===Ia;)Ia=La[--la],La[la]=null,er=La[--la],La[la]=null,as=La[--la],La[la]=null}function De(l,c){La[la++]=as,La[la++]=er,La[la++]=Ia,as=c.id,er=c.overflow,Ia=l}function Xe(l,c){T(rs,c),T(io,l),T(Qi,null),l=Eg(c),S(Qi),T(Qi,l)}function ce(){S(Qi),S(io),S(rs)}function Ae(l){l.memoizedState!==null&&T(Zu,l);var c=Qi.current,g=Ec(c,l.type);c!==g&&(T(io,l),T(Qi,g))}function Be(l){io.current===l&&(S(Qi),S(io)),Zu.current===l&&(S(Zu),vi?Dl._currentValue=Nl:Dl._currentValue2=Nl)}function nt(l){var c=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw We(Ee(c,l)),zh}function lt(l,c){if(!ti)throw Error(a(175));Jg(l.stateNode,l.type,l.memoizedProps,c,l)||nt(l,!0)}function qt(l){for(Vi=l.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:As=!1;return;case 27:case 3:As=!0;return;default:Vi=Vi.return}}function Zt(l){if(!ti||l!==Vi)return!1;if(!mn)return qt(l),mn=!0,!1;var c=l.tag;if(ki?c!==3&&c!==27&&(c!==5||Rc(l.type)&&!Es(l.type,l.memoizedProps))&&ni&&nt(l):c!==3&&(c!==5||Rc(l.type)&&!Es(l.type,l.memoizedProps))&&ni&&nt(l),qt(l),c===13){if(!ti)throw Error(a(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));ni=Qp(l)}else if(c===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));ni=ev(l)}else ni=ki&&c===27?jg(l.type,ni):Vi?Gg(l.stateNode):null;return!0}function Lt(){ti&&(ni=Vi=null,mn=!1)}function Ie(){var l=Cr;return l!==null&&(Gs===null?Gs=l:Gs.push.apply(Gs,l),Cr=null),l}function We(l){Cr===null?Cr=[l]:Cr.push(l)}function Pe(l,c,g){vi?(T(Pa,c._currentValue),c._currentValue=g):(T(Pa,c._currentValue2),c._currentValue2=g)}function $e(l){var c=Pa.current;vi?l._currentValue=c:l._currentValue2=c,S(Pa)}function Z(l,c,g){for(;l!==null;){var b=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),l===g)break;l=l.return}}function vt(l,c,g,b){var E=l.child;for(E!==null&&(E.return=l);E!==null;){var R=E.dependencies;if(R!==null){var V=E.child;R=R.firstContext;e:for(;R!==null;){var $=R;R=E;for(var Re=0;Re<c.length;Re++)if($.context===c[Re]){R.lanes|=g,$=R.alternate,$!==null&&($.lanes|=g),Z(R.return,g,l),b||(V=null);break e}R=$.next}}else if(E.tag===18){if(V=E.return,V===null)throw Error(a(341));V.lanes|=g,R=V.alternate,R!==null&&(R.lanes|=g),Z(V,g,l),V=null}else V=E.child;if(V!==null)V.return=E;else for(V=E;V!==null;){if(V===l){V=null;break}if(E=V.sibling,E!==null){E.return=V.return,V=E;break}V=V.return}E=V}}function at(l,c,g,b){l=null;for(var E=c,R=!1;E!==null;){if(!R){if((E.flags&524288)!==0)R=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var V=E.alternate;if(V===null)throw Error(a(387));if(V=V.memoizedProps,V!==null){var $=E.type;xi(E.pendingProps.value,V.value)||(l!==null?l.push($):l=[$])}}else if(E===Zu.current){if(V=E.alternate,V===null)throw Error(a(387));V.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(l!==null?l.push(Dl):l=[Dl])}E=E.return}l!==null&&vt(c,l,g,b),c.flags|=262144}function At(l){for(l=l.firstContext;l!==null;){var c=l.context;if(!xi(vi?c._currentValue:c._currentValue2,l.memoizedValue))return!0;l=l.next}return!1}function Fe(l){qn=l,tr=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function W(l){return se(qn,l)}function O(l,c){return qn===null&&Fe(l),se(l,c)}function se(l,c){var g=vi?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:g,next:null},tr===null){if(l===null)throw Error(a(308));tr=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else tr=tr.next=c;return g}function Me(){return{controller:new pv,data:new Map,refCount:0}}function Ue(l){l.refCount--,l.refCount===0&&Ji($x,function(){l.controller.abort()})}function Te(){}function ut(l){l!==Pn&&l.next===null&&(Pn===null?Ku=Pn=l:Pn=Pn.next=l),Ua=!0,ms||(ms=!0,ft())}function Ze(l,c){if(!Bh&&Ua){Bh=!0;do for(var g=!1,b=Ku;b!==null;){if(l!==0){var E=b.pendingLanes;if(E===0)var R=0;else{var V=b.suspendedLanes,$=b.pingedLanes;R=(1<<31-Fs(42|l)+1)-1,R&=E&~(V&~$),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(g=!0,dt(b,R))}else R=gn,R=M(b,b===on?R:0,b.cancelPendingCommit!==null||b.timeoutHandle!==Bs),(R&3)===0||N(b,R)||(g=!0,dt(b,R));b=b.next}while(g);Bh=!1}}function xt(){Ct()}function Ct(){Ua=ms=!1;var l=0;Ho!==0&&Rl()&&(l=Ho);for(var c=ps(),g=null,b=Ku;b!==null;){var E=b.next,R=je(b,c);R===0?(b.next=null,g===null?Ku=E:g.next=E,E===null&&(Pn=g)):(g=b,(l!==0||(R&3)!==0)&&(Ua=!0)),b=E}Li!==0&&Li!==5||Ze(l),Ho!==0&&(Ho=0)}function je(l,c){for(var g=l.suspendedLanes,b=l.pingedLanes,E=l.expirationTimes,R=l.pendingLanes&-62914561;0<R;){var V=31-Fs(R),$=1<<V,Re=E[V];Re===-1?(($&g)===0||($&b)!==0)&&(E[V]=D($,c)):Re<=c&&(l.expiredLanes|=$),R&=~$}if(c=on,g=gn,g=M(l,l===c?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==Bs),b=l.callbackNode,g===0||l===c&&(On===2||On===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&Lh(b),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||N(l,g)){if(c=g&-g,c===l.callbackPriority)return c;switch(b!==null&&Lh(b),ie(g)){case 2:case 8:g=hv;break;case 32:g=Xu;break;case 268435456:g=Ph;break;default:g=Xu}return b=Qe.bind(null,l),g=Wu(g,b),l.callbackPriority=c,l.callbackNode=g,c}return b!==null&&b!==null&&Lh(b),l.callbackPriority=2,l.callbackNode=null,2}function Qe(l,c){if(Li!==0&&Li!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(Mr()&&l.callbackNode!==g)return null;var b=gn;return b=M(l,l===on?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==Bs),b===0?null:($a(l,b,c),je(l,ps()),l.callbackNode!=null&&l.callbackNode===g?Qe.bind(null,l):null)}function dt(l,c){if(Mr())return null;$a(l,c,!0)}function ft(){Up?Op(function(){(hn&6)!==0?Wu(Ih,xt):Ct()}):Wu(Ih,xt)}function st(){if(Ho===0){var l=so;l===0&&(l=Dh,Dh<<=1,(Dh&261888)===0&&(Dh=256)),Ho=l}return Ho}function Yt(l,c){if(Dc===null){var g=Dc=[];um=0,so=st(),Hi={status:"pending",value:void 0,then:function(b){g.push(b)}}}return um++,c.then(te,te),c}function te(){if(--um===0&&Dc!==null){Hi!==null&&(Hi.status="fulfilled");var l=Dc;Dc=null,so=0,Hi=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function rt(l,c){var g=[],b={status:"pending",value:null,reason:null,then:function(E){g.push(E)}};return l.then(function(){b.status="fulfilled",b.value=c;for(var E=0;E<g.length;E++)(0,g[E])(c)},function(E){for(b.status="rejected",b.reason=E,E=0;E<g.length;E++)(0,g[E])(void 0)}),b}function Ke(){var l=Go.current;return l!==null?l:on.pooledCache}function ot(l,c){c===null?T(Go,Go.current):T(Go,c.pool)}function ke(){var l=Ke();return l===null?null:{parent:vi?ii._currentValue:ii._currentValue2,pool:l}}function ge(l,c){if(xi(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var g=Object.keys(l),b=Object.keys(c);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var E=g[b];if(!Jx.call(c,E)||!xi(l[E],c[E]))return!1}return!0}function Ve(l){return l=l.status,l==="fulfilled"||l==="rejected"}function St(l,c,g){switch(g=l[g],g===void 0?l.push(c):g!==c&&(c.then(Te,Te),c=g),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,xn(l),l;default:if(typeof c.status=="string")c.then(Te,Te);else{if(l=on,l!==null&&100<l.shellSuspendCounter)throw Error(a(482));l=c,l.status="pending",l.then(function(b){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=b}},function(b){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,xn(l),l}throw Cs=c,Gi}}function kt(l){try{var c=l._init;return c(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(Cs=g,Gi):g}}function cn(){if(Cs===null)throw Error(a(459));var l=Cs;return Cs=null,l}function xn(l){if(l===Gi||l===za)throw Error(a(483))}function Gn(l){var c=Ol;return Ol+=1,jo===null&&(jo=[]),St(jo,l,c)}function Js(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function Ei(l,c){throw c.$$typeof===wl?Error(a(525)):(l=Object.prototype.toString.call(c),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function Oi(l){function c(be,fe){if(l){var we=be.deletions;we===null?(be.deletions=[fe],be.flags|=16):we.push(fe)}}function g(be,fe){if(!l)return null;for(;fe!==null;)c(be,fe),fe=fe.sibling;return null}function b(be){for(var fe=new Map;be!==null;)be.key!==null?fe.set(be.key,be):fe.set(be.index,be),be=be.sibling;return fe}function E(be,fe){return be=ra(be,fe),be.index=0,be.sibling=null,be}function R(be,fe,we){return be.index=we,l?(we=be.alternate,we!==null?(we=we.index,we<fe?(be.flags|=67108866,fe):we):(be.flags|=67108866,fe)):(be.flags|=1048576,fe)}function V(be){return l&&be.alternate===null&&(be.flags|=67108866),be}function $(be,fe,we,tt){return fe===null||fe.tag!==6?(fe=wp(we,be.mode,tt),fe.return=be,fe):(fe=E(fe,we),fe.return=be,fe)}function Re(be,fe,we,tt){var Ot=we.type;return Ot===El?it(be,fe,we.props.children,tt,we.key):fe!==null&&(fe.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ts&&kt(Ot)===fe.type)?(fe=E(fe,we.props),Js(fe,we),fe.return=be,fe):(fe=Qr(we.type,we.key,we.props,null,be.mode,tt),Js(fe,we),fe.return=be,fe)}function He(be,fe,we,tt){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==we.containerInfo||fe.stateNode.implementation!==we.implementation?(fe=Ep(we,be.mode,tt),fe.return=be,fe):(fe=E(fe,we.children||[]),fe.return=be,fe)}function it(be,fe,we,tt,Ot){return fe===null||fe.tag!==7?(fe=Ca(we,be.mode,tt,Ot),fe.return=be,fe):(fe=E(fe,we),fe.return=be,fe)}function qe(be,fe,we){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=wp(""+fe,be.mode,we),fe.return=be,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case wr:return we=Qr(fe.type,fe.key,fe.props,null,be.mode,we),Js(we,fe),we.return=be,we;case Tl:return fe=Ep(fe,be.mode,we),fe.return=be,fe;case Ts:return fe=kt(fe),qe(be,fe,we)}if(Bo(fe)||y(fe))return fe=Ca(fe,be.mode,we,null),fe.return=be,fe;if(typeof fe.then=="function")return qe(be,Gn(fe),we);if(fe.$$typeof===Ra)return qe(be,O(be,fe),we);Ei(be,fe)}return null}function gt(be,fe,we,tt){var Ot=fe!==null?fe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Ot!==null?null:$(be,fe,""+we,tt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case wr:return we.key===Ot?Re(be,fe,we,tt):null;case Tl:return we.key===Ot?He(be,fe,we,tt):null;case Ts:return we=kt(we),gt(be,fe,we,tt)}if(Bo(we)||y(we))return Ot!==null?null:it(be,fe,we,tt,null);if(typeof we.then=="function")return gt(be,fe,Gn(we),tt);if(we.$$typeof===Ra)return gt(be,fe,O(be,we),tt);Ei(be,we)}return null}function Qt(be,fe,we,tt,Ot){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return be=be.get(we)||null,$(fe,be,""+tt,Ot);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case wr:return be=be.get(tt.key===null?we:tt.key)||null,Re(fe,be,tt,Ot);case Tl:return be=be.get(tt.key===null?we:tt.key)||null,He(fe,be,tt,Ot);case Ts:return tt=kt(tt),Qt(be,fe,we,tt,Ot)}if(Bo(tt)||y(tt))return be=be.get(we)||null,it(fe,be,tt,Ot,null);if(typeof tt.then=="function")return Qt(be,fe,we,Gn(tt),Ot);if(tt.$$typeof===Ra)return Qt(be,fe,we,O(fe,tt),Ot);Ei(fe,tt)}return null}function Si(be,fe,we,tt){for(var Ot=null,fi=null,Ft=fe,Mn=fe=0,$i=null;Ft!==null&&Mn<we.length;Mn++){Ft.index>Mn?($i=Ft,Ft=null):$i=Ft.sibling;var Cn=gt(be,Ft,we[Mn],tt);if(Cn===null){Ft===null&&(Ft=$i);break}l&&Ft&&Cn.alternate===null&&c(be,Ft),fe=R(Cn,fe,Mn),fi===null?Ot=Cn:fi.sibling=Cn,fi=Cn,Ft=$i}if(Mn===we.length)return g(be,Ft),mn&&Ce(be,Mn),Ot;if(Ft===null){for(;Mn<we.length;Mn++)Ft=qe(be,we[Mn],tt),Ft!==null&&(fe=R(Ft,fe,Mn),fi===null?Ot=Ft:fi.sibling=Ft,fi=Ft);return mn&&Ce(be,Mn),Ot}for(Ft=b(Ft);Mn<we.length;Mn++)$i=Qt(Ft,be,Mn,we[Mn],tt),$i!==null&&(l&&$i.alternate!==null&&Ft.delete($i.key===null?Mn:$i.key),fe=R($i,fe,Mn),fi===null?Ot=$i:fi.sibling=$i,fi=$i);return l&&Ft.forEach(function(ka){return c(be,ka)}),mn&&Ce(be,Mn),Ot}function Fc(be,fe,we,tt){if(we==null)throw Error(a(151));for(var Ot=null,fi=null,Ft=fe,Mn=fe=0,$i=null,Cn=we.next();Ft!==null&&!Cn.done;Mn++,Cn=we.next()){Ft.index>Mn?($i=Ft,Ft=null):$i=Ft.sibling;var ka=gt(be,Ft,Cn.value,tt);if(ka===null){Ft===null&&(Ft=$i);break}l&&Ft&&ka.alternate===null&&c(be,Ft),fe=R(ka,fe,Mn),fi===null?Ot=ka:fi.sibling=ka,fi=ka,Ft=$i}if(Cn.done)return g(be,Ft),mn&&Ce(be,Mn),Ot;if(Ft===null){for(;!Cn.done;Mn++,Cn=we.next())Cn=qe(be,Cn.value,tt),Cn!==null&&(fe=R(Cn,fe,Mn),fi===null?Ot=Cn:fi.sibling=Cn,fi=Cn);return mn&&Ce(be,Mn),Ot}for(Ft=b(Ft);!Cn.done;Mn++,Cn=we.next())Cn=Qt(Ft,be,Mn,Cn.value,tt),Cn!==null&&(l&&Cn.alternate!==null&&Ft.delete(Cn.key===null?Mn:Cn.key),fe=R(Cn,fe,Mn),fi===null?Ot=Cn:fi.sibling=Cn,fi=Cn);return l&&Ft.forEach(function(eb){return c(be,eb)}),mn&&Ce(be,Mn),Ot}function Jo(be,fe,we,tt){if(typeof we=="object"&&we!==null&&we.type===El&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case wr:e:{for(var Ot=we.key;fe!==null;){if(fe.key===Ot){if(Ot=we.type,Ot===El){if(fe.tag===7){g(be,fe.sibling),tt=E(fe,we.props.children),tt.return=be,be=tt;break e}}else if(fe.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ts&&kt(Ot)===fe.type){g(be,fe.sibling),tt=E(fe,we.props),Js(tt,we),tt.return=be,be=tt;break e}g(be,fe);break}else c(be,fe);fe=fe.sibling}we.type===El?(tt=Ca(we.props.children,be.mode,tt,we.key),tt.return=be,be=tt):(tt=Qr(we.type,we.key,we.props,null,be.mode,tt),Js(tt,we),tt.return=be,be=tt)}return V(be);case Tl:e:{for(Ot=we.key;fe!==null;){if(fe.key===Ot)if(fe.tag===4&&fe.stateNode.containerInfo===we.containerInfo&&fe.stateNode.implementation===we.implementation){g(be,fe.sibling),tt=E(fe,we.children||[]),tt.return=be,be=tt;break e}else{g(be,fe);break}else c(be,fe);fe=fe.sibling}tt=Ep(we,be.mode,tt),tt.return=be,be=tt}return V(be);case Ts:return we=kt(we),Jo(be,fe,we,tt)}if(Bo(we))return Si(be,fe,we,tt);if(y(we)){if(Ot=y(we),typeof Ot!="function")throw Error(a(150));return we=Ot.call(we),Fc(be,fe,we,tt)}if(typeof we.then=="function")return Jo(be,fe,Gn(we),tt);if(we.$$typeof===Ra)return Jo(be,fe,O(be,we),tt);Ei(be,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,fe!==null&&fe.tag===6?(g(be,fe.sibling),tt=E(fe,we),tt.return=be,be=tt):(g(be,fe),tt=wp(we,be.mode,tt),tt.return=be,be=tt),V(be)):g(be,fe)}return function(be,fe,we,tt){try{Ol=0;var Ot=Jo(be,fe,we,tt);return jo=null,Ot}catch(Ft){if(Ft===Gi||Ft===za)throw Ft;var fi=t(29,Ft,null,be.mode);return fi.lanes=tt,fi.return=be,fi}finally{}}}function Ka(){for(var l=Nr,c=zl=Nr=0;c<l;){var g=ls[c];ls[c++]=null;var b=ls[c];ls[c++]=null;var E=ls[c];ls[c++]=null;var R=ls[c];if(ls[c++]=null,b!==null&&E!==null){var V=b.pending;V===null?E.next=E:(E.next=V.next,V.next=E),b.pending=E}R!==0&&$s(g,E,R)}}function is(l,c,g,b){ls[Nr++]=l,ls[Nr++]=c,ls[Nr++]=g,ls[Nr++]=b,zl|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function So(l,c,g,b){return is(l,c,g,b),si(l)}function hs(l,c){return is(l,null,null,c),si(l)}function $s(l,c,g){l.lanes|=g;var b=l.alternate;b!==null&&(b.lanes|=g);for(var E=!1,R=l.return;R!==null;)R.childLanes|=g,b=R.alternate,b!==null&&(b.childLanes|=g),R.tag===22&&(l=R.stateNode,l===null||l._visibility&1||(E=!0)),l=R,R=R.return;return l.tag===3?(R=l.stateNode,E&&c!==null&&(E=31-Fs(g),l=R.hiddenUpdates,b=l[E],b===null?l[E]=[c]:b.push(c),c.lane=g|536870912),R):null}function si(l){if(50<An)throw An=0,nf=null,Error(a(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}function zi(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ea(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function ta(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function na(l,c,g){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(hn&2)!==0){var E=b.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),b.pending=c,c=si(l),$s(l,null,g),c}return is(l,b,c,g),si(l)}function Mo(l,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194048)!==0)){var b=c.lanes;b&=l.pendingLanes,g|=b,c.lanes=g,U(l,g)}}function dl(l,c){var g=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var E=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var V={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};R===null?E=R=V:R=R.next=V,g=g.next}while(g!==null);R===null?E=R=c:R=R.next=c}else E=R=c;g={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:b.shared,callbacks:b.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=c:l.next=c,g.lastBaseUpdate=c}function Qa(){if(kh){var l=Hi;if(l!==null)throw l}}function Hr(l,c,g,b){kh=!1;var E=l.updateQueue;ca=!1;var R=E.firstBaseUpdate,V=E.lastBaseUpdate,$=E.shared.pending;if($!==null){E.shared.pending=null;var Re=$,He=Re.next;Re.next=null,V===null?R=He:V.next=He,V=Re;var it=l.alternate;it!==null&&(it=it.updateQueue,$=it.lastBaseUpdate,$!==V&&($===null?it.firstBaseUpdate=He:$.next=He,it.lastBaseUpdate=Re))}if(R!==null){var qe=E.baseState;V=0,it=He=Re=null,$=R;do{var gt=$.lane&-536870913,Qt=gt!==$.lane;if(Qt?(gn&gt)===gt:(b&gt)===gt){gt!==0&&gt===so&&(kh=!0),it!==null&&(it=it.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Si=l,Fc=$;gt=c;var Jo=g;switch(Fc.tag){case 1:if(Si=Fc.payload,typeof Si=="function"){qe=Si.call(Jo,qe,gt);break e}qe=Si;break e;case 3:Si.flags=Si.flags&-65537|128;case 0:if(Si=Fc.payload,gt=typeof Si=="function"?Si.call(Jo,qe,gt):Si,gt==null)break e;qe=ph({},qe,gt);break e;case 2:ca=!0}}gt=$.callback,gt!==null&&(l.flags|=64,Qt&&(l.flags|=8192),Qt=E.callbacks,Qt===null?E.callbacks=[gt]:Qt.push(gt))}else Qt={lane:gt,tag:$.tag,payload:$.payload,callback:$.callback,next:null},it===null?(He=it=Qt,Re=qe):it=it.next=Qt,V|=gt;if($=$.next,$===null){if($=E.shared.pending,$===null)break;Qt=$,$=Qt.next,Qt.next=null,E.lastBaseUpdate=Qt,E.shared.pending=null}}while(!0);it===null&&(Re=qe),E.baseState=Re,E.firstBaseUpdate=He,E.lastBaseUpdate=it,R===null&&(E.shared.lanes=0),ro|=V,l.lanes=V,l.memoizedState=qe}}function Gr(l,c){if(typeof l!="function")throw Error(a(191,l));l.call(c)}function jr(l,c){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)Gr(g[l],c)}function wo(l,c){l=Lr,T(Wo,l),T(Bl,c),Lr=l|c.baseLanes}function fr(){T(Wo,Lr),T(Bl,Bl.current)}function H(){Lr=Wo.current,S(Bl),S(Wo)}function ae(l){var c=l.alternate;T(pi,pi.current&1),T(Vs,l),Hs===null&&(c===null||Bl.current!==null||c.memoizedState!==null)&&(Hs=l)}function Se(l){T(pi,pi.current),T(Vs,l),Hs===null&&(Hs=l)}function xe(l){l.tag===22?(T(pi,pi.current),T(Vs,l),Hs===null&&(Hs=l)):ue()}function ue(){T(pi,pi.current),T(Vs,Vs.current)}function et(l){S(Vs),Hs===l&&(Hs=null),S(pi)}function mt(l){for(var c=l;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||ko(g)||Sh(g)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Ye(){throw Error(a(321))}function bt(l,c){if(c===null)return!1;for(var g=0;g<c.length&&g<l.length;g++)if(!xi(l[g],c[g]))return!1;return!0}function Mt(l,c,g,b,E,R){return ao=R,$t=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Pt.H=l===null||l.memoizedState===null?li:Dr,bn=!1,R=g(b,E),bn=!1,nn&&(R=Tt(c,g,b,E)),It(l),R}function It(l){Pt.H=ua;var c=Nt!==null&&Nt.next!==null;if(ao=0,Wt=Nt=$t=null,rn=!1,Ba=0,nr=null,c)throw Error(a(300));l===null||Jn||(l=l.dependencies,l!==null&&At(l)&&(Jn=!0))}function Tt(l,c,g,b){$t=l;var E=0;do{if(nn&&(nr=null),Ba=0,nn=!1,25<=E)throw Error(a(301));if(E+=1,Wt=Nt=null,l.updateQueue!=null){var R=l.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}Pt.H=Xo,R=c(g,b)}while(nn);return R}function Bt(){var l=Pt.H,c=l.useState()[0];return c=typeof c.then=="function"?Vt(c):c,l=l.useState()[0],(Nt!==null?Nt.memoizedState:null)!==l&&($t.flags|=1024),c}function En(){var l=gs!==0;return gs=0,l}function jn(l,c,g){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~g}function Fn(l){if(rn){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}rn=!1}ao=0,Wt=Nt=$t=null,nn=!1,Ba=gs=0,nr=null}function Kt(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?$t.memoizedState=Wt=l:Wt=Wt.next=l,Wt}function ct(){if(Nt===null){var l=$t.alternate;l=l!==null?l.memoizedState:null}else l=Nt.next;var c=Wt===null?$t.memoizedState:Wt.next;if(c!==null)Wt=c,Nt=l;else{if(l===null)throw $t.alternate===null?Error(a(467)):Error(a(310));Nt=l,l={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Wt===null?$t.memoizedState=Wt=l:Wt=Wt.next=l}return Wt}function Sn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vt(l){var c=Ba;return Ba+=1,nr===null&&(nr=[]),l=St(nr,l,c),c=$t,(Wt===null?c.memoizedState:Wt.next)===null&&(c=c.alternate,Pt.H=c===null||c.memoizedState===null?li:Dr),l}function Ai(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Vt(l);if(l.$$typeof===Ra)return W(l)}throw Error(a(438,String(l)))}function Ja(l){var c=null,g=$t.updateQueue;if(g!==null&&(c=g.memoCache),c==null){var b=$t.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),g===null&&(g=Sn(),$t.updateQueue=g),g.memoCache=c,g=c.data[c.index],g===void 0)for(g=c.data[c.index]=Array(l),b=0;b<l;b++)g[b]=Cp;return c.index++,g}function Qn(l,c){return typeof c=="function"?c(l):c}function _s(l){var c=ct();return Rn(c,Nt,l)}function Rn(l,c,g){var b=l.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=g;var E=l.baseQueue,R=b.pending;if(R!==null){if(E!==null){var V=E.next;E.next=R.next,R.next=V}c.baseQueue=E=R,b.pending=null}if(R=l.baseState,E===null)l.memoizedState=R;else{c=E.next;var $=V=null,Re=null,He=c,it=!1;do{var qe=He.lane&-536870913;if(qe!==He.lane?(gn&qe)===qe:(ao&qe)===qe){var gt=He.revertLane;if(gt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),qe===so&&(it=!0);else if((ao&gt)===gt){He=He.next,gt===so&&(it=!0);continue}else qe={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Re===null?($=Re=qe,V=R):Re=Re.next=qe,$t.lanes|=gt,ro|=gt;qe=He.action,bn&&g(R,qe),R=He.hasEagerState?He.eagerState:g(R,qe)}else gt={lane:qe,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Re===null?($=Re=gt,V=R):Re=Re.next=gt,$t.lanes|=qe,ro|=qe;He=He.next}while(He!==null&&He!==c);if(Re===null?V=R:Re.next=$,!xi(R,l.memoizedState)&&(Jn=!0,it&&(g=Hi,g!==null)))throw g;l.memoizedState=R,l.baseState=V,l.baseQueue=Re,b.lastRenderedState=R}return E===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function Bi(l){var c=ct(),g=c.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=l;var b=g.dispatch,E=g.pending,R=c.memoizedState;if(E!==null){g.pending=null;var V=E=E.next;do R=l(R,V.action),V=V.next;while(V!==E);xi(R,c.memoizedState)||(Jn=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),g.lastRenderedState=R}return[R,b]}function Ci(l,c,g){var b=$t,E=ct(),R=mn;if(R){if(g===void 0)throw Error(a(407));g=g()}else g=c();var V=!xi((Nt||E).memoizedState,g);if(V&&(E.memoizedState=g,Jn=!0),E=E.queue,ac(pl.bind(null,b,E,l),[l]),E.getSnapshot!==c||V||Wt!==null&&Wt.memoizedState.tag&1){if(b.flags|=2048,ia(9,{destroy:void 0},qi.bind(null,b,E,g,c),null),on===null)throw Error(a(349));R||(ao&127)!==0||Xi(b,c,g)}return g}function Xi(l,c,g){l.flags|=16384,l={getSnapshot:c,value:g},c=$t.updateQueue,c===null?(c=Sn(),$t.updateQueue=c,c.stores=[l]):(g=c.stores,g===null?c.stores=[l]:g.push(l))}function qi(l,c,g,b){c.value=g,c.getSnapshot=b,Sa(c)&&Y0(l)}function pl(l,c,g){return g(function(){Sa(c)&&Y0(l)})}function Sa(l){var c=l.getSnapshot;l=l.value;try{var g=c();return!xi(l,g)}catch{return!0}}function Y0(l){var c=hs(l,2);c!==null&&ri(c,l,2)}function $d(l){var c=Kt();if(typeof l=="function"){var g=l;if(l=g(),bn){ee(!0);try{g()}finally{ee(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:l},c}function yu(l,c,g,b){return l.baseState=g,Rn(l,Nt,typeof b=="function"?b:Qn)}function Wr(l,c,g,b,E){if(Yf(l))throw Error(a(485));if(l=c.action,l!==null){var R={payload:E,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){R.listeners.push(V)}};Pt.T!==null?g(!0):R.isTransition=!1,b(R),g=c.pending,g===null?(R.next=c.pending=R,Vf(c,R)):(R.next=g.next,c.pending=g.next=R)}}function Vf(l,c){var g=c.action,b=c.payload,E=l.state;if(c.isTransition){var R=Pt.T,V={};Pt.T=V;try{var $=g(E,b),Re=Pt.S;Re!==null&&Re(V,$),Hf(l,c,$)}catch(He){To(l,c,He)}finally{R!==null&&V.types!==null&&(R.types=V.types),Pt.T=R}}else try{R=g(E,b),Hf(l,c,R)}catch(He){To(l,c,He)}}function Hf(l,c,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){ml(l,c,b)},function(b){return To(l,c,b)}):ml(l,c,g)}function ml(l,c,g){c.status="fulfilled",c.value=g,ep(c),l.state=g,c=l.pending,c!==null&&(g=c.next,g===c?l.pending=null:(g=g.next,c.next=g,Vf(l,g)))}function To(l,c,g){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=g,ep(c),c=c.next;while(c!==b)}l.action=null}function ep(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function Gf(l,c){return c}function tp(l,c){if(mn){var g=on.formState;if(g!==null){e:{var b=$t;if(mn){if(ni){var E=Hg(ni,As);if(E){ni=Gg(E),b=qp(E);break e}}nt(b)}b=!1}b&&(c=g[0])}}g=Kt(),g.memoizedState=g.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:c},g.queue=b,g=eg.bind(null,$t,b),b.dispatch=g,b=$d(!1);var R=qf.bind(null,$t,!1,b.queue);return b=Kt(),E={state:c,dispatch:null,action:l,pending:null},b.queue=E,g=Wr.bind(null,$t,E,R,g),E.dispatch=g,b.memoizedState=l,[c,g,!1]}function ic(l){var c=ct();return hr(c,Nt,l)}function hr(l,c,g){if(c=Rn(l,c,Gf)[0],l=_s(Qn)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=Vt(c)}catch(V){throw V===Gi?za:V}else b=c;c=ct();var E=c.queue,R=E.dispatch;return g!==c.memoizedState&&($t.flags|=2048,ia(9,{destroy:void 0},np.bind(null,E,g),null)),[b,R,l]}function np(l,c){l.action=c}function sc(l){var c=ct(),g=Nt;if(g!==null)return hr(c,g,l);ct(),c=c.memoizedState,g=ct();var b=g.queue.dispatch;return g.memoizedState=l,[c,b,!1]}function ia(l,c,g,b){return l={tag:l,create:g,deps:b,inst:c,next:null},c=$t.updateQueue,c===null&&(c=Sn(),$t.updateQueue=c),g=c.lastEffect,g===null?c.lastEffect=l.next=l:(b=g.next,g.next=l,l.next=b,c.lastEffect=l),l}function jf(){return ct().memoizedState}function gl(l,c,g,b){var E=Kt();$t.flags|=l,E.memoizedState=ia(1|c,{destroy:void 0},g,b===void 0?null:b)}function xu(l,c,g,b){var E=ct();b=b===void 0?null:b;var R=E.memoizedState.inst;Nt!==null&&b!==null&&bt(b,Nt.memoizedState.deps)?E.memoizedState=ia(c,R,g,b):($t.flags|=l,E.memoizedState=ia(1|c,R,g,b))}function bu(l,c){gl(8390656,8,l,c)}function ac(l,c){xu(2048,8,l,c)}function Z0(l){$t.flags|=4;var c=$t.updateQueue;if(c===null)c=Sn(),$t.updateQueue=c,c.events=[l];else{var g=c.events;g===null?c.events=[l]:g.push(l)}}function Ss(l){var c=ct().memoizedState;return Z0({ref:c,nextImpl:l}),function(){if((hn&2)!==0)throw Error(a(440));return c.impl.apply(void 0,arguments)}}function Eo(l,c){return xu(4,2,l,c)}function _u(l,c){return xu(4,4,l,c)}function rc(l,c){if(typeof c=="function"){l=l();var g=c(l);return function(){typeof g=="function"?g():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function K0(l,c,g){g=g!=null?g.concat([l]):null,xu(4,4,rc.bind(null,c,l),g)}function Su(){}function Wf(l,c){var g=ct();c=c===void 0?null:c;var b=g.memoizedState;return c!==null&&bt(c,b[1])?b[0]:(g.memoizedState=[l,c],l)}function oc(l,c){var g=ct();c=c===void 0?null:c;var b=g.memoizedState;if(c!==null&&bt(c,b[1]))return b[0];if(b=l(),bn){ee(!0);try{l()}finally{ee(!1)}}return g.memoizedState=[b,c],b}function lc(l,c,g){return g===void 0||(ao&1073741824)!==0&&(gn&261930)===0?l.memoizedState=c:(l.memoizedState=g,l=Yr(),$t.lanes|=l,ro|=l,g)}function ip(l,c,g,b){return xi(g,c)?g:Bl.current!==null?(l=lc(l,g,b),xi(l,c)||(Jn=!0),l):(ao&42)===0||(ao&1073741824)!==0&&(gn&261930)===0?(Jn=!0,l.memoizedState=g):(l=Yr(),$t.lanes|=l,ro|=l,c)}function Q0(l,c,g,b,E){var R=Na();pn(R!==0&&8>R?R:8);var V=Pt.T,$={};Pt.T=$,qf(l,!1,c,g);try{var Re=E(),He=Pt.S;if(He!==null&&He($,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var it=rt(Re,b);Mu(l,c,it,ei(l))}else Mu(l,c,b,ei(l))}catch(qe){Mu(l,c,{then:function(){},status:"rejected",reason:qe},ei())}finally{pn(R),V!==null&&$.types!==null&&(V.types=$.types),Pt.T=V}}function J0(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:Nl,baseState:Nl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:Nl},next:null};var g={};return c.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:g},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function sp(){return W(Dl)}function Xf(){return ct().memoizedState}function $0(){return ct().memoizedState}function Hx(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var g=ei();l=ta(g);var b=na(c,l,g);b!==null&&(ri(b,c,g),Mo(b,c,g)),c={cache:Me()},l.payload=c;return}c=c.return}}function Gx(l,c,g){var b=ei();g={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Yf(l)?tg(c,g):(g=So(l,c,g,b),g!==null&&(ri(g,l,b),ng(g,c,b)))}function eg(l,c,g){var b=ei();Mu(l,c,g,b)}function Mu(l,c,g,b){var E={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Yf(l))tg(c,E);else{var R=l.alternate;if(l.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var V=c.lastRenderedState,$=R(V,g);if(E.hasEagerState=!0,E.eagerState=$,xi($,V))return is(l,c,E,0),on===null&&Ka(),!1}catch{}finally{}if(g=So(l,c,E,b),g!==null)return ri(g,l,b),ng(g,c,b),!0}return!1}function qf(l,c,g,b){if(b={lane:2,revertLane:st(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Yf(l)){if(c)throw Error(a(479))}else c=So(l,g,b,2),c!==null&&ri(c,l,2)}function Yf(l){var c=l.alternate;return l===$t||c!==null&&c===$t}function tg(l,c){nn=rn=!0;var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}function ng(l,c,g){if((g&4194048)!==0){var b=c.lanes;b&=l.pendingLanes,g|=b,c.lanes=g,U(l,g)}}function ap(l,c,g,b){c=l.memoizedState,g=g(b,c),g=g==null?c:ph({},c,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}function Zf(l,c,g,b,E,R,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,R,V):c.prototype&&c.prototype.isPureReactComponent?!ge(g,b)||!ge(E,R):!0}function ig(l,c,g,b){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,b),c.state!==l&&Qu.enqueueReplaceState(c,c.state,null)}function vl(l,c){var g=c;if("ref"in c){g={};for(var b in c)b!=="ref"&&(g[b]=c[b])}if(l=l.defaultProps){g===c&&(g=ph({},g));for(var E in l)g[E]===void 0&&(g[E]=l[E])}return g}function Kf(l,c){try{var g=l.onUncaughtError;g(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function rp(l,c,g){try{var b=l.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function op(l,c,g){return g=ta(g),g.tag=3,g.payload={element:null},g.callback=function(){Kf(l,c)},g}function sg(l){return l=ta(l),l.tag=3,l}function ag(l,c,g,b){var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var R=b.value;l.payload=function(){return E(R)},l.callback=function(){rp(c,g,b)}}var V=g.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){rp(c,g,b),typeof E!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var $=b.stack;this.componentDidCatch(b.value,{componentStack:$!==null?$:""})})}function jx(l,c,g,b,E){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=g.alternate,c!==null&&at(c,g,E,!0),g=Vs.current,g!==null){switch(g.tag){case 31:case 13:return Hs===null?xc():g.alternate===null&&ui===0&&(ui=3),g.flags&=-257,g.flags|=65536,g.lanes=E,b===Rr?g.flags|=16384:(c=g.updateQueue,c===null?g.updateQueue=new Set([b]):c.add(b),Sc(l,b,E)),!1;case 22:return g.flags|=65536,b===Rr?g.flags|=16384:(c=g.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=c):(g=c.retryQueue,g===null?c.retryQueue=new Set([b]):g.add(b)),Sc(l,b,E)),!1}throw Error(a(435,g.tag))}return Sc(l,b,E),xc(),!1}if(mn)return c=Vs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,b!==zh&&(l=Error(a(422),{cause:b}),We(Ee(l,g)))):(b!==zh&&(c=Error(a(423),{cause:b}),We(Ee(c,g))),l=l.current.alternate,l.flags|=65536,E&=-E,l.lanes|=E,b=Ee(b,g),E=op(l.stateNode,b,E),dl(l,E),ui!==4&&(ui=2)),!1;var R=Error(a(520),{cause:b});if(R=Ee(R,g),$u===null?$u=[R]:$u.push(R),ui!==4&&(ui=2),c===null)return!0;b=Ee(b,g),g=c;do{switch(g.tag){case 3:return g.flags|=65536,l=E&-E,g.lanes|=l,l=op(g.stateNode,b,l),dl(g,l),!1;case 1:if(c=g.type,R=g.stateNode,(g.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(oo===null||!oo.has(R))))return g.flags|=65536,E&=-E,g.lanes|=E,E=sg(E),ag(E,l,g,b),dl(g,E),!1}g=g.return}while(g!==null);return!1}function ss(l,c,g,b){c.child=l===null?fm(c,null,g,b):os(c,l.child,g,b)}function rg(l,c,g,b,E){g=g.render;var R=c.ref;if("ref"in b){var V={};for(var $ in b)$!=="ref"&&(V[$]=b[$])}else V=b;return Fe(c),b=Mt(l,c,g,V,R,E),$=En(),l!==null&&!Jn?(jn(l,c,E),dr(l,c,E)):(mn&&$&&re(c),c.flags|=1,ss(l,c,b,E),c.child)}function og(l,c,g,b,E){if(l===null){var R=g.type;return typeof R=="function"&&!Sl(R)&&R.defaultProps===void 0&&g.compare===null?(c.tag=15,c.type=R,lg(l,c,R,b,E)):(l=Qr(g.type,null,b,c,c.mode,E),l.ref=c.ref,l.return=c,c.child=l)}if(R=l.child,!Tu(l,E)){var V=R.memoizedProps;if(g=g.compare,g=g!==null?g:ge,g(V,b)&&l.ref===c.ref)return dr(l,c,E)}return c.flags|=1,l=ra(R,b),l.ref=c.ref,l.return=c,c.child=l}function lg(l,c,g,b,E){if(l!==null){var R=l.memoizedProps;if(ge(R,b)&&l.ref===c.ref)if(Jn=!1,c.pendingProps=b=R,Tu(l,E))(l.flags&131072)!==0&&(Jn=!0);else return c.lanes=l.lanes,dr(l,c,E)}return Jf(l,c,g,b,E)}function cg(l,c,g,b){var E=b.children,R=l!==null?l.memoizedState:null;if(l===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((c.flags&128)!==0){if(R=R!==null?R.baseLanes|g:g,l!==null){for(b=c.child=l.child,E=0;b!==null;)E=E|b.lanes|b.childLanes,b=b.sibling;b=E&~R}else b=0,c.child=null;return cc(l,c,R,g,b)}if((g&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&ot(c,R!==null?R.cachePool:null),R!==null?wo(c,R):fr(),xe(c);else return b=c.lanes=536870912,cc(l,c,R!==null?R.baseLanes|g:g,g,b)}else R!==null?(ot(c,R.cachePool),wo(c,R),ue(),c.memoizedState=null):(l!==null&&ot(c,null),fr(),ue());return ss(l,c,E,g),c.child}function yl(l,c){return l!==null&&l.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function cc(l,c,g,b,E){var R=Ke();return R=R===null?null:{parent:vi?ii._currentValue:ii._currentValue2,pool:R},c.memoizedState={baseLanes:g,cachePool:R},l!==null&&ot(c,null),fr(),xe(c),l!==null&&at(l,c,b,!0),c.childLanes=E,null}function Qf(l,c){return c=Ao({mode:c.mode,children:c.children},l.mode),c.ref=l.ref,l.child=c,c.return=l,c}function lp(l,c,g){return os(c,l.child,null,g),l=Qf(c,c.pendingProps),l.flags|=2,et(c),c.memoizedState=null,l}function ug(l,c,g){var b=c.pendingProps,E=(c.flags&128)!==0;if(c.flags&=-129,l===null){if(mn){if(b.mode==="hidden")return l=Qf(c,b),c.lanes=536870912,yl(null,l);if(Se(c),(l=ni)?(l=Zp(l,As),l!==null&&(c.memoizedState={dehydrated:l,treeContext:Ia!==null?{id:as,overflow:er}:null,retryLane:536870912,hydrationErrors:null},g=Tp(l),g.return=c,c.child=g,Vi=c,ni=null)):l=null,l===null)throw nt(c);return c.lanes=536870912,null}return Qf(c,b)}var R=l.memoizedState;if(R!==null){var V=R.dehydrated;if(Se(c),E)if(c.flags&256)c.flags&=-257,c=lp(l,c,g);else if(c.memoizedState!==null)c.child=l.child,c.flags|=128,c=null;else throw Error(a(558));else if(Jn||at(l,c,g,!1),E=(g&l.childLanes)!==0,Jn||E){if(b=on,b!==null&&(V=B(b,g),V!==0&&V!==R.retryLane))throw R.retryLane=V,hs(l,V),ri(b,l,V),Rs;xc(),c=lp(l,c,g)}else l=R.treeContext,ti&&(ni=qg(V),Vi=c,mn=!0,Cr=null,As=!1,l!==null&&De(c,l)),c=Qf(c,b),c.flags|=4096;return c}return l=ra(l.child,{mode:b.mode,children:b.children}),l.ref=c.ref,c.child=l,l.return=c,l}function wu(l,c){var g=c.ref;if(g===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(a(284));(l===null||l.ref!==g)&&(c.flags|=4194816)}}function Jf(l,c,g,b,E){return Fe(c),g=Mt(l,c,g,b,void 0,E),b=En(),l!==null&&!Jn?(jn(l,c,E),dr(l,c,E)):(mn&&b&&re(c),c.flags|=1,ss(l,c,g,E),c.child)}function cp(l,c,g,b,E,R){return Fe(c),c.updateQueue=null,g=Tt(c,b,g,E),It(l),b=En(),l!==null&&!Jn?(jn(l,c,R),dr(l,c,R)):(mn&&b&&re(c),c.flags|=1,ss(l,c,g,R),c.child)}function xl(l,c,g,b,E){if(Fe(c),c.stateNode===null){var R=Tr,V=g.contextType;typeof V=="object"&&V!==null&&(R=W(V)),R=new g(b,R),c.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=Qu,c.stateNode=R,R._reactInternals=c,R=c.stateNode,R.props=b,R.state=c.memoizedState,R.refs={},zi(c),V=g.contextType,R.context=typeof V=="object"&&V!==null?W(V):Tr,R.state=c.memoizedState,V=g.getDerivedStateFromProps,typeof V=="function"&&(ap(c,g,V,b),R.state=c.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(V=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),V!==R.state&&Qu.enqueueReplaceState(R,R.state,null),Hr(c,b,R,E),Qa(),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(l===null){R=c.stateNode;var $=c.memoizedProps,Re=vl(g,$);R.props=Re;var He=R.context,it=g.contextType;V=Tr,typeof it=="object"&&it!==null&&(V=W(it));var qe=g.getDerivedStateFromProps;it=typeof qe=="function"||typeof R.getSnapshotBeforeUpdate=="function",$=c.pendingProps!==$,it||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($||He!==V)&&ig(c,R,b,V),ca=!1;var gt=c.memoizedState;R.state=gt,Hr(c,b,R,E),Qa(),He=c.memoizedState,$||gt!==He||ca?(typeof qe=="function"&&(ap(c,g,qe,b),He=c.memoizedState),(Re=ca||Zf(c,g,Re,b,gt,He,V))?(it||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=He),R.props=b,R.state=He,R.context=V,b=Re):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{R=c.stateNode,ea(l,c),V=c.memoizedProps,it=vl(g,V),R.props=it,qe=c.pendingProps,gt=R.context,He=g.contextType,Re=Tr,typeof He=="object"&&He!==null&&(Re=W(He)),$=g.getDerivedStateFromProps,(He=typeof $=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(V!==qe||gt!==Re)&&ig(c,R,b,Re),ca=!1,gt=c.memoizedState,R.state=gt,Hr(c,b,R,E),Qa();var Qt=c.memoizedState;V!==qe||gt!==Qt||ca||l!==null&&l.dependencies!==null&&At(l.dependencies)?(typeof $=="function"&&(ap(c,g,$,b),Qt=c.memoizedState),(it=ca||Zf(c,g,it,b,gt,Qt,Re)||l!==null&&l.dependencies!==null&&At(l.dependencies))?(He||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(b,Qt,Re),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(b,Qt,Re)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||V===l.memoizedProps&&gt===l.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&gt===l.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=Qt),R.props=b,R.state=Qt,R.context=Re,b=it):(typeof R.componentDidUpdate!="function"||V===l.memoizedProps&&gt===l.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&gt===l.memoizedState||(c.flags|=1024),b=!1)}return R=b,wu(l,c),b=(c.flags&128)!==0,R||b?(R=c.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:R.render(),c.flags|=1,l!==null&&b?(c.child=os(c,l.child,null,E),c.child=os(c,null,g,E)):ss(l,c,g,E),c.memoizedState=R.state,l=c.child):l=dr(l,c,E),l}function fg(l,c,g,b){return Lt(),c.flags|=256,ss(l,c,g,b),c.child}function up(l){return{baseLanes:l,cachePool:ke()}}function fp(l,c,g){return l=l!==null?l.childLanes&~g:0,c&&(l|=Ns),l}function hp(l,c,g){var b=c.pendingProps,E=!1,R=(c.flags&128)!==0,V;if((V=R)||(V=l!==null&&l.memoizedState===null?!1:(pi.current&2)!==0),V&&(E=!0,c.flags&=-129),V=(c.flags&32)!==0,c.flags&=-33,l===null){if(mn){if(E?ae(c):ue(),(l=ni)?(l=Qg(l,As),l!==null&&(c.memoizedState={dehydrated:l,treeContext:Ia!==null?{id:as,overflow:er}:null,retryLane:536870912,hydrationErrors:null},g=Tp(l),g.return=c,c.child=g,Vi=c,ni=null)):l=null,l===null)throw nt(c);return Sh(l)?c.lanes=32:c.lanes=536870912,null}var $=b.children;return b=b.fallback,E?(ue(),E=c.mode,$=Ao({mode:"hidden",children:$},E),b=Ca(b,E,g,null),$.return=c,b.return=c,$.sibling=b,c.child=$,b=c.child,b.memoizedState=up(g),b.childLanes=fp(l,V,g),c.memoizedState=Fl,yl(null,b)):(ae(c),$f(c,$))}var Re=l.memoizedState;if(Re!==null&&($=Re.dehydrated,$!==null)){if(R)c.flags&256?(ae(c),c.flags&=-257,c=bl(l,c,g)):c.memoizedState!==null?(ue(),c.child=l.child,c.flags|=128,c=null):(ue(),$=b.fallback,E=c.mode,b=Ao({mode:"visible",children:b.children},E),$=Ca($,E,g,null),$.flags|=2,b.return=c,$.return=c,b.sibling=$,c.child=b,os(c,l.child,null,g),b=c.child,b.memoizedState=up(g),b.childLanes=fp(l,V,g),c.memoizedState=Fl,c=yl(null,b));else if(ae(c),Sh($))V=Mh($).digest,b=Error(a(419)),b.stack="",b.digest=V,We({value:b,source:null,stack:null}),c=bl(l,c,g);else if(Jn||at(l,c,g,!1),V=(g&l.childLanes)!==0,Jn||V){if(V=on,V!==null&&(b=B(V,g),b!==0&&b!==Re.retryLane))throw Re.retryLane=b,hs(l,b),ri(V,l,b),Rs;ko($)||xc(),c=bl(l,c,g)}else ko($)?(c.flags|=192,c.child=l.child,c=null):(l=Re.treeContext,ti&&(ni=Yg($),Vi=c,mn=!0,Cr=null,As=!1,l!==null&&De(c,l)),c=$f(c,b.children),c.flags|=4096);return c}return E?(ue(),$=b.fallback,E=c.mode,Re=l.child,R=Re.sibling,b=ra(Re,{mode:"hidden",children:b.children}),b.subtreeFlags=Re.subtreeFlags&65011712,R!==null?$=ra(R,$):($=Ca($,E,g,null),$.flags|=2),$.return=c,b.return=c,b.sibling=$,c.child=b,yl(null,b),b=c.child,$=l.child.memoizedState,$===null?$=up(g):(E=$.cachePool,E!==null?(Re=vi?ii._currentValue:ii._currentValue2,E=E.parent!==Re?{parent:Re,pool:Re}:E):E=ke(),$={baseLanes:$.baseLanes|g,cachePool:E}),b.memoizedState=$,b.childLanes=fp(l,V,g),c.memoizedState=Fl,yl(l.child,b)):(ae(c),g=l.child,l=g.sibling,g=ra(g,{mode:"visible",children:b.children}),g.return=c,g.sibling=null,l!==null&&(V=c.deletions,V===null?(c.deletions=[l],c.flags|=16):V.push(l)),c.child=g,c.memoizedState=null,g)}function $f(l,c){return c=Ao({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function Ao(l,c){return l=t(22,l,null,c),l.lanes=0,l}function bl(l,c,g){return os(c,l.child,null,g),l=$f(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function hg(l,c,g){l.lanes|=c;var b=l.alternate;b!==null&&(b.lanes|=c),Z(l.return,c,g)}function uc(l,c,g,b,E,R){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:E,treeForkCount:R}:(V.isBackwards=c,V.rendering=null,V.renderingStartTime=0,V.last=b,V.tail=g,V.tailMode=E,V.treeForkCount=R)}function dp(l,c,g){var b=c.pendingProps,E=b.revealOrder,R=b.tail;b=b.children;var V=pi.current,$=(V&2)!==0;if($?(V=V&1|2,c.flags|=128):V&=1,T(pi,V),ss(l,c,b,g),b=mn?Yu:0,!$&&l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&hg(l,g,c);else if(l.tag===19)hg(l,g,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(E){case"forwards":for(g=c.child,E=null;g!==null;)l=g.alternate,l!==null&&mt(l)===null&&(E=g),g=g.sibling;g=E,g===null?(E=c.child,c.child=null):(E=g.sibling,g.sibling=null),uc(c,!1,E,g,R,b);break;case"backwards":case"unstable_legacy-backwards":for(g=null,E=c.child,c.child=null;E!==null;){if(l=E.alternate,l!==null&&mt(l)===null){c.child=E;break}l=E.sibling,E.sibling=g,g=E,E=l}uc(c,!0,g,null,R,b);break;case"together":uc(c,!1,null,null,void 0,b);break;default:c.memoizedState=null}return c.child}function dr(l,c,g){if(l!==null&&(c.dependencies=l.dependencies),ro|=c.lanes,(g&c.childLanes)===0)if(l!==null){if(at(l,c,g,!1),(g&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(a(153));if(c.child!==null){for(l=c.child,g=ra(l,l.pendingProps),c.child=g,g.return=c;l.sibling!==null;)l=l.sibling,g=g.sibling=ra(l,l.pendingProps),g.return=c;g.sibling=null}return c.child}function Tu(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&At(l)))}function pp(l,c,g){switch(c.tag){case 3:Xe(c,c.stateNode.containerInfo),Pe(c,ii,l.memoizedState.cache),Lt();break;case 27:case 5:Ae(c);break;case 4:Xe(c,c.stateNode.containerInfo);break;case 10:Pe(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Se(c),null;break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(ae(c),c.flags|=128,null):(g&c.child.childLanes)!==0?hp(l,c,g):(ae(c),l=dr(l,c,g),l!==null?l.sibling:null);ae(c);break;case 19:var E=(l.flags&128)!==0;if(b=(g&c.childLanes)!==0,b||(at(l,c,g,!1),b=(g&c.childLanes)!==0),E){if(b)return dp(l,c,g);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),T(pi,pi.current),b)break;return null;case 22:return c.lanes=0,cg(l,c,g,c.pendingProps);case 24:Pe(c,ii,l.memoizedState.cache)}return dr(l,c,g)}function mp(l,c,g){if(l!==null)if(l.memoizedProps!==c.pendingProps)Jn=!0;else{if(!Tu(l,g)&&(c.flags&128)===0)return Jn=!1,pp(l,c,g);Jn=(l.flags&131072)!==0}else Jn=!1,mn&&(c.flags&1048576)!==0&&X(c,Yu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var b=c.pendingProps;if(l=kt(c.elementType),c.type=l,typeof l=="function")Sl(l)?(b=vl(l,b),c.tag=1,c=xl(null,c,l,b,g)):(c.tag=0,c=Jf(null,c,l,b,g));else{if(l!=null){var E=l.$$typeof;if(E===Mc){c.tag=11,c=rg(null,c,l,b,g);break e}else if(E===gh){c.tag=14,c=og(null,c,l,b,g);break e}}throw c=v(l)||l,Error(a(306,c,""))}}return c;case 0:return Jf(l,c,c.type,c.pendingProps,g);case 1:return b=c.type,E=vl(b,c.pendingProps),xl(l,c,b,E,g);case 3:e:{if(Xe(c,c.stateNode.containerInfo),l===null)throw Error(a(387));var R=c.pendingProps;E=c.memoizedState,b=E.element,ea(l,c),Hr(c,R,null,g);var V=c.memoizedState;if(R=V.cache,Pe(c,ii,R),R!==E.cache&&vt(c,[ii],g,!0),Qa(),R=V.element,ti&&E.isDehydrated)if(E={element:R,isDehydrated:!1,cache:V.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=fg(l,c,R,g);break e}else if(R!==b){b=Ee(Error(a(424)),c),We(b),c=fg(l,c,R,g);break e}else for(ti&&(ni=Xg(c.stateNode.containerInfo),Vi=c,mn=!0,Cr=null,As=!0),g=fm(c,null,R,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Lt(),R===b){c=dr(l,c,g);break e}ss(l,c,R,g)}c=c.child}return c;case 26:if(Da)return wu(l,c),l===null?(g=em(c.type,null,c.pendingProps,null))?c.memoizedState=g:mn||(c.stateNode=Ah(c.type,c.pendingProps,rs.current,c)):c.memoizedState=em(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:if(ki)return Ae(c),l===null&&ki&&mn&&(b=c.stateNode=Ch(c.type,c.pendingProps,rs.current,Qi.current,!1),Vi=c,As=!0,ni=Yp(c.type,b,ni)),ss(l,c,c.pendingProps.children,g),wu(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&mn&&(rv(c.type,c.pendingProps,Qi.current),(E=b=ni)&&(b=Zg(b,c.type,c.pendingProps,As),b!==null?(c.stateNode=b,Vi=c,ni=Wg(b),As=!1,E=!0):E=!1),E||nt(c)),Ae(c),E=c.type,R=c.pendingProps,V=l!==null?l.memoizedProps:null,b=R.children,Es(E,R)?b=null:V!==null&&Es(E,V)&&(c.flags|=32),c.memoizedState!==null&&(E=Mt(l,c,Bt,null,null,g),vi?Dl._currentValue=E:Dl._currentValue2=E),wu(l,c),ss(l,c,b,g),c.child;case 6:return l===null&&mn&&($p(c.pendingProps,Qi.current),(l=g=ni)&&(g=Kg(g,c.pendingProps,As),g!==null?(c.stateNode=g,Vi=c,ni=null,l=!0):l=!1),l||nt(c)),null;case 13:return hp(l,c,g);case 4:return Xe(c,c.stateNode.containerInfo),b=c.pendingProps,l===null?c.child=os(c,null,b,g):ss(l,c,b,g),c.child;case 11:return rg(l,c,c.type,c.pendingProps,g);case 7:return ss(l,c,c.pendingProps,g),c.child;case 8:return ss(l,c,c.pendingProps.children,g),c.child;case 12:return ss(l,c,c.pendingProps.children,g),c.child;case 10:return b=c.pendingProps,Pe(c,c.type,b.value),ss(l,c,b.children,g),c.child;case 9:return E=c.type._context,b=c.pendingProps.children,Fe(c),E=W(E),b=b(E),c.flags|=1,ss(l,c,b,g),c.child;case 14:return og(l,c,c.type,c.pendingProps,g);case 15:return lg(l,c,c.type,c.pendingProps,g);case 19:return dp(l,c,g);case 31:return ug(l,c,g);case 22:return cg(l,c,g,c.pendingProps);case 24:return Fe(c),b=W(ii),l===null?(E=Ke(),E===null&&(E=on,R=Me(),E.pooledCache=R,R.refCount++,R!==null&&(E.pooledCacheLanes|=g),E=R),c.memoizedState={parent:b,cache:E},zi(c),Pe(c,ii,E)):((l.lanes&g)!==0&&(ea(l,c),Hr(c,null,null,g),Qa()),E=l.memoizedState,R=c.memoizedState,E.parent!==b?(E={parent:b,cache:b},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Pe(c,ii,b)):(b=R.cache,Pe(c,ii,b),b!==E.cache&&vt(c,[ii],g,!0))),ss(l,c,c.pendingProps.children,g),c.child;case 29:throw c.pendingProps}throw Error(a(156,c.tag))}function Ma(l){l.flags|=4}function Eu(l){oa&&(l.flags|=8)}function dg(l,c){if(l!==null&&l.child===c.child)return!1;if((c.flags&16)!==0)return!0;for(l=c.child;l!==null;){if((l.flags&8218)!==0||(l.subtreeFlags&8218)!==0)return!0;l=l.sibling}return!1}function gp(l,c,g,b){if(yn)for(g=c.child;g!==null;){if(g.tag===5||g.tag===6)ku(l,g.stateNode);else if(!(g.tag===4||ki&&g.tag===27)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}else if(oa)for(var E=c.child;E!==null;){if(E.tag===5){var R=E.stateNode;g&&b&&(R=Vg(R,E.type,E.memoizedProps)),ku(l,R)}else if(E.tag===6)R=E.stateNode,g&&b&&(R=Xp(R,E.memoizedProps)),ku(l,R);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)R=E.child,R!==null&&(R.return=E),gp(l,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}}function pg(l,c,g,b){var E=!1;if(oa)for(var R=c.child;R!==null;){if(R.tag===5){var V=R.stateNode;g&&b&&(V=Vg(V,R.type,R.memoizedProps)),jp(l,V)}else if(R.tag===6)V=R.stateNode,g&&b&&(V=Xp(V,R.memoizedProps)),jp(l,V);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)E=R.child,E!==null&&(E.return=R),pg(l,R,!0,!0),E=!0;else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===c)break;for(;R.sibling===null;){if(R.return===null||R.return===c)return E;R=R.return}R.sibling.return=R.return,R=R.sibling}return E}function mg(l,c){if(oa&&dg(l,c)){l=c.stateNode;var g=l.containerInfo,b=Gp();pg(b,c,!1,!1),l.pendingChildren=b,Ma(c),kg(g,b)}}function vp(l,c,g,b){if(yn)l.memoizedProps!==b&&Ma(c);else if(oa){var E=l.stateNode,R=l.memoizedProps;if((l=dg(l,c))||R!==b){var V=Qi.current;R=Fg(E,g,R,b,!l,null),R===E?c.stateNode=E:(Eu(c),zs(R,g,b,V)&&Ma(c),c.stateNode=R,l&&gp(R,c,!1,!1))}else c.stateNode=E}}function Ms(l,c,g,b,E){if((l.mode&32)!==0&&(g===null?Vu(c,b):Cc(c,g,b))){if(l.flags|=16777216,(E&335544128)===E||Lp(c,b))if(oi(l.stateNode,c,b))l.flags|=8192;else if(vn())l.flags|=8192;else throw Cs=Rr,Fh}else l.flags&=-16777217}function fc(l,c){if(sm(c)){if(l.flags|=16777216,!am(c))if(vn())l.flags|=8192;else throw Cs=Rr,Fh}else l.flags&=-16777217}function Au(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?I():536870912,l.lanes|=c,zc|=c)}function hc(l,c){if(!mn)switch(l.tailMode){case"hidden":c=l.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Wn(l){var c=l.alternate!==null&&l.alternate.child===l.child,g=0,b=0;if(c)for(var E=l.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags&65011712,b|=E.flags&65011712,E.return=l,E=E.sibling;else for(E=l.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=l,E=E.sibling;return l.subtreeFlags|=b,l.childLanes=g,c}function gg(l,c,g){var b=c.pendingProps;switch(pe(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(c),null;case 1:return Wn(c),null;case 3:return g=c.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),$e(ii),ce(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Zt(c)?Ma(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ie())),mg(l,c),Wn(c),null;case 26:if(Da){var E=c.type,R=c.memoizedState;return l===null?(Ma(c),R!==null?(Wn(c),fc(c,R)):(Wn(c),Ms(c,E,null,b,g))):R?R!==l.memoizedState?(Ma(c),Wn(c),fc(c,R)):(Wn(c),c.flags&=-16777217):(R=l.memoizedProps,yn?R!==b&&Ma(c):vp(l,c,E,b),Wn(c),Ms(c,E,R,b,g)),null}case 27:if(ki){if(Be(c),g=rs.current,E=c.type,l!==null&&c.stateNode!=null)yn?l.memoizedProps!==b&&Ma(c):vp(l,c,E,b);else{if(!b){if(c.stateNode===null)throw Error(a(166));return Wn(c),null}l=Qi.current,Zt(c)?lt(c,l):(l=Ch(E,b,g,l,!0),c.stateNode=l,Ma(c))}return Wn(c),null}case 5:if(Be(c),E=c.type,l!==null&&c.stateNode!=null)vp(l,c,E,b);else{if(!b){if(c.stateNode===null)throw Error(a(166));return Wn(c),null}if(R=Qi.current,Zt(c))lt(c,R),iv(c.stateNode,E,b,R)&&(c.flags|=64);else{var V=Np(E,b,rs.current,R,c);Eu(c),gp(V,c,!1,!1),c.stateNode=V,zs(V,E,b,R)&&Ma(c)}}return Wn(c),Ms(c,c.type,l===null?null:l.memoizedProps,c.pendingProps,g),null;case 6:if(l&&c.stateNode!=null)g=l.memoizedProps,yn?g!==b&&Ma(c):oa&&(g!==b?(l=rs.current,g=Qi.current,Eu(c),c.stateNode=eo(b,l,g,c)):c.stateNode=l.stateNode);else{if(typeof b!="string"&&c.stateNode===null)throw Error(a(166));if(l=rs.current,g=Qi.current,Zt(c)){if(!ti)throw Error(a(176));if(l=c.stateNode,g=c.memoizedProps,b=null,E=Vi,E!==null)switch(E.tag){case 27:case 5:b=E.memoizedProps}Zx(l,g,c,b)||nt(c,!0)}else Eu(c),c.stateNode=eo(b,l,g,c)}return Wn(c),null;case 31:if(g=c.memoizedState,l===null||l.memoizedState!==null){if(b=Zt(c),g!==null){if(l===null){if(!b)throw Error(a(318));if(!ti)throw Error(a(556));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(557));Kp(l,c)}else Lt(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wn(c),l=!1}else g=Ie(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return c.flags&256?(et(c),c):(et(c),null);if((c.flags&128)!==0)throw Error(a(558))}return Wn(c),null;case 13:if(b=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(E=Zt(c),b!==null&&b.dehydrated!==null){if(l===null){if(!E)throw Error(a(318));if(!ti)throw Error(a(344));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(a(317));$g(E,c)}else Lt(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wn(c),E=!1}else E=Ie(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(et(c),c):(et(c),null)}return et(c),(c.flags&128)!==0?(c.lanes=g,c):(g=b!==null,l=l!==null&&l.memoizedState!==null,g&&(b=c.child,E=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(E=b.alternate.memoizedState.cachePool.pool),R=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(R=b.memoizedState.cachePool.pool),R!==E&&(b.flags|=2048)),g!==l&&g&&(c.child.flags|=8192),Au(c,c.updateQueue),Wn(c),null);case 4:return ce(),mg(l,c),l===null&&kn(c.stateNode.containerInfo),Wn(c),null;case 10:return $e(c.type),Wn(c),null;case 19:if(S(pi),b=c.memoizedState,b===null)return Wn(c),null;if(E=(c.flags&128)!==0,R=b.rendering,R===null)if(E)hc(b,!1);else{if(ui!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(R=mt(l),R!==null){for(c.flags|=128,hc(b,!1),l=R.updateQueue,c.updateQueue=l,Au(c,l),c.subtreeFlags=0,l=g,g=c.child;g!==null;)fh(g,l),g=g.sibling;return T(pi,pi.current&1|2),mn&&Ce(c,b.treeForkCount),c.child}l=l.sibling}b.tail!==null&&ps()>Qo&&(c.flags|=128,E=!0,hc(b,!1),c.lanes=4194304)}else{if(!E)if(l=mt(R),l!==null){if(c.flags|=128,E=!0,l=l.updateQueue,c.updateQueue=l,Au(c,l),hc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!R.alternate&&!mn)return Wn(c),null}else 2*ps()-b.renderingStartTime>Qo&&g!==536870912&&(c.flags|=128,E=!0,hc(b,!1),c.lanes=4194304);b.isBackwards?(R.sibling=c.child,c.child=R):(l=b.last,l!==null?l.sibling=R:c.child=R,b.last=R)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=ps(),l.sibling=null,g=pi.current,T(pi,E?g&1|2:g&1),mn&&Ce(c,b.treeForkCount),l):(Wn(c),null);case 22:case 23:return et(c),H(),b=c.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(g&536870912)!==0&&(c.flags&128)===0&&(Wn(c),c.subtreeFlags&6&&(c.flags|=8192)):Wn(c),g=c.updateQueue,g!==null&&Au(c,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==g&&(c.flags|=2048),l!==null&&S(Go),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),$e(ii),Wn(c),null;case 25:return null;case 30:return null}throw Error(a(156,c.tag))}function yp(l,c){switch(pe(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return $e(ii),ce(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return Be(c),null;case 31:if(c.memoizedState!==null){if(et(c),c.alternate===null)throw Error(a(340));Lt()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 13:if(et(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(a(340));Lt()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return S(pi),null;case 4:return ce(),null;case 10:return $e(c.type),null;case 22:case 23:return et(c),H(),l!==null&&S(Go),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return $e(ii),null;case 25:return null;default:return null}}function vg(l,c){switch(pe(c),c.tag){case 3:$e(ii),ce();break;case 26:case 27:case 5:Be(c);break;case 4:ce();break;case 31:c.memoizedState!==null&&et(c);break;case 13:et(c);break;case 19:S(pi);break;case 10:$e(c.type);break;case 22:case 23:et(c),H(),l!==null&&S(Go);break;case 24:$e(ii)}}function pr(l,c){try{var g=c.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var E=b.next;g=E;do{if((g.tag&l)===l){b=void 0;var R=g.create,V=g.inst;b=R(),V.destroy=b}g=g.next}while(g!==E)}}catch($){Gt(c,c.return,$)}}function mr(l,c,g){try{var b=c.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var R=E.next;b=R;do{if((b.tag&l)===l){var V=b.inst,$=V.destroy;if($!==void 0){V.destroy=void 0,E=c;var Re=g,He=$;try{He()}catch(it){Gt(E,Re,it)}}}b=b.next}while(b!==R)}}catch(it){Gt(c,c.return,it)}}function dc(l){var c=l.updateQueue;if(c!==null){var g=l.stateNode;try{jr(c,g)}catch(b){Gt(l,l.return,b)}}}function eh(l,c,g){g.props=vl(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(b){Gt(l,c,b)}}function pc(l,c){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var b=Tc(l.stateNode);break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof g=="function"?l.refCleanup=g(b):g.current=b}}catch(E){Gt(l,c,E)}}function ds(l,c){var g=l.ref,b=l.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(E){Gt(l,c,E)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(E){Gt(l,c,E)}else g.current=null}function _l(l){var c=l.type,g=l.memoizedProps,b=l.stateNode;try{Dg(b,c,g,l)}catch(E){Gt(l,l.return,E)}}function Cu(l,c,g){try{Lg(l.stateNode,l.type,g,c,l)}catch(b){Gt(l,l.return,b)}}function xp(l){return l.tag===5||l.tag===3||(Da?l.tag===26:!1)||(ki?l.tag===27&&Ll(l.type):!1)||l.tag===4}function Xr(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||xp(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(ki&&l.tag===27&&Ll(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function th(l,c,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,c?Pg(g,l,c):Fp(g,l);else if(b!==4&&(ki&&b===27&&Ll(l.type)&&(g=l.stateNode,c=null),l=l.child,l!==null))for(th(l,c,g),l=l.sibling;l!==null;)th(l,c,g),l=l.sibling}function Ru(l,c,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,c?Ig(g,l,c):Bp(g,l);else if(b!==4&&(ki&&b===27&&Ll(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(Ru(l,c,g),l=l.sibling;l!==null;)Ru(l,c,g),l=l.sibling}function bp(l,c,g){l=l.containerInfo;try{Wp(l,g)}catch(b){Gt(c,c.return,b)}}function yg(l){var c=l.stateNode,g=l.memoizedProps;try{Ni(l.type,g,c,l)}catch(b){Gt(l,l.return,b)}}function Wx(l,c){for(vh(l.containerInfo),bi=c;bi!==null;)if(l=bi,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,bi=c;else for(;bi!==null;){l=bi;var g=l.alternate;switch(c=l.flags,l.tag){case 0:if((c&4)!==0&&(c=l.updateQueue,c=c!==null?c.events:null,c!==null))for(var b=0;b<c.length;b++){var E=c[b];E.ref.impl=E.nextImpl}break;case 11:case 15:break;case 1:if((c&1024)!==0&&g!==null){c=void 0,b=l,E=g.memoizedProps,g=g.memoizedState;var R=b.stateNode;try{var V=vl(b.type,E);c=R.getSnapshotBeforeUpdate(V,g),R.__reactInternalSnapshotBeforeUpdate=c}catch($){Gt(b,b.return,$)}}break;case 3:(c&1024)!==0&&yn&&Hp(l.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(a(163))}if(c=l.sibling,c!==null){c.return=l.return,bi=c;break}bi=l.return}}function xg(l,c,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:ws(l,g),b&4&&pr(5,g);break;case 1:if(ws(l,g),b&4)if(l=g.stateNode,c===null)try{l.componentDidMount()}catch(V){Gt(g,g.return,V)}else{var E=vl(g.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(E,c,l.__reactInternalSnapshotBeforeUpdate)}catch(V){Gt(g,g.return,V)}}b&64&&dc(g),b&512&&pc(g,g.return);break;case 3:if(ws(l,g),b&64&&(b=g.updateQueue,b!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=Tc(g.child.stateNode);break;case 1:l=g.child.stateNode}try{jr(b,l)}catch(V){Gt(g,g.return,V)}}break;case 27:ki&&c===null&&b&4&&yg(g);case 26:case 5:if(ws(l,g),c===null){if(b&4)_l(g);else if(b&64){l=g.type,c=g.memoizedProps,E=g.stateNode;try{tv(E,l,c,g)}catch(V){Gt(g,g.return,V)}}}b&512&&pc(g,g.return);break;case 12:ws(l,g);break;case 31:ws(l,g),b&4&&Ta(l,g);break;case 13:ws(l,g),b&4&&Du(l,g),b&64&&(b=g.memoizedState,b!==null&&(b=b.dehydrated,b!==null&&(g=Xx.bind(null,g),wh(b,g))));break;case 22:if(b=g.memoizedState!==null||mi,!b){c=c!==null&&c.memoizedState!==null||gi,E=mi;var R=gi;mi=b,(gi=c)&&!R?Aa(l,g,(g.subtreeFlags&8772)!==0):ws(l,g),mi=E,gi=R}break;case 30:break;default:ws(l,g)}}function _p(l){var c=l.alternate;c!==null&&(l.alternate=null,_p(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&yh(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function wa(l,c,g){for(g=g.child;g!==null;)Nu(l,c,g),g=g.sibling}function Nu(l,c,g){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(Ul,g)}catch{}switch(g.tag){case 26:if(Da){gi||ds(g,c),wa(l,c,g),g.memoizedState?Vo(g.memoizedState):g.stateNode&&im(g.stateNode);break}case 27:if(ki){gi||ds(g,c);var b=ci,E=_i;Ll(g.type)&&(ci=g.stateNode,_i=!1),wa(l,c,g),Ki(g.stateNode),ci=b,_i=E;break}case 5:gi||ds(g,c);case 6:if(yn){if(b=ci,E=_i,ci=null,wa(l,c,g),ci=b,_i=E,ci!==null)if(_i)try{kp(ci,g.stateNode)}catch(R){Gt(g,c,R)}else try{Ug(ci,g.stateNode)}catch(R){Gt(g,c,R)}}else wa(l,c,g);break;case 18:yn&&ci!==null&&(_i?Th(ci,g.stateNode):Jp(ci,g.stateNode));break;case 4:yn?(b=ci,E=_i,ci=g.stateNode.containerInfo,_i=!0,wa(l,c,g),ci=b,_i=E):(oa&&bp(g.stateNode,g,Gp()),wa(l,c,g));break;case 0:case 11:case 14:case 15:mr(2,g,c),gi||mr(4,g,c),wa(l,c,g);break;case 1:gi||(ds(g,c),b=g.stateNode,typeof b.componentWillUnmount=="function"&&eh(g,c,b)),wa(l,c,g);break;case 21:wa(l,c,g);break;case 22:gi=(b=gi)||g.memoizedState!==null,wa(l,c,g),gi=b;break;default:wa(l,c,g)}}function Ta(l,c){if(ti&&c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Kx(l)}catch(g){Gt(c,c.return,g)}}}function Du(l,c){if(ti&&c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Qx(l)}catch(g){Gt(c,c.return,g)}}function Ea(l){switch(l.tag){case 31:case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new dm),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new dm),c;default:throw Error(a(435,l.tag))}}function qr(l,c){var g=Ea(l);c.forEach(function(b){if(!g.has(b)){g.add(b);var E=qx.bind(null,l,b);b.then(E,E)}})}function Yi(l,c){var g=c.deletions;if(g!==null)for(var b=0;b<g.length;b++){var E=g[b],R=l,V=c;if(yn){var $=V;e:for(;$!==null;){switch($.tag){case 27:if(ki){if(Ll($.type)){ci=$.stateNode,_i=!1;break e}break}case 5:ci=$.stateNode,_i=!1;break e;case 3:case 4:ci=$.stateNode.containerInfo,_i=!0;break e}$=$.return}if(ci===null)throw Error(a(160));Nu(R,V,E),ci=null,_i=!1}else Nu(R,V,E);R=E.alternate,R!==null&&(R.return=null),E.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Lu(c,l),c=c.sibling}function Lu(l,c){var g=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Yi(c,l),Zi(l),b&4&&(mr(3,l,l.return),pr(3,l),mr(5,l,l.return));break;case 1:Yi(c,l),Zi(l),b&512&&(gi||g===null||ds(g,g.return)),b&64&&mi&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:if(Da){var E=Un;if(Yi(c,l),Zi(l),b&512&&(gi||g===null||ds(g,g.return)),b&4){b=g!==null?g.memoizedState:null;var R=l.memoizedState;g===null?R===null?l.stateNode===null?l.stateNode=ov(E,l.type,l.memoizedProps,l):nm(E,l.type,l.stateNode):l.stateNode=tm(E,R,l.memoizedProps):b!==R?(b===null?g.stateNode!==null&&im(g.stateNode):Vo(b),R===null?nm(E,l.type,l.stateNode):tm(E,R,l.memoizedProps)):R===null&&l.stateNode!==null&&Cu(l,l.memoizedProps,g.memoizedProps)}break}case 27:if(ki){Yi(c,l),Zi(l),b&512&&(gi||g===null||ds(g,g.return)),g!==null&&b&4&&Cu(l,l.memoizedProps,g.memoizedProps);break}case 5:if(Yi(c,l),Zi(l),b&512&&(gi||g===null||ds(g,g.return)),yn){if(l.flags&32){E=l.stateNode;try{Vp(E)}catch(qe){Gt(l,l.return,qe)}}b&4&&l.stateNode!=null&&(E=l.memoizedProps,Cu(l,E,g!==null?g.memoizedProps:E)),b&1024&&(Lc=!0)}else oa&&l.alternate!==null&&(l.alternate.stateNode=l.stateNode);break;case 6:if(Yi(c,l),Zi(l),b&4&&yn){if(l.stateNode===null)throw Error(a(162));b=l.memoizedProps,g=g!==null?g.memoizedProps:b,E=l.stateNode;try{Ng(E,g,b)}catch(qe){Gt(l,l.return,qe)}}break;case 3:if(Da?(lv(),E=Un,Un=ju(c.containerInfo),Yi(c,l),Un=E):Yi(c,l),Zi(l),b&4){if(yn&&ti&&g!==null&&g.memoizedState.isDehydrated)try{nv(c.containerInfo)}catch(qe){Gt(l,l.return,qe)}if(oa){b=c.containerInfo,g=c.pendingChildren;try{Wp(b,g)}catch(qe){Gt(l,l.return,qe)}}}Lc&&(Lc=!1,nh(l));break;case 4:Da?(g=Un,Un=ju(l.stateNode.containerInfo),Yi(c,l),Zi(l),Un=g):(Yi(c,l),Zi(l)),b&4&&oa&&bp(l.stateNode,l,l.stateNode.pendingChildren);break;case 12:Yi(c,l),Zi(l);break;case 31:Yi(c,l),Zi(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,qr(l,b)));break;case 13:Yi(c,l),Zi(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(ef=ps()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,qr(l,b)));break;case 22:E=l.memoizedState!==null;var V=g!==null&&g.memoizedState!==null,$=mi,Re=gi;if(mi=$||E,gi=Re||V,Yi(c,l),gi=Re,mi=$,Zi(l),b&8192&&(c=l.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(g===null||V||mi||gi||Co(l)),yn)){e:if(g=null,yn)for(c=l;;){if(c.tag===5||Da&&c.tag===26){if(g===null){V=g=c;try{R=V.stateNode,E?Yx(R):zg(V.stateNode,V.memoizedProps)}catch(qe){Gt(V,V.return,qe)}}}else if(c.tag===6){if(g===null){V=c;try{var He=V.stateNode;E?Og(He):Bg(He,V.memoizedProps)}catch(qe){Gt(V,V.return,qe)}}}else if(c.tag===18){if(g===null){V=c;try{var it=V.stateNode;E?sv(it):av(V.stateNode)}catch(qe){Gt(V,V.return,qe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;g===c&&(g=null),c=c.return}g===c&&(g=null),c.sibling.return=c.return,c=c.sibling}}b&4&&(b=l.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,qr(l,g))));break;case 19:Yi(c,l),Zi(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,qr(l,b)));break;case 30:break;case 21:break;default:Yi(c,l),Zi(l)}}function Zi(l){var c=l.flags;if(c&2){try{for(var g,b=l.return;b!==null;){if(xp(b)){g=b;break}b=b.return}if(yn){if(g==null)throw Error(a(160));switch(g.tag){case 27:if(ki){var E=g.stateNode,R=Xr(l);Ru(l,R,E);break}case 5:var V=g.stateNode;g.flags&32&&(Vp(V),g.flags&=-33);var $=Xr(l);Ru(l,$,V);break;case 3:case 4:var Re=g.stateNode.containerInfo,He=Xr(l);th(l,He,Re);break;default:throw Error(a(161))}}}catch(it){Gt(l,l.return,it)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function nh(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;nh(c),c.tag===5&&c.flags&1024&&Pp(c.stateNode),l=l.sibling}}function ws(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)xg(l,c.alternate,c),c=c.sibling}function Co(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:mr(4,c,c.return),Co(c);break;case 1:ds(c,c.return);var g=c.stateNode;typeof g.componentWillUnmount=="function"&&eh(c,c.return,g),Co(c);break;case 27:ki&&Ki(c.stateNode);case 26:case 5:ds(c,c.return),Co(c);break;case 22:c.memoizedState===null&&Co(c);break;case 30:Co(c);break;default:Co(c)}l=l.sibling}}function Aa(l,c,g){for(g=g&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,E=l,R=c,V=R.flags;switch(R.tag){case 0:case 11:case 15:Aa(E,R,g),pr(4,R);break;case 1:if(Aa(E,R,g),b=R,E=b.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(He){Gt(b,b.return,He)}if(b=R,E=b.updateQueue,E!==null){var $=b.stateNode;try{var Re=E.shared.hiddenCallbacks;if(Re!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Re.length;E++)Gr(Re[E],$)}catch(He){Gt(b,b.return,He)}}g&&V&64&&dc(R),pc(R,R.return);break;case 27:ki&&yg(R);case 26:case 5:Aa(E,R,g),g&&b===null&&V&4&&_l(R),pc(R,R.return);break;case 12:Aa(E,R,g);break;case 31:Aa(E,R,g),g&&V&4&&Ta(E,R);break;case 13:Aa(E,R,g),g&&V&4&&Du(E,R);break;case 22:R.memoizedState===null&&Aa(E,R,g),pc(R,R.return);break;case 30:break;default:Aa(E,R,g)}c=c.sibling}}function Ro(l,c){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Ue(g))}function Sp(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Ue(l))}function ai(l,c,g,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ih(l,c,g,b),c=c.sibling}function ih(l,c,g,b){var E=c.flags;switch(c.tag){case 0:case 11:case 15:ai(l,c,g,b),E&2048&&pr(9,c);break;case 1:ai(l,c,g,b);break;case 3:ai(l,c,g,b),E&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Ue(l)));break;case 12:if(E&2048){ai(l,c,g,b),l=c.stateNode;try{var R=c.memoizedProps,V=R.id,$=R.onPostCommit;typeof $=="function"&&$(V,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Re){Gt(c,c.return,Re)}}else ai(l,c,g,b);break;case 31:ai(l,c,g,b);break;case 13:ai(l,c,g,b);break;case 23:break;case 22:R=c.stateNode,V=c.alternate,c.memoizedState!==null?R._visibility&2?ai(l,c,g,b):mc(l,c):R._visibility&2?ai(l,c,g,b):(R._visibility|=2,Ps(l,c,g,b,(c.subtreeFlags&10256)!==0||!1)),E&2048&&Ro(V,c);break;case 24:ai(l,c,g,b),E&2048&&Sp(c.alternate,c);break;default:ai(l,c,g,b)}}function Ps(l,c,g,b,E){for(E=E&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var R=l,V=c,$=g,Re=b,He=V.flags;switch(V.tag){case 0:case 11:case 15:Ps(R,V,$,Re,E),pr(8,V);break;case 23:break;case 22:var it=V.stateNode;V.memoizedState!==null?it._visibility&2?Ps(R,V,$,Re,E):mc(R,V):(it._visibility|=2,Ps(R,V,$,Re,E)),E&&He&2048&&Ro(V.alternate,V);break;case 24:Ps(R,V,$,Re,E),E&&He&2048&&Sp(V.alternate,V);break;default:Ps(R,V,$,Re,E)}c=c.sibling}}function mc(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var g=l,b=c,E=b.flags;switch(b.tag){case 22:mc(g,b),E&2048&&Ro(b.alternate,b);break;case 24:mc(g,b),E&2048&&Sp(b.alternate,b);break;default:mc(g,b)}c=c.sibling}}function gr(l,c,g){if(l.subtreeFlags&fa)for(l=l.child;l!==null;)No(l,c,g),l=l.sibling}function No(l,c,g){switch(l.tag){case 26:if(gr(l,c,g),l.flags&fa)if(l.memoizedState!==null)cv(g,Un,l.memoizedState,l.memoizedProps);else{var b=l.stateNode,E=l.type;l=l.memoizedProps,((c&335544128)===c||Lp(E,l))&&xh(g,b,E,l)}break;case 5:gr(l,c,g),l.flags&fa&&(b=l.stateNode,E=l.type,l=l.memoizedProps,((c&335544128)===c||Lp(E,l))&&xh(g,b,E,l));break;case 3:case 4:Da?(b=Un,Un=ju(l.stateNode.containerInfo),gr(l,c,g),Un=b):gr(l,c,g);break;case 22:l.memoizedState===null&&(b=l.alternate,b!==null&&b.memoizedState!==null?(b=fa,fa=16777216,gr(l,c,g),fa=b):gr(l,c,g));break;default:gr(l,c,g)}}function sh(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function gc(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var b=c[g];bi=b,sa(b,l)}sh(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ah(l),l=l.sibling}function ah(l){switch(l.tag){case 0:case 11:case 15:gc(l),l.flags&2048&&mr(9,l,l.return);break;case 3:gc(l);break;case 12:gc(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,Iu(l)):gc(l);break;default:gc(l)}}function Iu(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var b=c[g];bi=b,sa(b,l)}sh(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:mr(8,c,c.return),Iu(c);break;case 22:g=c.stateNode,g._visibility&2&&(g._visibility&=-3,Iu(c));break;default:Iu(c)}l=l.sibling}}function sa(l,c){for(;bi!==null;){var g=bi;switch(g.tag){case 0:case 11:case 15:mr(8,g,c);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ue(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,bi=b;else e:for(g=l;bi!==null;){b=bi;var E=b.sibling,R=b.return;if(_p(b),b===g){bi=null;break e}if(E!==null){E.return=R,bi=E;break e}bi=R}}}function Do(l){var c=Jt(l);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(a(364));return c}if(l=yi(l),l===null)throw Error(a(362));return l.stateNode.current}function Lo(l,c){var g=l.tag;switch(c.$$typeof){case Fa:if(l.type===c.value)return!0;break;case Pc:e:{for(c=c.value,l=[l,0],g=0;g<l.length;){var b=l[g++],E=b.tag,R=l[g++],V=c[R];if(E!==5&&E!==26&&E!==27||!Fo(b)){for(;V!=null&&Lo(b,V);)R++,V=c[R];if(R===c.length){c=!0;break e}else for(b=b.child;b!==null;)l.push(b,R),b=b.sibling}}c=!1}return c;case Uc:if((g===5||g===26||g===27)&&zp(l.stateNode,c.value))return!0;break;case qo:if((g===5||g===6||g===26||g===27)&&(l=Hu(l),l!==null&&0<=l.indexOf(c.value)))return!0;break;case Ju:if((g===5||g===26||g===27)&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function vc(l){switch(l.$$typeof){case Fa:return"<"+(v(l.value)||"Unknown")+">";case Pc:return":has("+(vc(l)||"")+")";case Uc:return'[role="'+l.value+'"]';case qo:return'"'+l.value+'"';case Ju:return'[data-testname="'+l.value+'"]';default:throw Error(a(365))}}function yc(l,c){var g=[];l=[l,0];for(var b=0;b<l.length;){var E=l[b++],R=E.tag,V=l[b++],$=c[V];if(R!==5&&R!==26&&R!==27||!Fo(E)){for(;$!=null&&Lo(E,$);)V++,$=c[V];if(V===c.length)g.push(E);else for(E=E.child;E!==null;)l.push(E,V),E=E.sibling}}return g}function Us(l,c){if(!Fi)throw Error(a(363));l=Do(l),l=yc(l,c),c=[],l=Array.from(l);for(var g=0;g<l.length;){var b=l[g++],E=b.tag;if(E===5||E===26||E===27)Fo(b)||c.push(b.stateNode);else for(b=b.child;b!==null;)l.push(b),b=b.sibling}return c}function ei(){return(hn&2)!==0&&gn!==0?gn&-gn:Pt.T!==null?st():Ac()}function Yr(){if(Ns===0)if((gn&536870912)===0||mn){var l=Pl;Pl<<=1,(Pl&3932160)===0&&(Pl=262144),Ns=l}else Ns=536870912;return l=Vs.current,l!==null&&(l.flags|=32),Ns}function ri(l,c,g){(l===on&&(On===2||On===9)||l.cancelPendingCommit!==null)&&(di(l,0),yr(l,gn,Ns,!1)),F(l,g),((hn&2)===0||l!==on)&&(l===on&&((hn&2)===0&&(Ko|=g),ui===4&&yr(l,gn,Ns,!1)),ut(l))}function $a(l,c,g){if((hn&6)!==0)throw Error(a(327));var b=!g&&(c&127)===0&&(c&l.expiredLanes)===0||N(l,c),E=b?Sg(l,c):xr(l,c,!0),R=b;do{if(E===0){Yo&&!b&&yr(l,c,0,!1);break}else{if(g=l.current.alternate,R&&!bg(g)){E=xr(l,c,!1),R=!1;continue}if(E===2){if(R=c,l.errorRecoveryDisabledLanes&R)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){c=V;e:{var $=l;E=$u;var Re=ti&&$.current.memoizedState.isDehydrated;if(Re&&(di($,V).flags|=256),V=xr($,V,!1),V!==2){if(Zo&&!Re){$.errorRecoveryDisabledLanes|=R,Ko|=R,E=4;break e}R=Gs,Gs=E,R!==null&&(Gs===null?Gs=R:Gs.push.apply(Gs,R))}E=V}if(R=!1,E!==2)continue}}if(E===1){di(l,0),yr(l,c,0,!0);break}e:{switch(b=l,R=E,R){case 0:case 1:throw Error(a(345));case 4:if((c&4194048)!==c)break;case 6:yr(b,c,Ns,!ir);break e;case 2:Gs=null;break;case 3:case 5:break;default:throw Error(a(329))}if((c&62914560)===c&&(E=ef+300-ps(),10<E)){if(yr(b,c,Ns,!ir),M(b,0,!0)!==0)break e;Ir=c,b.timeoutHandle=Dp(vr.bind(null,b,g,Gs,tf,Vh,c,Ns,Ko,zc,ir,R,"Throttled",-0,0),E);break e}vr(b,g,Gs,tf,Vh,c,Ns,Ko,zc,ir,R,null,-0,0)}}break}while(!0);ut(l)}function vr(l,c,g,b,E,R,V,$,Re,He,it,qe,gt,Qt){if(l.timeoutHandle=Bs,qe=c.subtreeFlags,qe&8192||(qe&16785408)===16785408){qe=Ip(),No(c,R,qe);var Si=(R&62914560)===R?ef-ps():(R&4194048)===R?Vl-ps():0;if(Si=Rg(qe,Si),Si!==null){Ir=R,l.cancelPendingCommit=Si(_r.bind(null,l,c,R,g,b,E,V,$,Re,it,qe,null,gt,Qt)),yr(l,R,V,!He);return}}_r(l,c,R,g,b,E,V,$,Re)}function bg(l){for(var c=l;;){var g=c.tag;if((g===0||g===11||g===15)&&c.flags&16384&&(g=c.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var E=g[b],R=E.getSnapshot;E=E.value;try{if(!xi(R(),E))return!1}catch{return!1}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function yr(l,c,g,b){c&=~Oc,c&=~Ko,l.suspendedLanes|=c,l.pingedLanes&=~c,b&&(l.warmLanes|=c),b=l.expirationTimes;for(var E=c;0<E;){var R=31-Fs(E),V=1<<R;b[R]=-1,E&=~V}g!==0&&j(l,g,c)}function rh(){return(hn&6)===0?(Ze(0),!1):!0}function oh(){if(dn!==null){if(On===0)var l=dn.return;else l=dn,tr=qn=null,Fn(l),jo=null,Ol=0,l=dn;for(;l!==null;)vg(l.alternate,l),l=l.return;dn=null}}function di(l,c){var g=l.timeoutHandle;g!==Bs&&(l.timeoutHandle=Bs,Cg(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Ir=0,oh(),on=l,dn=g=ra(l.current,null),gn=c,On=0,Di=null,ir=!1,Yo=N(l,c),Zo=!1,zc=Ns=Oc=Ko=ro=ui=0,Gs=$u=null,Vh=!1,(c&8)!==0&&(c|=c&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=c;0<b;){var E=31-Fs(b),R=1<<E;c|=l[E],b&=~R}return Lr=c,Ka(),g}function Xn(l,c){$t=null,Pt.H=ua,c===Gi||c===za?(c=cn(),On=3):c===Fh?(c=cn(),On=4):On=c===Rs?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Di=c,dn===null&&(ui=1,Kf(l,Ee(c,l.current)))}function vn(){var l=Vs.current;return l===null?!0:(gn&4194048)===gn?Hs===null:(gn&62914560)===gn||(gn&536870912)!==0?l===Hs:!1}function Zr(){var l=Pt.H;return Pt.H=ua,l===null?ua:l}function aa(){var l=Pt.A;return Pt.A=Ic,l}function xc(){ui=4,ir||(gn&4194048)!==gn&&Vs.current!==null||(Yo=!0),(ro&134217727)===0&&(Ko&134217727)===0||on===null||yr(on,gn,Ns,!1)}function xr(l,c,g){var b=hn;hn|=2;var E=Zr(),R=aa();(on!==l||gn!==c)&&(tf=null,di(l,c)),c=!1;var V=ui;e:do try{if(On!==0&&dn!==null){var $=dn,Re=Di;switch(On){case 8:oh(),V=6;break e;case 3:case 2:case 9:case 6:Vs.current===null&&(c=!0);var He=On;if(On=0,Di=null,br(l,$,Re,He),g&&Yo){V=0;break e}break;default:He=On,On=0,Di=null,br(l,$,Re,He)}}_g(),V=ui;break}catch(it){Xn(l,it)}while(!0);return c&&l.shellSuspendCounter++,tr=qn=null,hn=b,Pt.H=E,Pt.A=R,dn===null&&(on=null,gn=0,Ka()),V}function _g(){for(;dn!==null;)Io(dn)}function Sg(l,c){var g=hn;hn|=2;var b=Zr(),E=aa();on!==l||gn!==c?(tf=null,Qo=ps()+500,di(l,c)):Yo=N(l,c);e:do try{if(On!==0&&dn!==null){c=dn;var R=Di;t:switch(On){case 1:On=0,Di=null,br(l,c,R,1);break;case 2:case 9:if(Ve(R)){On=0,Di=null,lh(c);break}c=function(){On!==2&&On!==9||on!==l||(On=7),ut(l)},R.then(c,c);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:Ve(R)?(On=0,Di=null,lh(c)):(On=0,Di=null,br(l,c,R,7));break;case 5:var V=null;switch(dn.tag){case 26:V=dn.memoizedState;case 5:case 27:var $=dn,Re=$.type,He=$.pendingProps;if(V?am(V):oi($.stateNode,Re,He)){On=0,Di=null;var it=$.sibling;if(it!==null)dn=it;else{var qe=$.return;qe!==null?(dn=qe,_c(qe)):dn=null}break t}}On=0,Di=null,br(l,c,R,5);break;case 6:On=0,Di=null,br(l,c,R,6);break;case 8:oh(),ui=6;break e;default:throw Error(a(462))}}bc();break}catch(gt){Xn(l,gt)}while(!0);return tr=qn=null,Pt.H=b,Pt.A=E,hn=g,dn!==null?0:(on=null,gn=0,Ka(),ui)}function bc(){for(;dn!==null&&!fv();)Io(dn)}function Io(l){var c=mp(l.alternate,l,Lr);l.memoizedProps=l.pendingProps,c===null?_c(l):dn=c}function lh(l){var c=l,g=c.alternate;switch(c.tag){case 15:case 0:c=cp(g,c,c.pendingProps,c.type,void 0,gn);break;case 11:c=cp(g,c,c.pendingProps,c.type.render,c.ref,gn);break;case 5:Fn(c);default:vg(g,c),c=dn=fh(c,Lr),c=mp(g,c,Lr)}l.memoizedProps=l.pendingProps,c===null?_c(l):dn=c}function br(l,c,g,b){tr=qn=null,Fn(c),jo=null,Ol=0;var E=c.return;try{if(jx(l,E,c,g,gn)){ui=1,Kf(l,Ee(g,l.current)),dn=null;return}}catch(R){if(E!==null)throw dn=E,R;ui=1,Kf(l,Ee(g,l.current)),dn=null;return}c.flags&32768?(mn||b===1?l=!0:Yo||(gn&536870912)!==0?l=!1:(ir=l=!0,(b===2||b===9||b===3||b===6)&&(b=Vs.current,b!==null&&b.tag===13&&(b.flags|=16384))),Po(c,l)):_c(c)}function _c(l){var c=l;do{if((c.flags&32768)!==0){Po(c,ir);return}l=c.return;var g=gg(c.alternate,c,Lr);if(g!==null){dn=g;return}if(c=c.sibling,c!==null){dn=c;return}dn=c=l}while(c!==null);ui===0&&(ui=5)}function Po(l,c){do{var g=yp(l.alternate,l);if(g!==null){g.flags&=32767,dn=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!c&&(l=l.sibling,l!==null)){dn=l;return}dn=l=g}while(l!==null);ui=6,dn=null}function _r(l,c,g,b,E,R,V,$,Re){l.cancelPendingCommit=null;do Mr();while(Li!==0);if((hn&6)!==0)throw Error(a(327));if(c!==null){if(c===l.current)throw Error(a(177));if(R=c.lanes|c.childLanes,R|=zl,k(l,g,R,V,$,Re),l===on&&(dn=on=null,gn=0),Hl=c,lo=l,Ir=g,Bc=R,Hh=E,pm=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,Ri(Xu,function(){return Pu(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=Pt.T,Pt.T=null,E=Na(),pn(2),V=hn,hn|=4;try{Wx(l,c,g)}finally{hn=V,pn(E),Pt.T=b}}Li=1,Kr(),Sr(),ch()}}function Kr(){if(Li===1){Li=0;var l=lo,c=Hl,g=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||g){g=Pt.T,Pt.T=null;var b=Na();pn(2);var E=hn;hn|=4;try{Lu(c,l),Ag(l.containerInfo)}finally{hn=E,pn(b),Pt.T=g}}l.current=c,Li=2}}function Sr(){if(Li===2){Li=0;var l=lo,c=Hl,g=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||g){g=Pt.T,Pt.T=null;var b=Na();pn(2);var E=hn;hn|=4;try{xg(l,c.alternate,c)}finally{hn=E,pn(b),Pt.T=g}}Li=3}}function ch(){if(Li===4||Li===3){Li=0,om();var l=lo,c=Hl,g=Ir,b=pm;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Li=5:(Li=0,Hl=lo=null,uh(l,l.pendingLanes));var E=l.pendingLanes;if(E===0&&(oo=null),ie(g),c=c.stateNode,ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(Ul,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=Pt.T,E=Na(),pn(2),Pt.T=null;try{for(var R=l.onRecoverableError,V=0;V<b.length;V++){var $=b[V];R($.value,{componentStack:$.stack})}}finally{Pt.T=c,pn(E)}}(Ir&3)!==0&&Mr(),ut(l),E=l.pendingLanes,(g&261930)!==0&&(E&42)!==0?l===nf?An++:(An=0,nf=l):An=0,ti&&Gu(),Ze(0)}}function uh(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,Ue(c)))}function Mr(){return Kr(),Sr(),ch(),Pu()}function Pu(){if(Li!==5)return!1;var l=lo,c=Bc;Bc=0;var g=ie(Ir),b=32>g?32:g;g=Pt.T;var E=Na();try{pn(b),Pt.T=null,b=Hh,Hh=null;var R=lo,V=Ir;if(Li=0,Hl=lo=null,Ir=0,(hn&6)!==0)throw Error(a(331));var $=hn;if(hn|=4,ah(R.current),ih(R,R.current,V,b),hn=$,Ze(0,!1),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(Ul,R)}catch{}return!0}finally{pn(E),Pt.T=g,uh(l,c)}}function Uo(l,c,g){c=Ee(g,c),c=op(l.stateNode,c,2),l=na(l,c,2),l!==null&&(F(l,2),ut(l))}function Gt(l,c,g){if(l.tag===3)Uo(l,l,g);else for(;c!==null;){if(c.tag===3){Uo(c,l,g);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(oo===null||!oo.has(b))){l=Ee(g,l),g=sg(2),b=na(c,g,2),b!==null&&(ag(g,b,c,l),F(b,2),ut(b));break}}c=c.return}}function Sc(l,c,g){var b=l.pingCache;if(b===null){b=l.pingCache=new ha;var E=new Set;b.set(c,E)}else E=b.get(c),E===void 0&&(E=new Set,b.set(c,E));E.has(g)||(Zo=!0,E.add(g),l=Mg.bind(null,l,c,g),c.then(l,l))}function Mg(l,c,g){var b=l.pingCache;b!==null&&b.delete(c),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,on===l&&(gn&g)===g&&(ui===4||ui===3&&(gn&62914560)===gn&&300>ps()-ef?(hn&2)===0&&di(l,0):Oc|=g,zc===gn&&(zc=0)),ut(l)}function wg(l,c){c===0&&(c=I()),l=hs(l,c),l!==null&&(F(l,c),ut(l))}function Xx(l){var c=l.memoizedState,g=0;c!==null&&(g=c.retryLane),wg(l,g)}function qx(l,c){var g=0;switch(l.tag){case 31:case 13:var b=l.stateNode,E=l.memoizedState;E!==null&&(g=E.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(a(314))}b!==null&&b.delete(c),wg(l,g)}function Ri(l,c){return Wu(l,c)}function Mp(l,c,g,b){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sl(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ra(l,c){var g=l.alternate;return g===null?(g=t(l.tag,c,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=c,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,c=l.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function fh(l,c){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,c=g.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function Qr(l,c,g,b,E,R){var V=0;if(b=l,typeof l=="function")Sl(l)&&(V=1);else if(typeof l=="string")V=Da&&ki?Eh(l,g,Qi.current)?26:rm(l)?27:5:Da?Eh(l,g,Qi.current)?26:5:ki&&rm(l)?27:5;else e:switch(l){case Bu:return l=t(31,g,c,E),l.elementType=Bu,l.lanes=R,l;case El:return Ca(g.children,E,R,c);case Al:V=8,E|=24;break;case Cl:return l=t(12,g,c,E|2),l.elementType=Cl,l.lanes=R,l;case mh:return l=t(13,g,c,E),l.elementType=mh,l.lanes=R,l;case Jr:return l=t(19,g,c,E),l.elementType=Jr,l.lanes=R,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case Ra:V=10;break e;case zu:V=9;break e;case Mc:V=11;break e;case gh:V=14;break e;case Ts:V=16,b=null;break e}V=29,g=Error(a(130,l===null?"null":typeof l,"")),b=null}return c=t(V,g,c,E),c.elementType=l,c.type=b,c.lanes=R,c}function Ca(l,c,g,b){return l=t(7,l,b,c),l.lanes=g,l}function wp(l,c,g){return l=t(6,l,null,c),l.lanes=g,l}function Tp(l){var c=t(18,null,null,0);return c.stateNode=l,c}function Ep(l,c,g){return c=t(4,l.children!==null?l.children:[],l.key,c),c.lanes=g,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function Tg(l,c,g,b,E,R,V,$,Re){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Bs,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=b,this.onUncaughtError=E,this.onCaughtError=R,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function Oo(l,c,g,b,E,R,V,$,Re,He,it,qe){return l=new Tg(l,c,g,V,Re,He,it,qe,$),c=1,R===!0&&(c|=24),R=t(3,null,null,c),l.current=R,R.stateNode=l,c=Me(),c.refCount++,l.pooledCache=c,c.refCount++,R.memoizedState={element:b,isDehydrated:g,cache:c},zi(R),l}function hh(l){return l?(l=Tr,l):Tr}function Uu(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return l=h(c),l=l!==null?d(l):null,l===null?null:Tc(l.stateNode)}function Ap(l,c,g,b,E,R){E=hh(E),b.context===null?b.context=E:b.pendingContext=E,b=ta(c),b.payload={element:g},R=R===void 0?null:R,R!==null&&(b.callback=R),g=na(l,b,c),g!==null&&(ri(g,l,c),Mo(g,l,c))}function Ml(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<c?g:c}}function Ou(l,c){Ml(l,c),(l=l.alternate)&&Ml(l,c)}var an={},dh=Je,Os=ak,ph=Object.assign,wl=Symbol.for("react.element"),wr=Symbol.for("react.transitional.element"),Tl=Symbol.for("react.portal"),El=Symbol.for("react.fragment"),Al=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),zu=Symbol.for("react.consumer"),Ra=Symbol.for("react.context"),Mc=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),Jr=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),Bu=Symbol.for("react.activity"),Cp=Symbol.for("react.memo_cache_sentinel"),$r=Symbol.iterator,zo=Symbol.for("react.client.reference"),Bo=Array.isArray,Pt=dh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rp=e.rendererVersion,Fu=e.rendererPackageName,wc=e.extraDevToolsConfig,Tc=e.getPublicInstance,Eg=e.getRootHostContext,Ec=e.getChildHostContext,vh=e.prepareForCommit,Ag=e.resetAfterCommit,Np=e.createInstance;e.cloneMutableInstance;var ku=e.appendInitialChild,zs=e.finalizeInitialChildren,Es=e.shouldSetTextContent,eo=e.createTextInstance;e.cloneMutableTextInstance;var Dp=e.scheduleTimeout,Cg=e.cancelTimeout,Bs=e.noTimeout,vi=e.isPrimaryRenderer;e.warnsIfNotActing;var yn=e.supportsMutation,oa=e.supportsPersistence,ti=e.supportsHydration,Jt=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var kn=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var pn=e.setCurrentUpdatePriority,Na=e.getCurrentUpdatePriority,Ac=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Rl=e.shouldAttemptEagerTransition,yh=e.detachDeletedInstance;e.requestPostPaintCallback;var Vu=e.maySuspendCommit,Cc=e.maySuspendCommitOnUpdate,Lp=e.maySuspendCommitInSyncRender,oi=e.preloadInstance,Ip=e.startSuspendingCommit,xh=e.suspendInstance;e.suspendOnActiveViewTransition;var Rg=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Nl=e.NotPendingTransition,Dl=e.HostTransitionContext,Pp=e.resetFormInstance;e.bindToConsole;var Up=e.supportsMicrotasks,Op=e.scheduleMicrotask,Fi=e.supportsTestSelectors,yi=e.findFiberRoot,bh=e.getBoundingRect,Hu=e.getTextContent,Fo=e.isHiddenSubtree,zp=e.matchAccessibilityRole,to=e.setFocusIfFocusable,_h=e.setupIntersectionObserver,Bp=e.appendChild,Fp=e.appendChildToContainer,Ng=e.commitTextUpdate,Dg=e.commitMount,Lg=e.commitUpdate,Ig=e.insertBefore,Pg=e.insertInContainerBefore,Ug=e.removeChild,kp=e.removeChildFromContainer,Vp=e.resetTextContent,Yx=e.hideInstance,Og=e.hideTextInstance,zg=e.unhideInstance,Bg=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Hp=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var Fg=e.cloneInstance,Gp=e.createContainerChildSet,jp=e.appendChildToContainerChildSet,kg=e.finalizeContainerChildren,Wp=e.replaceContainerChildren,Vg=e.cloneHiddenInstance,Xp=e.cloneHiddenTextInstance,ko=e.isSuspenseInstancePending,Sh=e.isSuspenseInstanceFallback,Mh=e.getSuspenseInstanceFallbackErrorDetails,wh=e.registerSuspenseInstanceRetry,Hg=e.canHydrateFormStateMarker,qp=e.isFormStateMarkerMatching,Gg=e.getNextHydratableSibling,jg=e.getNextHydratableSiblingAfterSingleton,Wg=e.getFirstHydratableChild,Xg=e.getFirstHydratableChildWithinContainer,qg=e.getFirstHydratableChildWithinActivityInstance,Yg=e.getFirstHydratableChildWithinSuspenseInstance,Yp=e.getFirstHydratableChildWithinSingleton,Zg=e.canHydrateInstance,Kg=e.canHydrateTextInstance,Zp=e.canHydrateActivityInstance,Qg=e.canHydrateSuspenseInstance,Jg=e.hydrateInstance,Zx=e.hydrateTextInstance,Kp=e.hydrateActivityInstance,$g=e.hydrateSuspenseInstance,ev=e.getNextHydratableInstanceAfterActivityInstance,Qp=e.getNextHydratableInstanceAfterSuspenseInstance,tv=e.commitHydratedInstance,nv=e.commitHydratedContainer,Kx=e.commitHydratedActivityInstance,Qx=e.commitHydratedSuspenseInstance,iv=e.finalizeHydratedChildren,Gu=e.flushHydrationEvents;e.clearActivityBoundary;var Jp=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var Th=e.clearSuspenseBoundaryFromContainer,sv=e.hideDehydratedBoundary,av=e.unhideDehydratedBoundary,Rc=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var rv=e.validateHydratableInstance,$p=e.validateHydratableTextInstance,Da=e.supportsResources,Eh=e.isHostHoistableType,ju=e.getHoistableRoot,em=e.getResource,tm=e.acquireResource,Vo=e.releaseResource,ov=e.hydrateHoistable,nm=e.mountHoistable,im=e.unmountHoistable,Ah=e.createHoistableInstance,lv=e.prepareToCommitHoistables,sm=e.mayResourceSuspendCommit,am=e.preloadResource,cv=e.suspendResource,ki=e.supportsSingletons,Ch=e.resolveSingletonInstance,Ni=e.acquireSingletonInstance,Ki=e.releaseSingletonInstance,rm=e.isHostSingletonType,Ll=e.isSingletonScope,Rh=[],Il=-1,Tr={},Fs=Math.clz32?Math.clz32:C,Nh=Math.log,uv=Math.LN2,Dh=256,Pl=262144,Nc=4194304,Wu=Os.unstable_scheduleCallback,Lh=Os.unstable_cancelCallback,fv=Os.unstable_shouldYield,om=Os.unstable_requestPaint,ps=Os.unstable_now,Ih=Os.unstable_ImmediatePriority,hv=Os.unstable_UserBlockingPriority,Xu=Os.unstable_NormalPriority,Ph=Os.unstable_IdlePriority,lm=Os.log,dv=Os.unstable_setDisableYieldValue,Ul=null,ks=null,xi=typeof Object.is=="function"?Object.is:me,Uh=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Jx=Object.prototype.hasOwnProperty,Oh,Er,qu=!1,cm=new WeakMap,no=[],Ar=0,Vn=null,Yu=0,La=[],la=0,Ia=null,as=1,er="",Qi=x(null),io=x(null),rs=x(null),Zu=x(null),Vi=null,ni=null,mn=!1,Cr=null,As=!1,zh=Error(a(519)),Pa=x(null),qn=null,tr=null,pv=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(g,b){l.push(b)}};this.abort=function(){c.aborted=!0,l.forEach(function(g){return g()})}},Ji=Os.unstable_scheduleCallback,$x=Os.unstable_NormalPriority,ii={$$typeof:Ra,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Ku=null,Pn=null,ms=!1,Ua=!1,Bh=!1,Ho=0,Dc=null,um=0,so=0,Hi=null,Oa=Pt.S;Pt.S=function(l,c){Vl=ps(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Yt(l,c),Oa!==null&&Oa(l,c)};var Go=x(null),Gi=Error(a(460)),Fh=Error(a(474)),za=Error(a(542)),Rr={then:function(){}},Cs=null,jo=null,Ol=0,os=Oi(!0),fm=Oi(!1),ls=[],Nr=0,zl=0,ca=!1,kh=!1,Bl=x(null),Wo=x(0),Vs=x(null),Hs=null,pi=x(0),ao=0,$t=null,Nt=null,Wt=null,rn=!1,nn=!1,bn=!1,gs=0,Ba=0,nr=null,hm=0,ua={readContext:W,use:Ai,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};ua.useEffectEvent=Ye;var li={readContext:W,use:Ai,useCallback:function(l,c){return Kt().memoizedState=[l,c===void 0?null:c],l},useContext:W,useEffect:bu,useImperativeHandle:function(l,c,g){g=g!=null?g.concat([l]):null,gl(4194308,4,rc.bind(null,c,l),g)},useLayoutEffect:function(l,c){return gl(4194308,4,l,c)},useInsertionEffect:function(l,c){gl(4,2,l,c)},useMemo:function(l,c){var g=Kt();c=c===void 0?null:c;var b=l();if(bn){ee(!0);try{l()}finally{ee(!1)}}return g.memoizedState=[b,c],b},useReducer:function(l,c,g){var b=Kt();if(g!==void 0){var E=g(c);if(bn){ee(!0);try{g(c)}finally{ee(!1)}}}else E=c;return b.memoizedState=b.baseState=E,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:E},b.queue=l,l=l.dispatch=Gx.bind(null,$t,l),[b.memoizedState,l]},useRef:function(l){var c=Kt();return l={current:l},c.memoizedState=l},useState:function(l){l=$d(l);var c=l.queue,g=eg.bind(null,$t,c);return c.dispatch=g,[l.memoizedState,g]},useDebugValue:Su,useDeferredValue:function(l,c){var g=Kt();return lc(g,l,c)},useTransition:function(){var l=$d(!1);return l=Q0.bind(null,$t,l.queue,!0,!1),Kt().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,g){var b=$t,E=Kt();if(mn){if(g===void 0)throw Error(a(407));g=g()}else{if(g=c(),on===null)throw Error(a(349));(gn&127)!==0||Xi(b,c,g)}E.memoizedState=g;var R={value:g,getSnapshot:c};return E.queue=R,bu(pl.bind(null,b,R,l),[l]),b.flags|=2048,ia(9,{destroy:void 0},qi.bind(null,b,R,g,c),null),g},useId:function(){var l=Kt(),c=on.identifierPrefix;if(mn){var g=er,b=as;g=(b&~(1<<32-Fs(b)-1)).toString(32)+g,c="_"+c+"R_"+g,g=gs++,0<g&&(c+="H"+g.toString(32)),c+="_"}else g=hm++,c="_"+c+"r_"+g.toString(32)+"_";return l.memoizedState=c},useHostTransitionStatus:sp,useFormState:tp,useActionState:tp,useOptimistic:function(l){var c=Kt();c.memoizedState=c.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=g,c=qf.bind(null,$t,!0,g),g.dispatch=c,[l,c]},useMemoCache:Ja,useCacheRefresh:function(){return Kt().memoizedState=Hx.bind(null,$t)},useEffectEvent:function(l){var c=Kt(),g={impl:l};return c.memoizedState=g,function(){if((hn&2)!==0)throw Error(a(440));return g.impl.apply(void 0,arguments)}}},Dr={readContext:W,use:Ai,useCallback:Wf,useContext:W,useEffect:ac,useImperativeHandle:K0,useInsertionEffect:Eo,useLayoutEffect:_u,useMemo:oc,useReducer:_s,useRef:jf,useState:function(){return _s(Qn)},useDebugValue:Su,useDeferredValue:function(l,c){var g=ct();return ip(g,Nt.memoizedState,l,c)},useTransition:function(){var l=_s(Qn)[0],c=ct().memoizedState;return[typeof l=="boolean"?l:Vt(l),c]},useSyncExternalStore:Ci,useId:Xf,useHostTransitionStatus:sp,useFormState:ic,useActionState:ic,useOptimistic:function(l,c){var g=ct();return yu(g,Nt,l,c)},useMemoCache:Ja,useCacheRefresh:$0};Dr.useEffectEvent=Ss;var Xo={readContext:W,use:Ai,useCallback:Wf,useContext:W,useEffect:ac,useImperativeHandle:K0,useInsertionEffect:Eo,useLayoutEffect:_u,useMemo:oc,useReducer:Bi,useRef:jf,useState:function(){return Bi(Qn)},useDebugValue:Su,useDeferredValue:function(l,c){var g=ct();return Nt===null?lc(g,l,c):ip(g,Nt.memoizedState,l,c)},useTransition:function(){var l=Bi(Qn)[0],c=ct().memoizedState;return[typeof l=="boolean"?l:Vt(l),c]},useSyncExternalStore:Ci,useId:Xf,useHostTransitionStatus:sp,useFormState:sc,useActionState:sc,useOptimistic:function(l,c){var g=ct();return Nt!==null?yu(g,Nt,l,c):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:Ja,useCacheRefresh:$0};Xo.useEffectEvent=Ss;var Qu={enqueueSetState:function(l,c,g){l=l._reactInternals;var b=ei(),E=ta(b);E.payload=c,g!=null&&(E.callback=g),c=na(l,E,b),c!==null&&(ri(c,l,b),Mo(c,l,b))},enqueueReplaceState:function(l,c,g){l=l._reactInternals;var b=ei(),E=ta(b);E.tag=1,E.payload=c,g!=null&&(E.callback=g),c=na(l,E,b),c!==null&&(ri(c,l,b),Mo(c,l,b))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var g=ei(),b=ta(g);b.tag=2,c!=null&&(b.callback=c),c=na(l,b,g),c!==null&&(ri(c,l,g),Mo(c,l,g))}},Rs=Error(a(461)),Jn=!1,Fl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},mi=!1,gi=!1,Lc=!1,dm=typeof WeakSet=="function"?WeakSet:Set,bi=null,ci=null,_i=!1,Un=null,fa=8192,Ic={getCacheForType:function(l){var c=W(ii),g=c.data.get(l);return g===void 0&&(g=l(),c.data.set(l,g)),g},cacheSignal:function(){return W(ii).controller.signal}},Fa=0,Pc=1,Uc=2,Ju=3,qo=4;if(typeof Symbol=="function"&&Symbol.for){var kl=Symbol.for;Fa=kl("selector.component"),Pc=kl("selector.has_pseudo_class"),Uc=kl("selector.role"),Ju=kl("selector.test_id"),qo=kl("selector.text")}var ha=typeof WeakMap=="function"?WeakMap:Map,hn=0,on=null,dn=null,gn=0,On=0,Di=null,ir=!1,Yo=!1,Zo=!1,Lr=0,ui=0,ro=0,Ko=0,Oc=0,Ns=0,zc=0,$u=null,Gs=null,Vh=!1,ef=0,Vl=0,Qo=1/0,tf=null,oo=null,Li=0,lo=null,Hl=null,Ir=0,Bc=0,Hh=null,pm=null,An=0,nf=null;return an.attemptContinuousHydration=function(l){if(l.tag===13||l.tag===31){var c=hs(l,67108864);c!==null&&ri(c,l,67108864),Ou(l,67108864)}},an.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13||l.tag===31){var c=ei();c=Y(c);var g=hs(l,c);g!==null&&ri(g,l,c),Ou(l,c)}},an.attemptSynchronousHydration=function(l){switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var c=A(l.pendingLanes);if(c!==0){for(l.pendingLanes|=2,l.entangledLanes|=2;c;){var g=1<<31-Fs(c);l.entanglements[1]|=g,c&=~g}ut(l),(hn&6)===0&&(Qo=ps()+500,Ze(0))}}break;case 31:case 13:c=hs(l,2),c!==null&&ri(c,l,2),rh(),Ou(l,2)}},an.batchedUpdates=function(l,c){return l(c)},an.createComponentSelector=function(l){return{$$typeof:Fa,value:l}},an.createContainer=function(l,c,g,b,E,R,V,$,Re,He){return Oo(l,c,!1,null,g,b,R,null,V,$,Re,He)},an.createHasPseudoClassSelector=function(l){return{$$typeof:Pc,value:l}},an.createHydrationContainer=function(l,c,g,b,E,R,V,$,Re,He,it,qe,gt,Qt){var Si;return l=Oo(g,b,!0,l,E,R,$,Qt,Re,He,it,qe),l.context=hh(null),g=l.current,b=ei(),b=Y(b),E=ta(b),E.callback=(Si=c)!=null?Si:null,na(g,E,b),c=b,l.current.lanes=c,F(l,c),ut(l),l},an.createPortal=function(l,c,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tl,key:b==null?null:""+b,children:l,containerInfo:c,implementation:g}},an.createRoleSelector=function(l){return{$$typeof:Uc,value:l}},an.createTestNameSelector=function(l){return{$$typeof:Ju,value:l}},an.createTextSelector=function(l){return{$$typeof:qo,value:l}},an.defaultOnCaughtError=function(l){console.error(l)},an.defaultOnRecoverableError=function(l){Uh(l)},an.defaultOnUncaughtError=function(l){Uh(l)},an.deferredUpdates=function(l){var c=Pt.T,g=Na();try{return pn(32),Pt.T=null,l()}finally{pn(g),Pt.T=c}},an.discreteUpdates=function(l,c,g,b,E){var R=Pt.T,V=Na();try{return pn(2),Pt.T=null,l(c,g,b,E)}finally{pn(V),Pt.T=R,hn===0&&(Qo=ps()+500)}},an.findAllNodes=Us,an.findBoundingRects=function(l,c){if(!Fi)throw Error(a(363));c=Us(l,c),l=[];for(var g=0;g<c.length;g++)l.push(bh(c[g]));for(c=l.length-1;0<c;c--){g=l[c];for(var b=g.x,E=b+g.width,R=g.y,V=R+g.height,$=c-1;0<=$;$--)if(c!==$){var Re=l[$],He=Re.x,it=He+Re.width,qe=Re.y,gt=qe+Re.height;if(b>=He&&R>=qe&&E<=it&&V<=gt){l.splice(c,1);break}else if(b!==He||g.width!==Re.width||gt<R||qe>V){if(!(R!==qe||g.height!==Re.height||it<b||He>E)){He>b&&(Re.width+=He-b,Re.x=b),it<E&&(Re.width=E-He),l.splice(c,1);break}}else{qe>R&&(Re.height+=qe-R,Re.y=R),gt<V&&(Re.height=V-qe),l.splice(c,1);break}}}return l},an.findHostInstance=Uu,an.findHostInstanceWithNoPortals=function(l){return l=h(l),l=l!==null?p(l):null,l===null?null:Tc(l.stateNode)},an.findHostInstanceWithWarning=function(l){return Uu(l)},an.flushPassiveEffects=Mr,an.flushSyncFromReconciler=function(l){var c=hn;hn|=1;var g=Pt.T,b=Na();try{if(pn(2),Pt.T=null,l)return l()}finally{pn(b),Pt.T=g,hn=c,(hn&6)===0&&Ze(0)}},an.flushSyncWork=rh,an.focusWithin=function(l,c){if(!Fi)throw Error(a(363));for(l=Do(l),c=yc(l,c),c=Array.from(c),l=0;l<c.length;){var g=c[l++],b=g.tag;if(!Fo(g)){if((b===5||b===26||b===27)&&to(g.stateNode))return!0;for(g=g.child;g!==null;)c.push(g),g=g.sibling}}return!1},an.getFindAllNodesFailureDescription=function(l,c){if(!Fi)throw Error(a(363));var g=0,b=[];l=[Do(l),0];for(var E=0;E<l.length;){var R=l[E++],V=R.tag,$=l[E++],Re=c[$];if((V!==5&&V!==26&&V!==27||!Fo(R))&&(Lo(R,Re)&&(b.push(vc(Re)),$++,$>g&&(g=$)),$<c.length))for(R=R.child;R!==null;)l.push(R,$),R=R.sibling}if(g<c.length){for(l=[];g<c.length;g++)l.push(vc(c[g]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},an.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 27:case 5:return Tc(l.child.stateNode);default:return l.child.stateNode}},an.injectIntoDevTools=function(){var l={bundleType:0,version:Rp,rendererPackageName:Fu,currentDispatcherRef:Pt,reconcilerVersion:"19.2.0"};if(wc!==null&&(l.rendererConfig=wc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)l=!0;else{try{Ul=c.inject(l),ks=c}catch{}l=!!c.checkDCE}}return l},an.isAlreadyRendering=function(){return(hn&6)!==0},an.observeVisibleRects=function(l,c,g,b){if(!Fi)throw Error(a(363));l=Us(l,c);var E=_h(l,g,b).disconnect;return{disconnect:function(){E()}}},an.shouldError=function(){return null},an.shouldSuspend=function(){return!1},an.startHostTransition=function(l,c,g,b){if(l.tag!==5)throw Error(a(476));var E=J0(l).queue;Q0(l,E,c,Nl,g===null?i:function(){var R=J0(l);return R.next===null&&(R=l.alternate.memoizedState),Mu(l,R.next.queue,{},ei()),g(b)})},an.updateContainer=function(l,c,g,b){var E=c.current,R=ei();return Ap(E,R,l,c,g,b),R},an.updateContainerSync=function(l,c,g,b){return Ap(c.current,2,l,c,g,b),2},an},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(wA)),wA.exports}var EA;function Ik(){return EA||(EA=1,MA.exports=Lk()),MA.exports}var Pk=Ik();const Uk=Dk(Pk);function Ok(n){const e=Uk(n);return e.injectIntoDevTools(),e}const IR=0,Hd={},zk=/^three(?=[A-Z])/,Vx=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Bk=0;const Fk=n=>typeof n=="function";function kk(n){if(Fk(n)){const e=`${Bk++}`;return Hd[e]=n,e}else Object.assign(Hd,n)}function PR(n,e){const t=Vx(n),i=Hd[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Vk(n,e,t){var i;return n=Vx(n)in Hd?n:n.replace(zk,""),PR(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,q1(e.object,t,n,e)}function Hk(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Z1(n.parent,n):ja(n.object)&&(n.object.visible=!1),n.isHidden=!0,Jd(n)}}function UR(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Y1(n.parent,n):ja(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Jd(n)}}function y3(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var a,o;const u=Hd[Vx(e.type)];e.object=(a=e.props.object)!=null?a:new u(...(o=e.props.args)!=null?o:[]),e.object.__r3f=e}if(nu(e.object,e.props),e.props.attach)Y1(n,e);else if(ja(e.object)&&ja(n.object)){const u=n.object.children.indexOf(t?.object);if(t&&u!==-1){const h=n.object.children.indexOf(e.object);if(h!==-1){n.object.children.splice(h,1);const d=h<u?u-1:u;n.object.children.splice(d,0,e.object)}else e.object.parent=n.object,n.object.children.splice(u,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const u of e.children)y3(e,u);Jd(e)}}function B_(n,e){e&&(e.parent=n,n.children.push(e),y3(n,e))}function AA(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),y3(n,e,t)}function OR(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():LS.unstable_scheduleCallback(LS.unstable_IdlePriority,e)}}function PS(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?Z1(n,e):ja(e.object)&&ja(n.object)&&(n.object.remove(e.object),Sk(ER(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let o=e.children.length-1;o>=0;o--){const u=e.children[o];PS(e,u,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&OR(e.object),t===void 0&&Jd(e)}function Gk(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const Gy=[];function jk(){for(const[t]of Gy){const i=t.parent;if(i){t.props.attach?Z1(i,t):ja(t.object)&&ja(i.object)&&i.object.remove(t.object);for(const a of t.children)a.props.attach?Z1(t,a):ja(a.object)&&ja(t.object)&&t.object.remove(a.object)}t.isHidden&&UR(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&OR(t.object)}for(const[t,i,a]of Gy){t.props=i;const o=t.parent;if(o){var n,e;const u=Hd[Vx(t.type)];t.object=(n=t.props.object)!=null?n:new u(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Gk(a,t.object),nu(t.object,t.props),t.props.attach?Y1(o,t):ja(t.object)&&ja(o.object)&&o.object.add(t.object);for(const h of t.children)h.props.attach?Y1(t,h):ja(h.object)&&ja(t.object)&&t.object.add(h.object);Jd(t)}}Gy.length=0}const F_=()=>{},CA={};let Ay=IR;const Wk=0,Xk=4,US=Ok({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Vk,removeChild:PS,appendChild:B_,appendInitialChild:B_,insertBefore:AA,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||B_(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||PS(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||AA(i,e,t)},getRootHostContext:()=>CA,getChildHostContext:()=>CA,commitUpdate(n,e,t,i,a){var o,u,h;PR(e,i);let d=!1;if((n.type==="primitive"&&t.object!==i.object||((o=i.args)==null?void 0:o.length)!==((u=t.args)==null?void 0:u.length)||(h=i.args)!=null&&h.some((y,v)=>{var x;return y!==((x=t.args)==null?void 0:x[v])}))&&(d=!0),d)Gy.push([n,{...i},a]);else{const y=yk(n,i);Object.keys(y).length&&(Object.assign(n.props,y),nu(n.object,y))}(a.sibling===null||(a.flags&Xk)===Wk)&&jk()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>q1(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Hk,unhideInstance:UR,createTextInstance:F_,hideTextInstance:F_,unhideTextInstance:F_,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:de.createContext(null),setCurrentUpdatePriority(n){Ay=n},getCurrentUpdatePriority(){return Ay},resolveUpdatePriority(){var n;if(Ay!==IR)return Ay;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Rk;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ak;default:return Ck}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:Nk.version,applyViewTransitionName(n,e,t){},restoreViewTransitionName(n,e){},cancelViewTransitionName(n,e,t){},cancelRootViewTransitionName(n){},restoreRootViewTransitionName(n){},InstanceMeasurement:null,measureInstance:n=>null,wasInstanceInViewport:n=>!0,hasInstanceChanged:(n,e)=>!1,hasInstanceAffectedParent:(n,e)=>!1,suspendOnActiveViewTransition(n,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(n){},createViewTransitionInstance:n=>null,getCurrentGestureOffset(n){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(n,e){return n},cloneMutableTextInstance(n){return n},cloneRootViewTransitionContainer(n){throw new Error("Not implemented.")},removeRootViewTransitionClone(n,e){throw new Error("Not implemented.")},createFragmentInstance:n=>null,updateFragmentInstanceFiber(n,e){},commitNewChildToFragmentInstance(n,e){},deleteChildFromFragmentInstance(n,e){},measureClonedInstance:n=>null,maySuspendCommitOnUpdate:(n,e,t)=>!1,maySuspendCommitInSyncRender:(n,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(n,e)=>null}),zf=new Map,md={objects:"shallow",strict:!1};function qk(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:a,left:o}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:a,left:o}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Yk(n){const e=zf.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,o=i||wk(BS,NA),u=t||US.createContainer(o,Ek,null,!1,null,"",a,a,a,null);e||zf.set(n,{fiber:u,store:o});let h,d,p=!1,y=null;return{async configure(v={}){let x;y=new Promise(X=>x=X);let{gl:S,size:T,scene:C,events:A,onCreated:M,shadows:N=!1,linear:D=!1,flat:I=!1,legacy:z=!1,orthographic:F=!1,frameloop:k="always",dpr:j=[1,2],performance:U,raycaster:B,camera:Y,onPointerMissed:ie}=v,ee=o.getState(),me=ee.gl;if(!ee.gl){const X={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},re=typeof S=="function"?await S(X):S;SA(re)?me=re:me=new SR({...X,...S}),ee.set({gl:me})}let he=ee.raycaster;he||ee.set({raycaster:he=new dR});const{params:q,...K}=B||{};if(Mi.equ(K,he,md)||nu(he,{...K}),Mi.equ(q,he.params,md)||nu(he,{params:{...he.params,...q}}),!ee.camera||ee.camera===d&&!Mi.equ(d,Y,md)){d=Y;const X=Y?.isCamera,re=X?Y:F?new Kd(0,0,0,0,.1,1e3):new xs(75,0,.1,1e3);X||(re.position.z=5,Y&&(nu(re,Y),re.manual||("aspect"in Y||"left"in Y||"right"in Y||"bottom"in Y||"top"in Y)&&(re.manual=!0,re.updateProjectionMatrix())),!ee.camera&&!(Y!=null&&Y.rotation)&&re.lookAt(0,0,0)),ee.set({camera:re}),he.camera=re}if(!ee.scene){let X;C!=null&&C.isScene?(X=C,q1(X,o,"",{})):(X=new HM,q1(X,o,"",{}),C&&nu(X,C)),ee.set({scene:X})}A&&!ee.events.handlers&&ee.set({events:A(o)});const oe=qk(n,T);if(Mi.equ(oe,ee.size,md)||ee.setSize(oe.width,oe.height,oe.top,oe.left),j&&ee.viewport.dpr!==RR(j)&&ee.setDpr(j),ee.frameloop!==k&&ee.setFrameloop(k),ee.onPointerMissed||ee.set({onPointerMissed:ie}),U&&!Mi.equ(U,ee.performance,md)&&ee.set(X=>({performance:{...X.performance,...U}})),!ee.xr){var Ee;const X=(De,Xe)=>{const ce=o.getState();ce.frameloop!=="never"&&NA(De,!0,ce,Xe)},re=()=>{const De=o.getState();De.gl.xr.enabled=De.gl.xr.isPresenting,De.gl.xr.setAnimationLoop(De.gl.xr.isPresenting?X:null),De.gl.xr.isPresenting||BS(De)},pe={connect(){const De=o.getState().gl;De.xr.addEventListener("sessionstart",re),De.xr.addEventListener("sessionend",re)},disconnect(){const De=o.getState().gl;De.xr.removeEventListener("sessionstart",re),De.xr.removeEventListener("sessionend",re)}};typeof((Ee=me.xr)==null?void 0:Ee.addEventListener)=="function"&&pe.connect(),ee.set({xr:pe})}if(me.shadowMap){const X=me.shadowMap.enabled,re=me.shadowMap.type;if(me.shadowMap.enabled=!!N,Mi.boo(N))me.shadowMap.type=Km;else if(Mi.str(N)){var Ce;const pe={basic:LC,percentage:Ad,soft:Km,variance:wf};me.shadowMap.type=(Ce=pe[N])!=null?Ce:Km}else Mi.obj(N)&&Object.assign(me.shadowMap,N);(X!==me.shadowMap.enabled||re!==me.shadowMap.type)&&(me.shadowMap.needsUpdate=!0)}return Tn.enabled=!z,p||(me.outputColorSpace=D?uu:Ys,me.toneMapping=I?Fr:ax),ee.legacy!==z&&ee.set(()=>({legacy:z})),ee.linear!==D&&ee.set(()=>({linear:D})),ee.flat!==I&&ee.set(()=>({flat:I})),S&&!Mi.fun(S)&&!SA(S)&&!Mi.equ(S,me,md)&&nu(me,S),h=M,p=!0,x(),this},render(v){return!p&&!y&&this.configure(),y.then(()=>{US.updateContainer(P.jsx(Zk,{store:o,children:v,onCreated:h,rootElement:n}),u,null,()=>{})}),o},unmount(){zR(n)}}}function Zk({store:n,children:e,onCreated:t,rootElement:i}){return X0(()=>{const a=n.getState();a.set(o=>({internal:{...o.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(i)},[]),P.jsx(LR.Provider,{value:n,children:e})}function zR(n,e){const t=zf.get(n),i=t?.fiber;if(i){const a=t?.store.getState();a&&(a.internal.active=!1),US.updateContainer(null,i,null,()=>{a&&setTimeout(()=>{try{var o,u,h,d;a.events.disconnect==null||a.events.disconnect(),(o=a.gl)==null||(u=o.renderLists)==null||u.dispose==null||u.dispose(),(h=a.gl)==null||h.forceContextLoss==null||h.forceContextLoss(),(d=a.gl)!=null&&d.xr&&a.xr.disconnect(),mk(a.scene),zf.delete(n)}catch{}},500)})}}const Kk=new Set,Qk=new Set,Jk=new Set;function k_(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function a0(n,e){switch(n){case"before":return k_(Kk,e);case"after":return k_(Qk,e);case"tail":return k_(Jk,e)}}let V_,H_;function OS(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),V_=e.internal.subscribers;for(let a=0;a<V_.length;a++)H_=V_[a],H_.ref.current(H_.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let K1=!1,zS=!1,G_,RA,gd;function BR(n){RA=requestAnimationFrame(BR),K1=!0,G_=0,a0("before",n),zS=!0;for(const t of zf.values()){var e;gd=t.store.getState(),gd.internal.active&&(gd.frameloop==="always"||gd.internal.frames>0)&&!((e=gd.gl.xr)!=null&&e.isPresenting)&&(G_+=OS(n,gd))}if(zS=!1,a0("after",n),G_===0)return a0("tail",n),K1=!1,cancelAnimationFrame(RA)}function BS(n,e=1){var t;if(!n)return zf.forEach(i=>BS(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):zS?n.internal.frames=2:n.internal.frames=1,K1||(K1=!0,requestAnimationFrame(BR)))}function NA(n,e=!0,t,i){if(e&&a0("before",n),t)OS(n,t,i);else for(const a of zf.values())OS(n,a.store.getState());e&&a0("after",n)}const j_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function $k(n){const{handlePointer:e}=Mk(n);return{priority:1,enabled:!0,compute(t,i,a){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(j_).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:i,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:t}})),a.handlers)for(const o in a.handlers){const u=a.handlers[o],[h,d]=j_[o];t.addEventListener(h,u,{passive:d})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const a in i.handlers){const o=i.handlers[a],[u]=j_[a];i.connected.removeEventListener(u,o)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function DA(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function eV({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,u]=de.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=de.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),d=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,y=de.useRef(!1);de.useEffect(()=>(y.current=!0,()=>void(y.current=!1)));const[v,x,S]=de.useMemo(()=>{const M=()=>{if(!h.current.element)return;const{left:N,top:D,width:I,height:z,bottom:F,right:k,x:j,y:U}=h.current.element.getBoundingClientRect(),B={left:N,top:D,width:I,height:z,bottom:F,right:k,x:j,y:U};h.current.element instanceof HTMLElement&&i&&(B.height=h.current.element.offsetHeight,B.width=h.current.element.offsetWidth),Object.freeze(B),y.current&&!sV(h.current.lastBounds,B)&&u(h.current.lastBounds=B)};return[M,p?DA(M,p):M,d?DA(M,d):M]},[u,i,d,p]);function T(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",S,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null),h.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",h.current.orientationHandler))}function C(){h.current.element&&(h.current.resizeObserver=new a(S),h.current.resizeObserver.observe(h.current.element),e&&h.current.scrollContainers&&h.current.scrollContainers.forEach(M=>M.addEventListener("scroll",S,{capture:!0,passive:!0})),h.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",h.current.orientationHandler))}const A=M=>{!M||M===h.current.element||(T(),h.current.element=M,h.current.scrollContainers=FR(M),C())};return nV(S,!!e),tV(x),de.useEffect(()=>{T(),C()},[e,S,x]),de.useEffect(()=>T,[]),[A,o,v]}function tV(n){de.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function nV(n,e){de.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function FR(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:a}=window.getComputedStyle(n);return[t,i,a].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...FR(n.parentElement)]}const iV=["x","y","top","bottom","left","right","width","height"],sV=(n,e)=>iV.every(t=>n[t]===e[t]);function aV({ref:n,children:e,fallback:t,resize:i,style:a,gl:o,events:u=$k,eventSource:h,eventPrefix:d,shadows:p,linear:y,flat:v,legacy:x,orthographic:S,frameloop:T,dpr:C,performance:A,raycaster:M,camera:N,scene:D,onPointerMissed:I,onCreated:z,...F}){de.useMemo(()=>kk(qF),[]);const k=hk(),[j,U]=eV({scroll:!0,debounce:{scroll:50,resize:0},...i}),B=de.useRef(null),Y=de.useRef(null);de.useImperativeHandle(n,()=>B.current);const ie=CR(I),[ee,me]=de.useState(!1),[he,q]=de.useState(!1);if(ee)throw ee;if(he)throw he;const K=de.useRef(null);X0(()=>{const Ee=B.current;if(U.width>0&&U.height>0&&Ee){K.current||(K.current=Yk(Ee));async function Ce(){await K.current.configure({gl:o,scene:D,events:u,shadows:p,linear:y,flat:v,legacy:x,orthographic:S,frameloop:T,dpr:C,performance:A,raycaster:M,camera:N,size:U,onPointerMissed:(...X)=>ie.current==null?void 0:ie.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(h?uk(h)?h.current:h:Y.current),d&&X.setEvents({compute:(re,pe)=>{const De=re[d+"X"],Xe=re[d+"Y"];pe.pointer.set(De/pe.size.width*2-1,-(Xe/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),z?.(X)}}),K.current.render(P.jsx(k,{children:P.jsx(pk,{set:q,children:P.jsx(de.Suspense,{fallback:P.jsx(dk,{set:me}),children:e??null})})}))}Ce()}}),de.useEffect(()=>{const Ee=B.current;if(Ee)return()=>zR(Ee)},[]);const oe=h?"none":"auto";return P.jsx("div",{ref:Y,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:oe,...a},...F,children:P.jsx("div",{ref:j,style:{width:"100%",height:"100%"},children:P.jsx("canvas",{ref:B,style:{display:"block"},children:t})})})}function rV(n){return P.jsx(wR,{children:P.jsx(aV,{...n})})}function FS(){return FS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},FS.apply(null,arguments)}const oV=()=>parseInt(O0.replace(/\D+/g,"")),lV=oV();function kR(n,e){const t=n+"Geometry";return de.forwardRef(({args:i,children:a,...o},u)=>{const h=de.useRef(null);return de.useImperativeHandle(u,()=>h.current),de.useLayoutEffect(()=>void e?.(h.current)),de.createElement("mesh",FS({ref:h},o),de.createElement(t,{attach:"geometry",args:i}),a)})}const cV=kR("sphere"),LA=kR("torus"),uV=de.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:a=1,floatingRange:o=[-.1,.1],autoInvalidate:u=!1,...h},d)=>{const p=de.useRef(null);de.useImperativeHandle(d,()=>p.current,[]);const y=de.useRef(Math.random()*1e4);return v3(v=>{var x,S;if(!e||t===0)return;u&&v.invalidate();const T=y.current+v.clock.elapsedTime;p.current.rotation.x=Math.cos(T/4*t)/8*i,p.current.rotation.y=Math.sin(T/4*t)/8*i,p.current.rotation.z=Math.sin(T/4*t)/20*i;let C=Math.sin(T/4*t)/10;C=p5.mapLinear(C,-.1,.1,(x=o?.[0])!==null&&x!==void 0?x:-.1,(S=o?.[1])!==null&&S!==void 0?S:.1),p.current.position.y=C*a,p.current.updateMatrix()}),de.createElement("group",h,de.createElement("group",{ref:p,matrixAutoUpdate:!1},n))});class fV extends ur{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${lV>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const hV=n=>new Q().setFromSpherical(new pR(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),dV=de.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:i=0,factor:a=4,fade:o=!1,speed:u=1},h)=>{const d=de.useRef(null),[p,y,v]=de.useMemo(()=>{const S=[],T=[],C=Array.from({length:t},()=>(.5+.5*Math.random())*a),A=new yt;let M=n+e;const N=e/t;for(let D=0;D<t;D++)M-=N*Math.random(),S.push(...hV(M).toArray()),A.setHSL(D/t,i,.9),T.push(A.r,A.g,A.b);return[new Float32Array(S),new Float32Array(T),new Float32Array(C)]},[t,e,a,n,i]);v3(S=>d.current&&(d.current.uniforms.time.value=S.clock.elapsedTime*u));const[x]=de.useState(()=>new fV);return de.createElement("points",{ref:h},de.createElement("bufferGeometry",null,de.createElement("bufferAttribute",{attach:"attributes-position",args:[p,3]}),de.createElement("bufferAttribute",{attach:"attributes-color",args:[y,3]}),de.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]})),de.createElement("primitive",{ref:d,object:x,attach:"material",blending:e1,"uniforms-fade-value":o,depthWrite:!1,transparent:!0,vertexColors:!0}))});function W_({position:n,color:e,geometry:t}){const i=de.useRef();return v3(a=>{i.current.rotation.x+=.005,i.current.rotation.y+=.006}),P.jsx(uV,{speed:2,rotationIntensity:1.5,floatIntensity:2,children:P.jsx(t,{ref:i,position:n,args:[1,.4,100],children:P.jsx("meshStandardMaterial",{color:e,roughness:.1,metalness:.8,emissive:e,emissiveIntensity:.2})})})}const pV=()=>{const[n,e]=Je.useState(!1);return Je.useEffect(()=>{const t=()=>e(window.innerWidth<1024);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),P.jsx("div",{className:"absolute inset-0 z-0 bg-slate-900 pointer-events-none w-full h-full overflow-hidden",children:P.jsxs(rV,{camera:{position:[0,0,10],fov:50},dpr:n?[1,1]:[1,2],children:[P.jsx("ambientLight",{intensity:.5}),P.jsx("pointLight",{position:[10,10,10],intensity:1.5,color:"#4f46e5"}),P.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#ec4899"}),P.jsx(dV,{radius:100,depth:50,count:n?1500:5e3,factor:4,saturation:0,fade:!0,speed:1}),!n&&P.jsxs(P.Fragment,{children:[P.jsx(W_,{position:[-3,2,-5],color:"#6366f1",geometry:LA}),P.jsx(W_,{position:[4,-1,-8],color:"#a855f7",geometry:cV}),P.jsx(W_,{position:[-5,-4,-10],color:"#3b82f6",geometry:LA})]})]})})},mV=()=>{const n=["Sakthivel","Software Engineer","Frontend Expert","UI/UX Engineer"],[e,t]=de.useState(0);return de.useEffect(()=>{const i=setInterval(()=>{t(a=>(a+1)%n.length)},3e3);return()=>clearInterval(i)},[]),P.jsxs("div",{className:"inline-block relative h-[1.2em] align-bottom min-w-[300px] md:min-w-[550px]",children:[P.jsx(Lf,{children:P.jsx(zt.span,{initial:{opacity:0,y:15,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-15,scale:.95},transition:{duration:.4,ease:"easeOut"},className:"absolute left-1/2 -translate-x-1/2 top-0 whitespace-nowrap bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent font-bold will-change-[transform,opacity]",style:{filter:"drop-shadow(0 0 20px rgba(129, 140, 248, 0.4))"},children:n[e].split("").map((i,a)=>P.jsx(zt.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:a*.03,ease:"easeOut"},className:"inline-block",children:i===" "?"":i},a))},e)}),P.jsx(zt.div,{animate:{opacity:[.3,.6,.3],scale:[.95,1.05,.95]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-gradient-to-r from-indigo-500/20 via-purple-500/20 to-pink-500/20 blur-2xl -z-10"})]})},gV=()=>{const[n,e]=de.useState(!1);return de.useEffect(()=>{const t=()=>e(window.innerWidth>=1024);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),P.jsxs("section",{id:"home",className:"h-screen flex items-center justify-center relative overflow-hidden bg-slate-900",children:[n&&P.jsx(pV,{}),!n&&P.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(79,70,229,0.15),transparent_70%)]"}),P.jsxs("div",{className:"section-container relative z-10 text-center px-4 h-full flex flex-col justify-center max-w-4xl mx-auto",children:[P.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow pt-20",children:[P.jsxs(zt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 mb-8 backdrop-blur-md shadow-[0_0_15px_rgba(16,185,129,0.05)]",children:[P.jsxs("span",{className:"relative flex h-2 w-2",children:[P.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),P.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.8)]"})]}),P.jsx("span",{className:"text-[10px] md:text-xs font-bold text-emerald-400 tracking-[0.1em] uppercase",children:"Available for work"})]}),P.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold font-display mb-4 text-slate-100 leading-[1.1] tracking-tight",children:["Hello, I'm ",P.jsx("br",{className:"hidden md:block"}),P.jsx(mV,{})]}),P.jsxs("p",{className:"text-sm md:text-base text-slate-300 mb-8 max-w-xl mx-auto leading-relaxed font-normal px-2",children:["Passionate"," ",P.jsx("span",{className:"font-semibold text-white",children:"Software Engineer"})," ","focused on building modern, scalable web applications using React, Next.js, and AI-powered development tools."]})]}),P.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center w-full pb-10 md:pb-20",children:[P.jsxs("a",{href:"#projects",className:"btn-primary w-full sm:w-auto justify-center",children:["View Projects ",P.jsx(mw,{className:"text-lg"})]}),P.jsxs("a",{href:"https://drive.google.com/file/d/1zsVi8trp1MzeQkCQMyQu1sFsCScB-HBI/view?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"btn-primary w-full sm:w-auto justify-center",children:["View Resume ",P.jsx(mw,{className:"text-lg"})]})]})]})]})},vV="/Sakthi-Software-Engineer-Portfolio/assets/Profile%20Image1-CGfEyWM-.jpg",yV=({children:n,className:e})=>{const t=Nd(0),i=Nd(0),a=$y(Dd(i,[-100,100],[10,-10]),{stiffness:100,damping:30}),o=$y(Dd(t,[-100,100],[-10,10]),{stiffness:100,damping:30});function u(d){if(window.innerWidth<1024)return;const p=d.currentTarget.getBoundingClientRect(),y=p.width,v=p.height,x=d.clientX-p.left,S=d.clientY-p.top;t.set(x-y/2),i.set(S-v/2)}function h(){t.set(0),i.set(0)}return P.jsx(zt.div,{style:{rotateX:a,rotateY:o,transformStyle:"preserve-3d"},onMouseMove:u,onMouseLeave:h,className:`${e} perspective-1000 will-change-transform shadow-2xl`,children:n})},xV=({className:n})=>{const e=[{label:"Experience",value:"1.7+ Years",color:"bg-blue-50 text-blue-600"},{label:"Projects",value:"10+ Built",color:"bg-indigo-50 text-indigo-600"},{label:"Technologies",value:"15+ Stack",color:"bg-purple-50 text-purple-600"}],t=[...e,...e,...e];return P.jsxs("div",{className:`flex shadow-2xl bg-white/50 backdrop-blur-md rounded-3xl p-6 border border-white/50 overflow-hidden transform rotate-[-5deg] hover:rotate-0 transition-transform duration-500 gpu ${n}`,children:[P.jsxs("div",{className:"flex gap-4",children:[P.jsx("div",{className:"flex flex-col gap-4 h-48 overflow-hidden mask-gradient-y",children:P.jsx(zt.div,{animate:window.innerWidth>=1024?{y:["0%","-33.33%"]}:{y:"0%"},transition:{duration:8,repeat:1/0,ease:"linear"},className:"flex flex-col gap-4",children:t.map((i,a)=>P.jsxs("div",{className:"w-32 bg-white p-3 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center justify-center shrink-0",children:[P.jsx("span",{className:`text-[10px] font-black uppercase tracking-wider mb-1 px-2 py-0.5 rounded-full ${i.color}`,children:i.label}),P.jsx("span",{className:"text-lg font-bold font-display text-slate-800",children:i.value})]},`c1-${a}`))})}),P.jsx("div",{className:"flex flex-col gap-4 h-48 overflow-hidden mask-gradient-y",children:P.jsx(zt.div,{animate:window.innerWidth>=1024?{y:["-33.33%","0%"]}:{y:"-33.33%"},transition:{duration:8,repeat:1/0,ease:"linear"},className:"flex flex-col gap-4",children:t.map((i,a)=>P.jsxs("div",{className:"w-32 bg-white p-3 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center justify-center shrink-0",children:[P.jsx("span",{className:`text-[10px] font-black uppercase tracking-wider mb-1 px-2 py-0.5 rounded-full ${i.color}`,children:i.label}),P.jsx("span",{className:"text-lg font-bold font-display text-slate-800",children:i.value})]},`c2-${a}`))})})]}),P.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/80 via-transparent to-white/80 pointer-events-none"})]})},bV=()=>P.jsx("section",{id:"about",className:"min-h-screen flex items-center bg-slate-50 relative overflow-hidden py-20 px-4",children:P.jsxs("div",{className:"section-container w-full py-0",children:[P.jsx("div",{className:"text-center mb-12",children:P.jsx(zt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},viewport:{once:!0},children:P.jsxs("h2",{className:"section-title mb-4",children:["About ",P.jsx("span",{className:"text-blue-600",children:"Me"})]})})}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[45%_55%] gap-8 md:gap-16 items-center",children:[P.jsx("div",{className:"order-2 md:order-1",children:P.jsxs(zt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},viewport:{once:!0},className:"max-w-xl mx-auto md:mx-0",children:[P.jsx("p",{className:"text-sm md:text-lg text-slate-600 leading-relaxed mb-6",children:"I am a software engineer focused on crafting scalable, high-performance web applications using modern JavaScript ecosystems. I care deeply about clean architecture, refined UI/UX, and long-term maintainability."}),P.jsx("p",{className:"text-sm md:text-lg text-slate-600 leading-relaxed mb-8",children:"My work blends engineering discipline with visual elegance, ensuring every product is fast, intuitive, and built to scale."}),P.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-5",children:[P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center shrink-0",children:P.jsx(VA,{className:"text-blue-700 text-xl"})}),P.jsx("p",{className:"text-xs md:text-sm font-semibold uppercase tracking-wide text-slate-700",children:"React & React Native Specialist"})]}),P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center shrink-0",children:P.jsx(KN,{className:"text-blue-700 text-xl"})}),P.jsx("p",{className:"text-xs md:text-sm font-semibold uppercase tracking-wide text-slate-700",children:"Scalable System Design"})]}),P.jsxs("div",{className:"flex items-center gap-4 lg:hidden xl:flex",children:[P.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center shrink-0",children:P.jsx(QN,{className:"text-blue-700 text-xl"})}),P.jsx("p",{className:"text-xs md:text-sm font-semibold uppercase tracking-wide text-slate-700",children:"Performance-First Mindset"})]})]})]})}),P.jsxs("div",{className:`relative flex justify-center md:justify-end items-center\r
             h-[320px] sm:h-[400px] md:h-auto order-1 md:order-2\r
             md:pr-12`,children:[P.jsxs("svg",{className:`absolute inset-0 -z-10 w-full h-full \r
             text-blue-200/60 pointer-events-none`,viewBox:"0 0 100 100",fill:"none",preserveAspectRatio:"none",children:[P.jsx("path",{d:"M0 45 C20 35 40 55 60 45 S80 35 100 45",stroke:"currentColor",strokeWidth:"0.4"}),P.jsx("path",{d:"M0 55 C20 45 40 65 60 55 S80 45 100 55",stroke:"currentColor",strokeWidth:"0.4"})]}),P.jsxs("div",{className:"relative w-full max-w-[300px] md:max-w-[380px] aspect-[4/5]",children:[P.jsx(yV,{className:"absolute top-0 right-0 w-[80%] h-[80%] z-20",children:P.jsxs("div",{className:"w-full h-full rounded-[2rem] overflow-hidden shadow-2xl border-4 border-white bg-white",children:[P.jsx("img",{src:vV,alt:"Main Portrait",className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-700"}),P.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/20 via-transparent to-transparent opacity-60"})]})}),P.jsx(xV,{className:"absolute -bottom-2 -left-4 sm:-bottom-6 sm:-left-12 z-40 scale-[0.6] sm:scale-[0.8] origin-bottom-left"}),P.jsxs(zt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"absolute top-[10%] -left-[10%] w-[45%] bg-white/90 backdrop-blur-md p-4 rounded-2xl shadow-xl border border-white/50 z-10 hidden lg:block",children:[P.jsxs("div",{className:"absolute top-2 left-2 flex gap-1",children:[P.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-400"}),P.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-indigo-400"}),P.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-purple-400"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("div",{className:"h-2 w-[80%] bg-slate-100 rounded-full"}),P.jsx("div",{className:"h-2 w-[60%] bg-slate-100 rounded-full"}),P.jsx("div",{className:"h-2 w-[90%] bg-slate-100 rounded-full"})]}),P.jsx("div",{className:"mt-4 flex gap-2",children:P.jsx("div",{className:"px-2 py-1 bg-blue-50 text-blue-600 text-[10px] rounded font-bold",children:"React"})})]})]})]})]})]})});function VR(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.5 0h21l-1.91 21.563L11.977 24l-8.565-2.438L1.5 0zm17.09 4.413L5.41 4.41l.213 2.622 10.125.002-.255 2.716h-6.64l.24 2.573h6.182l-.366 3.523-2.91.804-2.956-.81-.188-2.11h-2.61l.29 3.855L12 19.288l5.373-1.53L18.59 4.414z"},child:[]}]})(n)}function _V(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 18.588a1.529 1.529 0 01-1.895-.72l-3.45-4.771-.5-.667-4.003 5.444a1.466 1.466 0 01-1.802.708l5.158-6.92-4.798-6.251a1.595 1.595 0 011.9.666l3.576 4.83 3.596-4.81a1.435 1.435 0 011.788-.668L21.708 7.9l-2.522 3.283a.666.666 0 000 .994l4.804 6.412zM.002 11.576l.42-2.075c1.154-4.103 5.858-5.81 9.094-3.27 1.895 1.489 2.368 3.597 2.275 5.973H1.116C.943 16.447 4.005 19.009 7.92 17.7a4.078 4.078 0 002.582-2.876c.207-.666.548-.78 1.174-.588a5.417 5.417 0 01-2.589 3.957 6.272 6.272 0 01-7.306-.933 6.575 6.575 0 01-1.64-3.858c0-.235-.08-.455-.134-.666A88.33 88.33 0 010 11.577zm1.127-.286h9.654c-.06-3.076-2.001-5.258-4.59-5.278-2.882-.04-4.944 2.094-5.071 5.264z"},child:[]}]})(n)}function SV(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 0h16v8h-8zM4 8h8l8 8H4zM4 16h8v8z"},child:[]}]})(n)}function MV(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187"},child:[]}]})(n)}function HR(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157H8.531z"},child:[]}]})(n)}function GR(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"},child:[]}]})(n)}function jR(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z"},child:[]}]})(n)}function wV(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.405 5.501c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.695h-.927a50.854 50.854 0 00-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01a72.892 72.892 0 00-.195 4.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335 4.064h.008l1.347-4.064h1.095c.242 2.015.384 3.86.428 5.53zm4.017-4.08c-.378 2.045-.876 3.533-1.492 4.46-.482.716-1.01 1.073-1.583 1.073-.153 0-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268 0 .483-.075.647-.222.197-.18.295-.382.295-.605 0-.155-.077-.47-.23-.944L6.23 14.615h.91l.727 2.36c.164.536.233.91.205 1.123.4-1.064.678-2.227.835-3.483zm12.325 4.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253 0-1.83-.718-2.746-2.155-2.746-.704 0-1.254.232-1.65.697-.43.508-.646 1.256-.646 2.245 0 .972.19 1.686.574 2.14.35.41.877.615 1.583.615.264 0 .506-.033.725-.098l1.325.772.36-.622zM15.5 17.588c-.225-.36-.337-.94-.337-1.736 0-1.393.424-2.09 1.27-2.09.443 0 .77.167.977.5.224.362.336.936.336 1.723 0 1.404-.424 2.108-1.27 2.108-.445 0-.77-.167-.978-.5zm-1.658-.425c0 .47-.172.856-.516 1.156-.344.3-.803.45-1.384.45-.543 0-1.064-.172-1.573-.515l.237-.476c.438.22.833.328 1.19.328.332 0 .593-.073.783-.22a.754.754 0 00.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177 0-.45.157-.81.47-1.085.315-.278.72-.415 1.22-.415.512 0 .98.136 1.4.41l-.213.476a2.726 2.726 0 00-1.064-.23c-.283 0-.502.068-.654.206a.685.685 0 00-.248.524c0 .328.234.61.666.85.393.215 1.187.67 1.187.67.433.305.648.63.648 1.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223 3.223 0 00-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867 8.867 0 00-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69 17.69 0 01-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422 1.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146 1.693.194 2.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445 3.445 0 01-.35-.4 8.76 8.76 0 01-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188 1.01-.027.007-.014 0-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478 2.478 0 01-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953 5.953 0 012.085 2.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z"},child:[]}]})(n)}function TV(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.665 21.978C16.758 23.255 14.465 24 12 24 5.377 24 0 18.623 0 12S5.377 0 12 0s12 5.377 12 12c0 3.583-1.574 6.801-4.067 9.001L9.219 7.2H7.2v9.596h1.615V9.251l9.85 12.727Zm-3.332-8.533 1.6 2.061V7.2h-1.6v6.245Z"},child:[]}]})(n)}function kS(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.076 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.108-0.116,2.108-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.57,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.273-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,1.607c0.024,0.115,0.129,0.199,0.247,0.199h1.141c0.071,0,0.138-0.031,0.186-0.081 c0.048-0.054,0.074-0.123,0.067-0.196c-0.177-2.098-1.571-3.076-4.388-3.076c-2.508,0-4.004,1.058-4.004,2.833 c0,1.925,1.488,2.457,3.895,2.695c2.88,0.282,3.103,0.703,3.103,1.269c0,0.983-0.789,1.402-2.642,1.402 c-2.327,0-2.839-0.584-3.011-1.742c-0.02-0.124-0.126-0.215-0.253-0.215h-1.137c-0.141,0-0.254,0.112-0.254,0.253 c0,1.482,0.806,3.248,4.655,3.248C17.501,17.007,19.099,15.91,19.099,13.993z"},child:[]}]})(n)}function EV(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"},child:[]}]})(n)}function AV(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 0 0-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4794a9.449 9.449 0 0 0-.5159-.0816 8.044 8.044 0 0 0-1.3114-.1278c-1.1822-.0184-2.2038.2642-3.0498.8406-.8573-.3211-4.7888-1.645-7.2219.0788C.9359 2.1526.3086 3.8733.4302 6.3043c.0409.818.5069 3.334 1.2423 5.7436.4598 1.5065.9387 2.7019 1.4334 3.582.553.9942 1.1259 1.5933 1.7143 1.7895.4474.1491 1.1327.1441 1.8581-.7279.8012-.9635 1.5903-1.8258 1.9446-2.2069.4351.2355.9064.3625 1.39.3772a.0569.0569 0 0 0 .0004.0041 11.0312 11.0312 0 0 0-.2472.3054c-.3389.4302-.4094.5197-1.5002.7443-.3102.064-1.1344.2339-1.1464.8115-.0025.1224.0329.2309.0919.3268.2269.4231.9216.6097 1.015.6331 1.3345.3335 2.5044.092 3.3714-.6787-.017 2.231.0775 4.4174.3454 5.0874.2212.5529.7618 1.9045 2.4692 1.9043.2505 0 .5263-.0291.8296-.0941 1.7819-.3821 2.5557-1.1696 2.855-2.9059.1503-.8707.4016-2.8753.5388-4.1012.0169-.0703.0357-.1207.057-.1362.0007-.0005.0697-.0471.4272.0307a.3673.3673 0 0 0 .0443.0068l.2539.0223.0149.001c.8468.0384 1.9114-.1426 2.5312-.4308.6438-.2988 1.8057-1.0323 1.5951-1.6698zM2.371 11.8765c-.7435-2.4358-1.1779-4.8851-1.2123-5.5719-.1086-2.1714.4171-3.6829 1.5623-4.4927 1.8367-1.2986 4.8398-.5408 6.108-.13-.0032.0032-.0066.0061-.0098.0094-2.0238 2.044-1.9758 5.536-1.9708 5.7495-.0002.0823.0066.1989.0162.3593.0348.5873.0996 1.6804-.0735 2.9184-.1609 1.1504.1937 2.2764.9728 3.0892.0806.0841.1648.1631.2518.2374-.3468.3714-1.1004 1.1926-1.9025 2.1576-.5677.6825-.9597.5517-1.0886.5087-.3919-.1307-.813-.5871-1.2381-1.3223-.4796-.839-.9635-2.0317-1.4155-3.5126zm6.0072 5.0871c-.1711-.0428-.3271-.1132-.4322-.1772.0889-.0394.2374-.0902.4833-.1409 1.2833-.2641 1.4815-.4506 1.9143-1.0002.0992-.126.2116-.2687.3673-.4426a.3549.3549 0 0 0 .0737-.1298c.1708-.1513.2724-.1099.4369-.0417.156.0646.3078.26.3695.4752.0291.1016.0619.2945-.0452.4444-.9043 1.2658-2.2216 1.2494-3.1676 1.0128zm2.094-3.988-.0525.141c-.133.3566-.2567.6881-.3334 1.003-.6674-.0021-1.3168-.2872-1.8105-.8024-.6279-.6551-.9131-1.5664-.7825-2.5004.1828-1.3079.1153-2.4468.079-3.0586-.005-.0857-.0095-.1607-.0122-.2199.2957-.2621 1.6659-.9962 2.6429-.7724.4459.1022.7176.4057.8305.928.5846 2.7038.0774 3.8307-.3302 4.7363-.084.1866-.1633.3629-.2311.5454zm7.3637 4.5725c-.0169.1768-.0358.376-.0618.5959l-.146.4383a.3547.3547 0 0 0-.0182.1077c-.0059.4747-.054.6489-.115.8693-.0634.2292-.1353.4891-.1794 1.0575-.11 1.4143-.8782 2.2267-2.4172 2.5565-1.5155.3251-1.7843-.4968-2.0212-1.2217a6.5824 6.5824 0 0 0-.0769-.2266c-.2154-.5858-.1911-1.4119-.1574-2.5551.0165-.5612-.0249-1.9013-.3302-2.6462.0044-.2932.0106-.5909.019-.8918a.3529.3529 0 0 0-.0153-.1126 1.4927 1.4927 0 0 0-.0439-.208c-.1226-.4283-.4213-.7866-.7797-.9351-.1424-.059-.4038-.1672-.7178-.0869.067-.276.1831-.5875.309-.9249l.0529-.142c.0595-.16.134-.3257.213-.5012.4265-.9476 1.0106-2.2453.3766-5.1772-.2374-1.0981-1.0304-1.6343-2.2324-1.5098-.7207.0746-1.3799.3654-1.7088.5321a5.6716 5.6716 0 0 0-.1958.1041c.0918-1.1064.4386-3.1741 1.7357-4.4823a4.0306 4.0306 0 0 1 .3033-.276.3532.3532 0 0 0 .1447-.0644c.7524-.5706 1.6945-.8506 2.802-.8325.4091.0067.8017.0339 1.1742.081 1.939.3544 3.2439 1.4468 4.0359 2.3827.8143.9623 1.2552 1.9315 1.4312 2.4543-1.3232-.1346-2.2234.1268-2.6797.779-.9926 1.4189.543 4.1729 1.2811 5.4964.1353.2426.2522.4522.2889.5413.2403.5825.5515.9713.7787 1.2552.0696.087.1372.1714.1885.245-.4008.1155-1.1208.3825-1.0552 1.717-.0123.1563-.0423.4469-.0834.8148-.0461.2077-.0702.4603-.0994.7662zm.8905-1.6211c-.0405-.8316.2691-.9185.5967-1.0105a2.8566 2.8566 0 0 0 .135-.0406 1.202 1.202 0 0 0 .1342.103c.5703.3765 1.5823.4213 3.0068.1344-.2016.1769-.5189.3994-.9533.6011-.4098.1903-1.0957.333-1.7473.3636-.7197.0336-1.0859-.0807-1.1721-.151zm.5695-9.2712c-.0059.3508-.0542.6692-.1054 1.0017-.055.3576-.112.7274-.1264 1.1762-.0142.4368.0404.8909.0932 1.3301.1066.887.216 1.8003-.2075 2.7014a3.5272 3.5272 0 0 1-.1876-.3856c-.0527-.1276-.1669-.3326-.3251-.6162-.6156-1.1041-2.0574-3.6896-1.3193-4.7446.3795-.5427 1.3408-.5661 2.1781-.463zm.2284 7.0137a12.3762 12.3762 0 0 0-.0853-.1074l-.0355-.0444c.7262-1.1995.5842-2.3862.4578-3.4385-.0519-.4318-.1009-.8396-.0885-1.2226.0129-.4061.0666-.7543.1185-1.0911.0639-.415.1288-.8443.1109-1.3505.0134-.0531.0188-.1158.0118-.1902-.0457-.4855-.5999-1.938-1.7294-3.253-.6076-.7073-1.4896-1.4972-2.6889-2.0395.5251-.1066 1.2328-.2035 2.0244-.1859 2.0515.0456 3.6746.8135 4.8242 2.2824a.908.908 0 0 1 .0667.1002c.7231 1.3556-.2762 6.2751-2.9867 10.5405zm-8.8166-6.1162c-.025.1794-.3089.4225-.6211.4225a.5821.5821 0 0 1-.0809-.0056c-.1873-.026-.3765-.144-.5059-.3156-.0458-.0605-.1203-.178-.1055-.2844.0055-.0401.0261-.0985.0925-.1488.1182-.0894.3518-.1226.6096-.0867.3163.0441.6426.1938.6113.4186zm7.9305-.4114c.0111.0792-.049.201-.1531.3102-.0683.0717-.212.1961-.4079.2232a.5456.5456 0 0 1-.075.0052c-.2935 0-.5414-.2344-.5607-.3717-.024-.1765.2641-.3106.5611-.352.297-.0414.6111.0088.6356.1851z"},child:[]}]})(n)}function VS(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"},child:[]}]})(n)}function HS(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(n)}function CV(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 1.5A1.5 1.5 0 0 1 3.5 0h7A1.5 1.5 0 0 1 12 1.5V8H3.5A1.5 1.5 0 0 1 2 6.5ZM12 8h8.5A1.5 1.5 0 0 1 22 9.5v5a1.5 1.5 0 0 1-1.5 1.5H12ZM2 17.5A1.5 1.5 0 0 1 3.5 16H12v6.5a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 2 22.5Z"},child:[]}]})(n)}function RV(n){return Bn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"},child:[]}]})(n)}const NV=()=>{const n=[{name:"VS Code",icon:P.jsx("img",{src:"assets/skills/vscode.jpg",alt:"VS Code",className:"w-full h-full object-contain rounded-xl"}),bg:"linear-gradient(135deg, #000000ff, #000000ff)"},{name:"AntiGravity",icon:P.jsx("img",{src:"assets/skills/antigravity.png",alt:"AntiGravity",className:"w-full h-full object-contain rounded-xl p-1"}),bg:"linear-gradient(135deg, #000000, #000000ff)"},{name:"Cursor AI",icon:P.jsx("img",{src:"assets/skills/cursor-ai.png",alt:"Cursor AI",className:"w-full h-full object-contain rounded-xl"}),bg:"linear-gradient(135deg, #374151, #111827)"},{name:"Replit",icon:P.jsx(CV,{}),bg:"linear-gradient(135deg, #f26207, #ff6b00)"},{name:"OpenAI Codex",icon:P.jsx(EV,{}),bg:"linear-gradient(135deg, #10a37f, #0d9488)"},{name:"Gemini CLI",icon:P.jsx("img",{src:"assets/skills/gemini-cli.png",alt:"Gemini CLI",className:"w-full h-full object-contain rounded-xl p-1"}),bg:"linear-gradient(135deg, #1A1A1A, #2D2D2D)"},{name:"Figma",icon:P.jsx("img",{src:"assets/skills/figma.png",alt:"Figma",className:"w-full h-full object-contain rounded-xl p-1"}),bg:"linear-gradient(135deg, #000000, #1e1e1e)"},{name:"Framer AI",icon:P.jsx(SV,{}),bg:"linear-gradient(135deg, #0055ff, #0099ff)"},{name:"Lovable",icon:P.jsx("img",{src:"assets/skills/lovable.png",alt:"Lovable",className:"w-full h-full object-contain rounded-xl p-1"}),bg:"linear-gradient(135deg, #0f0f0f, #1a1a1a)"},{name:"Uizard",icon:P.jsx("img",{src:"assets/skills/uizard.png",alt:"Uizard",className:"w-full h-full object-contain rounded-xl p-1"}),bg:"linear-gradient(135deg, #ffffffff, #efefefff)"}];return P.jsxs("section",{className:"tools-section section-container",children:[P.jsxs("div",{className:"text-center mb-12",children:[P.jsxs("h2",{className:"section-title mb-2 text-white",children:["My Creative ",P.jsx("span",{className:"text-blue-400",children:"Toolkit"})]}),P.jsx("p",{className:"section-subtitle text-slate-400",children:"The specialized software and tools that power my workflow."})]}),P.jsx("nav",{className:"blocks",children:n.map((e,t)=>P.jsx("a",{className:"block",style:{"--bg":e.bg},title:e.name,children:P.jsx("div",{className:"block__item",children:e.icon})},t))})]})},DV=()=>{const n=de.useRef(null);return de.useEffect(()=>{const e=n.current,t=e.getContext("2d");let i,a=[];const o=()=>{e.width=e.offsetWidth,e.height=e.offsetHeight},u=()=>{a=[];const d=120;for(let p=0;p<d;p++)a.push({x:Math.random()*e.width,y:Math.random()*e.height,size:Math.random()*2+.5,speedX:(Math.random()-.5)*.3,speedY:(Math.random()-.5)*.3,opacity:Math.random()*.5+.2,hue:Math.random()*60+200})},h=()=>{t.clearRect(0,0,e.width,e.height),a.forEach((d,p)=>{d.x+=d.speedX,d.y+=d.speedY,d.x<0&&(d.x=e.width),d.x>e.width&&(d.x=0),d.y<0&&(d.y=e.height),d.y>e.height&&(d.y=0),t.beginPath(),t.arc(d.x,d.y,d.size,0,Math.PI*2),t.fillStyle=`hsla(${d.hue}, 80%, 70%, ${d.opacity})`,t.shadowBlur=10,t.shadowColor=`hsla(${d.hue}, 80%, 60%, 0.5)`,t.fill(),a.slice(p+1).forEach(y=>{const v=d.x-y.x,x=d.y-y.y,S=Math.sqrt(v*v+x*x);S<100&&(t.beginPath(),t.moveTo(d.x,d.y),t.lineTo(y.x,y.y),t.strokeStyle=`hsla(220, 70%, 60%, ${.1*(1-S/100)})`,t.lineWidth=.5,t.stroke())})}),i=requestAnimationFrame(h)};return o(),u(),h(),window.addEventListener("resize",()=>{o(),u()}),()=>{cancelAnimationFrame(i),window.removeEventListener("resize",o)}},[]),P.jsx("canvas",{ref:n,className:"absolute inset-0 w-full h-full pointer-events-none",style:{opacity:.6}})},LV=()=>{const[n,e]=de.useState(!1);de.useEffect(()=>{const o=()=>e(window.innerWidth>=1024);return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const t=[{name:"Frontend",skills:[{name:"React",icon:HS,color:"#61DAFB",level:"Specialized"},{name:"React Native",icon:HS,color:"#61DAFB",level:"Specialized"},{name:"Next.js",icon:TV,color:"#ffffff",level:"Specialized"},{name:"HTML5",icon:HR,color:"#E34F26",level:"Specialized"},{name:"CSS3",icon:VR,color:"#1572B6",level:"Specialized"},{name:"JavaScript",icon:GR,color:"#F7DF1E",level:"Specialized"},{name:"TypeScript",icon:RV,color:"#3178C6",level:"Specialized"}]},{name:"Backend",skills:[{name:"Node.js",icon:kS,color:"#339933",level:"Basic"},{name:"Express.js",icon:_V,color:"#ffffff",level:"Basic"},{name:"REST APIs",icon:VA,color:"#60A5FA"}]},{name:"Database",skills:[{name:"PostgreSQL",icon:AV,color:"#4169E1"},{name:"MySQL",icon:wV,color:"#4479A1"},{name:"MongoDB",icon:jR,color:"#47A248"}]},{name:"Languages & Tools",skills:[{name:"Python",icon:VS,color:"#3776AB",level:"Basic"},{name:"Git",icon:MV,color:"#F05032"}]}],i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:window.innerWidth<1024?0:.05,delayChildren:.1}}},a={hidden:{opacity:0,y:20,scale:.98},visible:{opacity:1,y:0,scale:1,transition:window.innerWidth<1024?{duration:.3}:{type:"spring",damping:20,stiffness:100}}};return P.jsxs("section",{id:"skills",className:"skills-section min-h-screen flex flex-col justify-center py-16 relative bg-[#050816]",children:[n&&P.jsx(DV,{}),P.jsx("div",{className:"absolute top-1/4 left-0 w-96 h-96 bg-blue-500/10 rounded-full blur-[120px] pointer-events-none"}),P.jsx("div",{className:"absolute bottom-1/4 right-0 w-96 h-96 bg-purple-500/10 rounded-full blur-[120px] pointer-events-none"}),P.jsxs("div",{className:"section-container relative z-10",children:[P.jsxs(zt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:"easeOut"},className:"text-center mb-12",children:[P.jsxs("h2",{className:"text-4xl md:text-5xl font-bold font-display mb-4 text-white leading-tight tracking-tight",children:["Technical ",P.jsx("span",{className:"text-blue-400",children:"Skills"})]}),P.jsx("p",{className:"text-base md:text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed font-light",children:"A comprehensive toolkit of modern technologies designed to build scalable and performant applications."})]}),P.jsx("div",{className:"space-y-10",children:t.map((o,u)=>P.jsxs(zt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:u*.1},children:[P.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[P.jsx("h3",{className:"text-sm font-bold text-blue-400 uppercase tracking-[0.2em]",children:o.name}),P.jsx("div",{className:"h-px flex-grow bg-gradient-to-r from-blue-500/30 to-transparent"})]}),P.jsx(zt.div,{variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:o.skills.map(h=>{const d=h.icon,p=h.level==="Specialized";return P.jsxs(zt.div,{variants:a,className:`skill-card group relative overflow-visible ${p?"!border-yellow-500/50 !shadow-[0_0_15px_rgba(234,179,8,0.1)] hover:!shadow-[0_0_25px_rgba(234,179,8,0.2)] hover:!border-yellow-400/80":""}`,children:[h.level==="Basic"&&P.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded-full text-[0.6rem] font-bold uppercase tracking-wider border bg-slate-700/50 text-slate-400 border-slate-600/30",children:h.level}),P.jsx("div",{className:"skill-icon-container mt-4",children:P.jsx(d,{className:"w-8 h-8 transition-all duration-300",style:{color:h.color}})}),P.jsx("h4",{className:"skill-name",children:h.name}),P.jsx("div",{className:"skill-underline"})]},h.name)})})]},o.name))}),P.jsx(NV,{})]})]})};function IV(n){return Bn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function Q1(n){return Bn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function PV(n){return Bn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function UV(n){return Bn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(n)}function WR(n){return Bn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(n)}const GS={React:P.jsx(HS,{className:"w-4 h-4"}),"Node.js":P.jsx(kS,{className:"w-4 h-4"}),"Express.js":P.jsx(kS,{className:"w-4 h-4"}),MongoDB:P.jsx(jR,{className:"w-4 h-4"}),Python:P.jsx(VS,{className:"w-4 h-4"}),HTML5:P.jsx(HR,{className:"w-4 h-4"}),CSS3:P.jsx(VR,{className:"w-4 h-4"}),JavaScript:P.jsx(GR,{className:"w-4 h-4"}),Tkinter:P.jsx(VS,{className:"w-4 h-4"})},OV=({i:n,title:e,description:t,technologies:i,image:a,githubLink:o,liveLink:u,progress:h,range:d,targetScale:p,onViewDetails:y})=>{const v=de.useRef(null),{scrollYProgress:x}=CC({target:v,offset:["start end","start start"]}),S=Dd(x,[0,1],[2,1]),T=Dd(h,d,[1,p]),C=typeof window<"u"&&window.innerWidth<1024;C&&currentScale;const A=C?1:T;return P.jsx("div",{ref:v,className:"min-h-[70vh] md:min-h-screen flex items-start justify-center sticky top-0 px-4 py-12 md:pt-32 lg:px-8",children:P.jsxs(zt.div,{style:{scale:A,top:`calc(5vh + ${n*15}px)`},className:"group relative h-auto md:h-[500px] w-full max-w-5xl rounded-[2rem] p-6 sm:p-8 md:p-10 origin-top bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 backdrop-blur-xl border border-slate-700/50 shadow-2xl flex flex-col md:flex-row gap-8 overflow-hidden",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-indigo-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),P.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl group-hover:bg-blue-500/20 transition-all duration-700"}),P.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-indigo-500/10 rounded-full blur-3xl group-hover:bg-indigo-500/20 transition-all duration-700"}),P.jsxs("div",{className:"absolute top-6 right-6 z-40 group/tooltip scale-90 md:scale-100",children:[P.jsx("button",{onClick:M=>{M.stopPropagation(),y()},className:"p-2.5 bg-slate-900 border border-white/30 text-white rounded-full shadow-2xl hover:bg-slate-800 hover:scale-110 transition-all active:scale-95 flex items-center justify-center relative backdrop-blur-sm","aria-label":"View project details",children:P.jsx(vd,{size:20})}),P.jsxs("div",{className:"absolute top-full right-0 mt-3 px-3 py-1.5 bg-slate-900/95 backdrop-blur-sm text-white text-[10px] font-bold uppercase tracking-wider rounded-lg opacity-0 group-hover/tooltip:opacity-100 transition-opacity pointer-events-none whitespace-nowrap shadow-xl border border-white/10",children:["Expand details",P.jsx("div",{className:"absolute bottom-full right-3 border-4 border-transparent border-b-slate-900/95"})]})]}),P.jsxs("div",{className:`flex flex-col md:flex-row w-full h-full items-center gap-6 md:gap-16 relative z-10 ${n%2===1?"md:flex-row-reverse":""}`,children:[P.jsxs("div",{className:"w-full md:w-[45%] h-[200px] sm:h-[250px] md:h-full rounded-2xl overflow-hidden relative border border-slate-600/50 shadow-xl group/img shrink-0",children:[P.jsx(zt.div,{style:{scale:S},className:"w-full h-full",children:P.jsx("img",{src:a,alt:e,className:"w-full h-full object-cover object-left-top transition-all duration-700 group-hover/img:scale-105"})}),P.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/90 via-slate-900/20 to-transparent opacity-60 group-hover/img:opacity-40 transition-opacity duration-500"})]}),P.jsxs("div",{className:"w-full md:w-[55%] flex flex-col justify-center overflow-hidden",children:[P.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-4 sm:mb-6 font-display tracking-tight group-hover:text-indigo-100 transition-colors duration-300",children:e}),P.jsx("p",{className:"text-slate-300 text-xs sm:text-sm md:text-base lg:text-lg leading-relaxed mb-6 sm:mb-8 line-clamp-4 sm:line-clamp-none",children:t}),P.jsx("div",{className:"flex flex-wrap gap-2 mb-8 sm:mb-10",children:i.map(M=>P.jsxs("span",{className:"group/tech px-2 py-1.5 sm:px-3 sm:py-2 bg-slate-800/80 border border-slate-600/50 hover:border-indigo-400/50 text-indigo-300 rounded-xl text-[10px] sm:text-xs font-medium tracking-wide inline-flex items-center gap-2 hover:bg-slate-700/80 transition-all duration-300 hover:scale-105",children:[GS[M]&&P.jsx("span",{className:"group-hover/tech:text-indigo-400 transition-colors",children:GS[M]}),M]},M))}),P.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6",children:[P.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 sm:px-5 sm:py-2.5 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600/50 hover:border-indigo-400/50 text-white hover:text-indigo-300 rounded-xl transition-all duration-300 text-[10px] sm:text-xs font-bold uppercase tracking-widest group/link hover:scale-105 grow sm:grow-0 justify-center",children:[P.jsx(Q1,{size:18,className:"group-hover/link:rotate-12 transition-transform duration-300"}),"Source Code"]}),u&&u!=="#"&&P.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 sm:px-5 sm:py-2.5 bg-indigo-600/80 hover:bg-indigo-500/90 border border-indigo-400/50 text-white rounded-xl transition-all duration-300 text-[10px] sm:text-xs font-bold uppercase tracking-widest group/link hover:scale-105 shadow-lg shadow-indigo-500/20 grow sm:grow-0 justify-center",children:[P.jsx(WR,{size:16,className:"group-hover/link:translate-x-1 group-hover/link:-translate-y-1 transition-transform duration-300"}),"Live Demo"]})]})]})]})]})})},zV=()=>{const n=de.useRef(null),[e,t]=de.useState(null),{scrollYProgress:i}=CC({target:n,offset:["start start","end end"]});de.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const a=[{title:"E-Commerce Platform",description:"E-Commerce Platform is a full-stack project designed for seamless online shopping experiences. Built with React for a dynamic frontend and Node.js with Express for the backend, the application leverages MongoDB for efficient data management. It supports product browsing, cart management, secure order handling, and scalable architecture for real-world commerce use cases.",technologies:["React","Node.js","Express.js","MongoDB"],image:"assets/projects/shopping-hub.png",liveLink:"#",githubLink:"#"},{title:"Snake game using Python",description:"A simple Snake game built with Python using Pygame for graphics and input handling, and the random module for dynamic food generation, where the player controls a growing snake while avoiding obstacles and collisions.",technologies:["Python"],image:"assets/projects/snake-game.jpg",githubLink:"https://github.com/sakthivel1011/snakegame"},{title:"Library Management System",description:"Efficiently manage library resources with our Python-based Library Management System. Track books, issue, return, and update details effortlessly. Powered by Tkinter for user-friendly interface.",technologies:["Python","Tkinter"],image:"assets/projects/library-system.jpg",liveLink:"#",githubLink:"#"},{title:"Portfolio Website",description:"A responsive and visually clean personal portfolio website built using HTML, CSS, and vanilla JavaScript. The site showcases projects, skills, and contact information with smooth animations, structured layouts, and optimized performance. Designed with a focus on simplicity, readability, and professional UI/UX standards.",technologies:["HTML5","CSS3","JavaScript"],image:"assets/projects/portfolio.jpg",liveLink:"https://sakthivel1011.github.io/PORTFOLIO/",githubLink:"https://github.com/sakthivel1011/PORTFOLIO"}];return P.jsxs("section",{id:"projects",ref:n,className:"relative bg-white w-full",children:[P.jsx("div",{className:"section-container text-center pb-0 md:pb-0",children:P.jsxs(zt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[P.jsxs("h2",{className:"section-title mb-6",children:["Featured ",P.jsx("span",{className:"text-blue-600",children:"Projects"})]}),P.jsx("p",{className:"section-subtitle mb-0",children:"A curated selection of my technical works where architecture meets creativity."})]})}),P.jsx("div",{className:"relative",children:a.map((o,u)=>{const h=1-(a.length-u)*.05;return P.jsx(OV,{i:u,...o,progress:i,range:[u*(1/a.length),1],targetScale:h,onViewDetails:()=>t(o)},`p_${u}`)})}),P.jsxs("div",{className:"py-16 text-center relative",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white via-slate-50 to-white"}),P.jsxs(zt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"relative z-10",children:[P.jsx("p",{className:"text-slate-600 mb-6 text-sm font-medium tracking-wide uppercase",children:"Want to see more?"}),P.jsxs("a",{href:"https://github.com/sakthivel1011",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900 text-white rounded-full font-bold hover:bg-indigo-600 hover:scale-105 transition-all duration-300 shadow-xl hover:shadow-2xl hover:shadow-indigo-500/20",children:["Explore More on GitHub",P.jsx(Q1,{size:20,className:"group-hover:rotate-12 transition-transform"})]})]})]}),P.jsx(Lf,{children:e&&P.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-12 lg:p-24",children:[P.jsx(zt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(null),className:"absolute inset-0 bg-slate-950/80 backdrop-blur-md lg:backdrop-blur-xl cursor-pointer"}),P.jsxs(zt.div,{initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:window.innerWidth<768?{duration:.25,ease:"easeOut"}:{type:"spring",damping:25,stiffness:200},className:"relative w-full max-w-5xl h-auto max-h-[92vh] sm:max-h-[85vh] bg-white rounded-[1.5rem] sm:rounded-[2rem] shadow-[0_0_50px_-12px_rgba(0,0,0,0.5)] flex flex-col lg:flex-row overflow-hidden border border-slate-200 will-change-transform",onClick:o=>o.stopPropagation(),children:[P.jsx("div",{className:"hidden lg:block w-[45%] h-auto overflow-hidden shrink-0 border-r border-slate-100 bg-slate-50",children:P.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover object-center"})}),P.jsxs("div",{className:"w-full lg:w-[55%] flex flex-col min-h-0 bg-white relative overflow-hidden",children:[P.jsx("button",{onClick:()=>t(null),className:"absolute top-4 right-4 sm:top-6 sm:right-6 p-2 text-slate-400 hover:text-slate-900 hover:bg-slate-100 rounded-full transition-all z-20 bg-white/50 backdrop-blur-sm lg:bg-transparent",children:P.jsx(r0,{size:24})}),P.jsxs("div",{className:"flex flex-col min-h-0 max-h-full overflow-hidden",children:[P.jsx("header",{className:"px-6 sm:px-10 lg:px-12 pt-5 sm:pt-8 pb-3",children:P.jsxs(zt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[P.jsx("h4",{className:"text-[8px] sm:text-[9px] font-black text-blue-600 uppercase tracking-[0.3em] mb-1",children:"Project Component"}),P.jsx("h3",{className:"text-xl sm:text-2xl lg:text-4xl font-bold font-display text-slate-900 tracking-tight leading-tight",children:e.title})]})}),P.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-6 sm:px-10 lg:px-12 py-2 overscroll-contain [scrollbar-width:thin] [scrollbar-color:theme(colors.slate.200)_transparent] [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:bg-slate-200 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-transparent",children:P.jsxs("div",{className:"space-y-6 sm:space-y-10 pb-8",children:[P.jsx("div",{className:"lg:hidden w-full aspect-video rounded-2xl overflow-hidden border border-slate-100 shadow-sm mb-6",children:P.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),P.jsxs("section",{children:[P.jsx("h5",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Architecture Overview"}),P.jsx("p",{className:"text-slate-600 text-[13px] sm:text-base leading-relaxed font-light lg:pr-6",children:e.description})]}),P.jsxs("section",{children:[P.jsx("h5",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Core Technologies"}),P.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologies.map(o=>P.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-50 rounded-xl border border-slate-100",children:[P.jsx("div",{className:"text-blue-500 scale-90",children:GS[o]||P.jsx(vd,{className:"w-3.5 h-3.5"})}),P.jsx("span",{className:"text-[9px] font-bold text-slate-700 uppercase tracking-wider",children:o})]},o))})]})]})}),P.jsx("footer",{className:"px-5 sm:px-10 py-5 sm:py-6 bg-slate-50/50 border-t border-slate-100 mt-auto",children:P.jsxs("div",{className:"flex flex-col gap-4",children:[P.jsx("h5",{className:"text-[8px] sm:text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] text-center mb-0.5",children:"Project Links"}),P.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[e.liveLink&&e.liveLink!=="#"&&P.jsxs("a",{href:e.liveLink,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto sm:min-w-[160px] inline-flex items-center justify-center gap-2.5 px-5 py-3.5 bg-blue-600 text-white rounded-2xl text-[10px] sm:text-xs font-bold hover:bg-blue-500 transition-all active:scale-95 shadow-xl shadow-blue-500/20 order-1 sm:order-2",children:[P.jsx(WR,{size:14}),"Live Experience"]}),P.jsxs("a",{href:e.githubLink,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto sm:min-w-[160px] inline-flex items-center justify-center gap-2.5 px-5 py-3.5 bg-slate-900 text-white rounded-2xl text-[10px] sm:text-xs font-bold hover:bg-slate-800 transition-all active:scale-95 shadow-xl shadow-slate-900/10 order-2 sm:order-1",children:[P.jsx(Q1,{size:18}),"GitHub Source"]})]})]})})]}),P.jsx("div",{className:"hidden lg:block h-1.5 w-full bg-gradient-to-r from-blue-500 via-indigo-600 to-blue-500 shrink-0"})]})]})]})})]})},Cy=({className:n,children:e,gradient:t,onClick:i})=>P.jsx(zt.div,{onClick:i,whileHover:{scale:.98,rotate:"-1deg"},whileTap:{scale:.95},className:`group relative min-h-[300px] cursor-pointer overflow-hidden rounded-2xl bg-slate-100 p-8 ${n}`,children:e}),Ry=({children:n})=>P.jsx("p",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-widest mb-3",children:n}),Ny=({children:n})=>P.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-2 font-display",children:n}),Dy=({children:n})=>P.jsx("p",{className:"text-slate-500 text-sm font-medium mb-4",children:n}),BV=({certificates:n,onSelect:e,onViewAll:t})=>{const[i,a]=de.useState(0);de.useRef(0);const o=()=>a(h=>(h+1)%n.length),u=()=>a(h=>(h-1+n.length)%n.length);return de.useEffect(()=>{const h=setInterval(()=>{o()},4e3);return()=>clearInterval(h)},[i,n.length]),P.jsxs("div",{className:"relative h-[450px] sm:h-[500px] w-full flex items-center justify-center perspective-[1500px] py-10 touch-none",children:[P.jsx("div",{className:"relative w-full h-full flex items-center justify-center transform-style-3d",children:P.jsx(Lf,{initial:!1,children:n.map((h,d)=>{const p=d===i,y=d===(i-1+n.length)%n.length,v=d===(i+1)%n.length;if(!p&&!y&&!v)return null;let x=0,S=0,T=0,C=0,A=.8;const M=typeof window<"u"&&window.innerWidth<768;return p?(x=0,S=M?0:150,T=0,C=1,A=1):y?(x=M?-140:-280,S=M?0:-100,T=M?0:35,C=M?0:.3,A=.8):v&&(x=M?140:280,S=M?0:-100,T=M?0:-35,C=M?0:.3,A=.8),P.jsxs(zt.div,{drag:p?"x":!1,dragConstraints:{left:0,right:0},onDragEnd:(N,D)=>{D.offset.x>100?u():D.offset.x<-100&&o()},initial:{opacity:0,x:0,z:-200},animate:{opacity:C,x,z:S,rotateY:T,scale:A,boxShadow:p?"0 40px 80px -20px rgba(0,0,0,0.4)":"0 10px 30px -5px rgba(0,0,0,0.1)"},exit:{opacity:0,scale:.5,z:-200},transition:M?{duration:.4,ease:"circOut"}:{type:"spring",stiffness:120,damping:20},className:`absolute w-[240px] sm:w-[320px] md:w-[450px] aspect-[1.414/1] bg-white rounded-sm border-[2px] sm:border-[3px] border-slate-900 shadow-xl cursor-pointer group ${p?"z-20":"z-10"}`,onClick:()=>p?e(h):a(d),children:[P.jsxs("div",{className:"absolute inset-0 border border-slate-200 shadow-inner overflow-hidden",children:[P.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-contain grayscale brightness-95 group-hover:grayscale-0 transition-all duration-700"}),p&&P.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),p&&P.jsx(zt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-16 sm:-bottom-12 left-1/2 -translate-x-1/2 w-[90vw] sm:w-full text-center px-4",children:P.jsx("p",{className:"text-white font-bold font-display text-[10px] sm:text-base line-clamp-2 drop-shadow-lg leading-tight",children:h.name})})]},h.name)})})}),P.jsxs("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 flex items-center gap-6 z-30",children:[P.jsx("button",{onClick:u,className:"p-2.5 bg-white/80 backdrop-blur-md border border-slate-200 rounded-full shadow-lg hover:bg-white hover:scale-110 transition-all text-slate-400 hover:text-blue-600 active:scale-95","aria-label":"Previous certificate",children:P.jsx(FA,{size:20})}),P.jsx("div",{className:"flex gap-2",children:n.map((h,d)=>P.jsx(zt.button,{onClick:()=>a(d),animate:{width:d===i?20:6,backgroundColor:d===i?"#2563eb":"#cbd5e1"},whileHover:{backgroundColor:d===i?"#2563eb":"#94a3b8"},className:"h-1.5 rounded-full transition-colors cursor-pointer","aria-label":`Go to certificate ${d+1}`},d))}),P.jsx("button",{onClick:o,className:"p-2.5 bg-white/80 backdrop-blur-md border border-slate-200 rounded-full shadow-lg hover:bg-white hover:scale-110 transition-all text-slate-400 hover:text-blue-600 active:scale-95","aria-label":"Next certificate",children:P.jsx(kA,{size:20})})]})]})},FV=()=>{const[n,e]=de.useState(null),[t,i]=de.useState(!1),a=[{name:"Machine Learning courses by Infosys Springboard",image:"assets/certificates/certificat(Machine learning).jpg"},{name:"IBM Cloud courses by IBM",image:"assets/certificates/certificate(IBM).jpg"},{name:"Python for data science course by Infosys Springboard",image:"assets/certificates/certificate(Pythonfordatascience).jpg"},{name:"Introduction to Artificial intelligence by Infosys Springboard",image:"assets/certificates/certificate(Introduction to Artificial Intelligence).jpg"},{name:"Introduction to Cyber security by Infosys Springboard",image:"assets/certificates/certificate(introduction to Cyber Security).jpg"}];return P.jsxs("section",{id:"achievements",className:"min-h-screen flex flex-col pt-[20vh] pb-12 w-full overflow-hidden relative",style:{background:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)"},children:[P.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px)",backgroundSize:"60px 60px"}}),P.jsx("div",{className:"absolute top-1/4 left-0 w-96 h-96 bg-blue-500/10 rounded-full blur-[120px] pointer-events-none"}),P.jsx("div",{className:"absolute bottom-1/4 right-0 w-96 h-96 bg-purple-500/10 rounded-full blur-[120px] pointer-events-none"}),P.jsxs("div",{className:"section-container relative z-10 py-0",children:[P.jsx("div",{className:"md:hidden flex justify-center mb-4",children:P.jsxs(zt.div,{animate:{x:[-10,10,-10]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"flex items-center gap-2 text-[10px] font-bold text-blue-400/60 uppercase tracking-widest",children:[P.jsx(FA,{})," Swipe to Explore ",P.jsx(kA,{})]})}),P.jsx("div",{className:"text-center mb-8",children:P.jsxs(zt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[P.jsxs("h2",{className:"text-3xl md:text-5xl font-bold font-display mb-4 text-white leading-tight tracking-tight",children:["My ",P.jsx("span",{className:"text-blue-400",children:"Achievements"})]}),P.jsx("p",{className:"text-base md:text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed font-light px-4",children:"A showcase of my professional milestones, certifications, and dedication to continuous growth."})]})}),P.jsxs("div",{className:"mb-12",children:[P.jsxs("h3",{className:"text-sm sm:text-lg font-black text-slate-500 uppercase tracking-[0.4em] mb-10 flex items-center gap-4 px-4",children:["Highlights",P.jsx("div",{className:"h-px flex-grow bg-slate-700/50"})]}),P.jsxs("div",{className:"grid grid-cols-12 gap-6 px-4 sm:px-0",children:[P.jsxs(Cy,{className:"col-span-12 md:col-span-6 min-h-[280px] sm:min-h-[300px]",gradient:"from-blue-400 to-indigo-400",onClick:()=>e({name:"Android Application Development with IoT - NSIC",image:"assets/certificates/certificate(NSIC).jpg"}),children:[P.jsx(Ry,{children:"Internship"}),P.jsx(Ny,{children:"Android dev with IoT"}),P.jsx(Dy,{children:"National Small Industries Corporation (NSIC)"}),P.jsxs("div",{className:"absolute bottom-0 left-4 right-4 top-32 sm:top-32 translate-y-8 rounded-t-2xl bg-gradient-to-br from-blue-400 to-indigo-400 p-6 transition-transform duration-[250ms] group-hover:translate-y-4 group-hover:rotate-[2deg] overflow-hidden",children:[P.jsx("p",{className:"text-xs sm:text-sm text-white/90 leading-relaxed font-medium",children:"Successfully completed virtual internship training on Android application development with IoT conducted by NSIC, showcasing proficiency in simple applications."}),P.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] sm:text-xs font-bold text-white/80 uppercase tracking-wider",children:[P.jsx(vd,{className:"w-4 h-4"})," View Certificate"]})]})]}),P.jsxs(Cy,{className:"col-span-12 md:col-span-6 min-h-[280px] sm:min-h-[300px]",gradient:"from-emerald-400 to-teal-400",onClick:()=>e({name:"Web Development Internship - Brazy Technologies",image:"assets/certificates/certificate(Brassy Technologies).jpg"}),children:[P.jsx(Ry,{children:"Internship"}),P.jsx(Ny,{children:"Web Development"}),P.jsx(Dy,{children:"Brazy Technologies"}),P.jsxs("div",{className:"absolute bottom-0 left-4 right-4 top-32 sm:top-32 translate-y-8 rounded-t-2xl bg-gradient-to-br from-emerald-400 to-teal-400 p-6 transition-transform duration-[250ms] group-hover:translate-y-4 group-hover:rotate-[2deg] overflow-hidden",children:[P.jsx("p",{className:"text-xs sm:text-sm text-white/90 leading-relaxed font-medium",children:"Completed a one-week internship gaining practical experience in web development technologies including HTML, CSS, and JavaScript."}),P.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] sm:text-xs font-bold text-white/80 uppercase tracking-wider",children:[P.jsx(vd,{className:"w-4 h-4"})," View Certificate"]})]})]}),P.jsxs(Cy,{className:"col-span-12 md:col-span-7 min-h-[280px] sm:min-h-[300px]",gradient:"from-amber-400 to-orange-400",children:[P.jsx(Ry,{children:"Award"}),P.jsx(Ny,{children:"Best Performance"}),P.jsx(Dy,{children:"Datayaan Solutions Pvt. Ltd."}),P.jsx("div",{className:"absolute bottom-0 left-4 right-4 top-32 sm:top-32 translate-y-8 rounded-t-2xl bg-gradient-to-br from-amber-400 to-orange-400 p-6 transition-transform duration-[250ms] group-hover:translate-y-4 group-hover:rotate-[2deg] overflow-hidden",children:P.jsx("p",{className:"text-xs sm:text-sm text-white/90 leading-relaxed font-medium",children:"Awarded for independently exploring and integrating OpenAI's API to optimize a complex dropdown filter in a Vehicle Tracking Application."})})]}),P.jsxs(Cy,{className:"col-span-12 md:col-span-5 min-h-[280px] sm:min-h-[300px]",gradient:"from-pink-400 to-rose-400",children:[P.jsx(Ry,{children:"Award"}),P.jsx(Ny,{children:"Technical Quiz"}),P.jsx(Dy,{children:"JP College of Engineering"}),P.jsx("div",{className:"absolute bottom-0 left-4 right-4 top-32 sm:top-32 translate-y-8 rounded-t-2xl bg-gradient-to-br from-pink-400 to-rose-400 p-6 transition-transform duration-[250ms] group-hover:translate-y-4 group-hover:rotate-[2deg] overflow-hidden",children:P.jsx("p",{className:"text-xs sm:text-sm text-white/90 leading-relaxed font-medium",children:"Attained runner-up position showcasing proficiency in technical subjects and problem-solving skills."})})]})]})]}),P.jsx("div",{className:"grid lg:grid-cols-1 gap-20 items-stretch px-4 sm:px-0",children:P.jsxs("div",{className:"flex flex-col",children:[P.jsxs("h3",{className:"text-sm sm:text-lg font-black text-slate-500 uppercase tracking-[0.4em] mb-10 flex items-center gap-4",children:["Certifications",P.jsx("div",{className:"h-px flex-grow bg-slate-700/50"})]}),P.jsx(BV,{certificates:a,onSelect:e,onViewAll:()=>i(!0)})]})})]}),P.jsx(Lf,{children:n&&P.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 sm:p-12",children:[P.jsx(zt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(null),className:"absolute inset-0 bg-slate-950/90 backdrop-blur-md cursor-zoom-out"}),P.jsxs("div",{className:"fixed inset-0 z-[130] flex flex-col items-center justify-center p-4 sm:p-8",children:[P.jsxs(zt.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-5xl max-h-[80vh] bg-white rounded-xl shadow-2xl overflow-hidden border-4 border-slate-900",onClick:o=>o.stopPropagation(),children:[P.jsx("button",{onClick:()=>e(null),className:"absolute top-4 right-4 z-20 p-2 bg-slate-900/10 hover:bg-slate-900/20 text-slate-900 rounded-full transition-colors",children:P.jsx(r0,{size:24})}),P.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain"})]}),P.jsx("h4",{className:"mt-6 text-white text-base sm:text-xl font-bold font-display text-center drop-shadow-lg px-4",children:n.name})]})]})}),P.jsx(Lf,{children:t&&P.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-8",children:[P.jsx(zt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-slate-950/80 backdrop-blur-md cursor-pointer"}),P.jsxs(zt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-7xl h-[90vh] bg-slate-900 border border-white/10 rounded-3xl shadow-2xl flex flex-col overflow-hidden",onClick:o=>o.stopPropagation(),children:[P.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/5 bg-slate-900/50 backdrop-blur-md",children:[P.jsx("h3",{className:"text-xl font-bold font-display text-white",children:"All Certifications"}),P.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/10 rounded-full text-slate-400 hover:text-white transition-colors",children:P.jsx(r0,{size:24})})]}),P.jsx("div",{className:"flex-grow overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(o=>P.jsxs(zt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"group relative bg-slate-800 rounded-xl overflow-hidden cursor-pointer border border-white/5 hover:border-blue-500/50 transition-all shadow-lg",onClick:()=>{e(o),i(!1)},children:[P.jsx("div",{className:"aspect-[1.414/1] overflow-hidden",children:P.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"})}),P.jsx("div",{className:"p-4 bg-slate-800/90 backdrop-blur-sm",children:P.jsx("p",{className:"text-white text-sm font-bold truncate",children:o.name})}),P.jsx("div",{className:"absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/10 transition-colors flex items-center justify-center",children:P.jsx(vd,{className:"text-white opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 transition-all duration-300 w-10 h-10"})})]},o.name))})}),P.jsx("div",{className:"p-4 text-center bg-slate-900/50 border-t border-white/5",children:P.jsxs("p",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold",children:[a.length," Certificates Total"]})})]})]})}),P.jsxs("div",{className:"absolute bottom-10 right-6 md:right-10 z-[60] group/tooltip",children:[P.jsxs(zt.button,{animate:{boxShadow:["0 0 0 0px rgba(59, 130, 246, 0.4)","0 0 0 10px rgba(59, 130, 246, 0)","0 0 0 0px rgba(59, 130, 246, 0)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},onClick:()=>i(!0),className:"p-3 bg-blue-600 hover:bg-blue-500 text-white rounded-full shadow-2xl hover:scale-110 transition-all active:scale-95 flex items-center justify-center relative overflow-visible","aria-label":"View all certificates",children:[P.jsx(vd,{size:22}),P.jsx("span",{className:"absolute inset-0 rounded-full bg-blue-400 animate-ping opacity-20 pointer-events-none"})]}),P.jsxs("div",{className:"absolute bottom-full right-0 mb-4 px-3 py-1.5 bg-slate-900/95 backdrop-blur-sm text-white text-[10px] font-bold uppercase tracking-wider rounded-lg opacity-0 group-hover/tooltip:opacity-100 transition-opacity pointer-events-none whitespace-nowrap shadow-2xl border border-white/10",children:["View All Certificates",P.jsx("div",{className:"absolute top-full right-4 border-4 border-transparent border-t-slate-900/95"})]})]})]})},kV=[{name:"GitHub",url:"https://github.com/sakthivel1011",icon:P.jsx(Q1,{}),color:"#24292e",hoverColor:"#000000"},{name:"LinkedIn",url:"https://www.linkedin.com/in/sakthivel-p-043b5425b/",icon:P.jsx(UV,{}),color:"#0077b5",hoverColor:"#005885"},{name:"Instagram",url:"https://www.instagram.com/sakthiisteve/",icon:P.jsx(PV,{}),color:"linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%)",isGradient:!0},{name:"Facebook",url:"https://www.facebook.com/sakthivel.p.5686",icon:P.jsx(IV,{}),color:"#1877f2",hoverColor:"#0e5a8a"}],XR=({className:n=""})=>P.jsx("div",{className:`flex gap-4 ${n}`,children:kV.map((e,t)=>P.jsxs(zt.a,{href:e.url,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},whileHover:{scale:1.15,y:-5,perspective:1e3,rotateX:5,rotateY:5},className:"relative group p-3 rounded-xl bg-white border border-slate-100 shadow-sm transition-all duration-300 overflow-hidden flex items-center justify-center text-xl",style:{width:"48px",height:"48px"},"aria-label":e.name,children:[P.jsx(zt.div,{className:"absolute inset-0 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-300",style:{background:(e.isGradient,e.color)}}),P.jsx("span",{className:"relative z-10 transition-colors duration-300 text-white md:text-slate-500 md:group-hover:text-white",children:e.icon}),P.jsx("div",{className:"absolute inset-0 opacity-20 md:opacity-0 md:group-hover:opacity-20 blur-xl transition-opacity duration-300 pointer-events-none",style:{background:(e.isGradient,e.color)}})]},e.name))}),VV=({email:n="sakthivel1011@gmail.com"})=>{const[e,t]=Je.useState(!1);return P.jsxs("div",{className:"flex flex-col items-center py-2 w-full transform md:scale-90 lg:scale-100 transition-all duration-500 ease-out",children:[P.jsxs(zt.a,{href:`mailto:${n}`,onViewportEnter:()=>t(!0),onViewportLeave:()=>t(!1),viewport:{amount:.8},className:`letter-image block ${e?"is-in-view":""}`,"aria-label":"Send email",children:[P.jsxs("div",{className:"animated-mail",children:[P.jsx("div",{className:"back-fold"}),P.jsxs("div",{className:"letter",children:[P.jsxs("div",{className:"letter-content",children:[P.jsx("div",{className:"letter-title text-xs font-bold text-slate-700",children:"Connect"}),P.jsx("div",{className:"letter-context text-[10px] font-bold text-blue-600 uppercase tracking-wider",children:"With Mail"})]}),P.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-blue-400 to-purple-400 opacity-50"}),P.jsx("div",{className:"absolute bottom-2 right-2 w-5 h-5 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center",children:P.jsx("span",{className:"text-[8px] text-slate-400",children:"@"})})]}),P.jsx("div",{className:"top-fold"}),P.jsx("div",{className:"body"}),P.jsx("div",{className:"left-fold"})]}),P.jsx("div",{className:"shadow"})]}),P.jsx(zt.p,{animate:{opacity:[.4,1,.4],y:[0,5,0]},transition:{duration:2,repeat:1/0},className:"mt-8 text-[10px] font-bold text-blue-600 uppercase tracking-[0.2em] md:hidden",children:"Tap to Open"})]})};class q0{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const HV=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Ls={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:HV()},x3=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},GV=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=x3(n);Ls.publicKey=t.publicKey,Ls.blockHeadless=t.blockHeadless,Ls.storageProvider=t.storageProvider,Ls.blockList=t.blockList,Ls.limitRate=t.limitRate,Ls.origin=t.origin||e},qR=async(n,e,t={})=>{const i=await fetch(Ls.origin+n,{method:"POST",headers:t,body:e}),a=await i.text(),o=new q0(i.status,a);if(i.ok)return o;throw o},YR=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},jV=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},ZR=n=>n.webdriver||!n.languages||n.languages.length===0,KR=()=>new q0(451,"Unavailable For Headless Browser"),WV=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},XV=n=>!n.list?.length||!n.watchVariable,qV=(n,e)=>n instanceof FormData?n.get(e):n[e],QR=(n,e)=>{if(XV(n))return!1;WV(n.list,n.watchVariable);const t=qV(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},JR=()=>new q0(403,"Forbidden"),YV=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},ZV=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},$R=async(n,e,t)=>{if(!e.throttle||!t)return!1;YV(e.throttle,e.id);const i=e.id||n;return await ZV(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},eN=()=>new q0(429,"Too Many Requests"),KV=async(n,e,t,i)=>{const a=x3(i),o=a.publicKey||Ls.publicKey,u=a.blockHeadless||Ls.blockHeadless,h=a.storageProvider||Ls.storageProvider,d={...Ls.blockList,...a.blockList},p={...Ls.limitRate,...a.limitRate};return u&&ZR(navigator)?Promise.reject(KR()):(YR(o,n,e),jV(t),t&&QR(d,t)?Promise.reject(JR()):await $R(location.pathname,p,h)?Promise.reject(eN()):qR("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},QV=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},JV=n=>typeof n=="string"?document.querySelector(n):n,$V=async(n,e,t,i)=>{const a=x3(i),o=a.publicKey||Ls.publicKey,u=a.blockHeadless||Ls.blockHeadless,h=Ls.storageProvider||a.storageProvider,d={...Ls.blockList,...a.blockList},p={...Ls.limitRate,...a.limitRate};if(u&&ZR(navigator))return Promise.reject(KR());const y=JV(t);YR(o,n,e),QV(y);const v=new FormData(y);return QR(d,v)?Promise.reject(JR()):await $R(location.pathname,p,h)?Promise.reject(eN()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",e),v.append("user_id",o),qR("/api/v1.0/email/send-form",v))},eH={init:GV,send:KV,sendForm:$V,EmailJSResponseStatus:q0};var tH=OA();const nH=J1(tH);function iH(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const sH=n=>{switch(n){case"success":return oH;case"info":return cH;case"warning":return lH;case"error":return uH;default:return null}},aH=Array(12).fill(0),rH=({visible:n,className:e})=>Je.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Je.createElement("div",{className:"sonner-spinner"},aH.map((t,i)=>Je.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),oH=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lH=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cH=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uH=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fH=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Je.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Je.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hH=()=>{const[n,e]=Je.useState(document.hidden);return Je.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let jS=1;class dH{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:i,...a}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:jS++,u=this.toasts.find(d=>d.id===o),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),u?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:i}),{...d,...e,id:o,dismissible:h,title:i}):d):this.addToast({title:i,...a,dismissible:h,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let o=i!==void 0,u;const h=a.then(async p=>{if(u=["resolve",p],Je.isValidElement(p))o=!1,this.create({id:i,type:"default",message:p});else if(mH(p)&&!p.ok){o=!1;const v=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,T=typeof v=="object"&&!Je.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:x,...T})}else if(p instanceof Error){o=!1;const v=typeof t.error=="function"?await t.error(p):t.error,x=typeof t.description=="function"?await t.description(p):t.description,T=typeof v=="object"&&!Je.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:x,...T})}else if(t.success!==void 0){o=!1;const v=typeof t.success=="function"?await t.success(p):t.success,x=typeof t.description=="function"?await t.description(p):t.description,T=typeof v=="object"&&!Je.isValidElement(v)?v:{message:v};this.create({id:i,type:"success",description:x,...T})}}).catch(async p=>{if(u=["reject",p],t.error!==void 0){o=!1;const y=typeof t.error=="function"?await t.error(p):t.error,v=typeof t.description=="function"?await t.description(p):t.description,S=typeof y=="object"&&!Je.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:v,...S})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((p,y)=>h.then(()=>u[0]==="reject"?y(u[1]):p(u[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:d}:Object.assign(i,{unwrap:d})},this.custom=(e,t)=>{const i=t?.id||jS++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ga=new dH,pH=(n,e)=>{const t=e?.id||jS++;return Ga.addToast({title:n,...e,id:t}),t},mH=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",gH=pH,vH=()=>Ga.toasts,yH=()=>Ga.getActiveToasts(),X_=Object.assign(gH,{success:Ga.success,info:Ga.info,warning:Ga.warning,error:Ga.error,custom:Ga.custom,message:Ga.message,promise:Ga.promise,dismiss:Ga.dismiss,loading:Ga.loading},{getHistory:vH,getToasts:yH});iH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ly(n){return n.label!==void 0}const xH=3,bH="24px",_H="16px",IA=4e3,SH=356,MH=14,wH=45,TH=200;function nl(...n){return n.filter(Boolean).join(" ")}function EH(n){const[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}const AH=n=>{var e,t,i,a,o,u,h,d,p;const{invert:y,toast:v,unstyled:x,interacting:S,setHeights:T,visibleToasts:C,heights:A,index:M,toasts:N,expanded:D,removeToast:I,defaultRichColors:z,closeButton:F,style:k,cancelButtonStyle:j,actionButtonStyle:U,className:B="",descriptionClassName:Y="",duration:ie,position:ee,gap:me,expandByDefault:he,classNames:q,icons:K,closeButtonAriaLabel:oe="Close toast"}=n,[Ee,Ce]=Je.useState(null),[X,re]=Je.useState(null),[pe,De]=Je.useState(!1),[Xe,ce]=Je.useState(!1),[Ae,Be]=Je.useState(!1),[nt,lt]=Je.useState(!1),[qt,Zt]=Je.useState(!1),[Lt,Ie]=Je.useState(0),[We,Pe]=Je.useState(0),$e=Je.useRef(v.duration||ie||IA),Z=Je.useRef(null),vt=Je.useRef(null),at=M===0,At=M+1<=C,Fe=v.type,W=v.dismissible!==!1,O=v.className||"",se=v.descriptionClassName||"",Me=Je.useMemo(()=>A.findIndex(ge=>ge.toastId===v.id)||0,[A,v.id]),Ue=Je.useMemo(()=>{var ge;return(ge=v.closeButton)!=null?ge:F},[v.closeButton,F]),Te=Je.useMemo(()=>v.duration||ie||IA,[v.duration,ie]),ut=Je.useRef(0),Ze=Je.useRef(0),xt=Je.useRef(0),Ct=Je.useRef(null),[je,Qe]=ee.split("-"),dt=Je.useMemo(()=>A.reduce((ge,Ve,St)=>St>=Me?ge:ge+Ve.height,0),[A,Me]),ft=hH(),st=v.invert||y,Yt=Fe==="loading";Ze.current=Je.useMemo(()=>Me*me+dt,[Me,dt]),Je.useEffect(()=>{$e.current=Te},[Te]),Je.useEffect(()=>{De(!0)},[]),Je.useEffect(()=>{const ge=vt.current;if(ge){const Ve=ge.getBoundingClientRect().height;return Pe(Ve),T(St=>[{toastId:v.id,height:Ve,position:v.position},...St]),()=>T(St=>St.filter(kt=>kt.toastId!==v.id))}},[T,v.id]),Je.useLayoutEffect(()=>{if(!pe)return;const ge=vt.current,Ve=ge.style.height;ge.style.height="auto";const St=ge.getBoundingClientRect().height;ge.style.height=Ve,Pe(St),T(kt=>kt.find(xn=>xn.toastId===v.id)?kt.map(xn=>xn.toastId===v.id?{...xn,height:St}:xn):[{toastId:v.id,height:St,position:v.position},...kt])},[pe,v.title,v.description,T,v.id,v.jsx,v.action,v.cancel]);const te=Je.useCallback(()=>{ce(!0),Ie(Ze.current),T(ge=>ge.filter(Ve=>Ve.toastId!==v.id)),setTimeout(()=>{I(v)},TH)},[v,I,T,Ze]);Je.useEffect(()=>{if(v.promise&&Fe==="loading"||v.duration===1/0||v.type==="loading")return;let ge;return D||S||ft?(()=>{if(xt.current<ut.current){const kt=new Date().getTime()-ut.current;$e.current=$e.current-kt}xt.current=new Date().getTime()})():(()=>{$e.current!==1/0&&(ut.current=new Date().getTime(),ge=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),te()},$e.current))})(),()=>clearTimeout(ge)},[D,S,v,Fe,ft,te]),Je.useEffect(()=>{v.delete&&(te(),v.onDismiss==null||v.onDismiss.call(v,v))},[te,v.delete]);function rt(){var ge;if(K?.loading){var Ve;return Je.createElement("div",{className:nl(q?.loader,v==null||(Ve=v.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":Fe==="loading"},K.loading)}return Je.createElement(rH,{className:nl(q?.loader,v==null||(ge=v.classNames)==null?void 0:ge.loader),visible:Fe==="loading"})}const Ke=v.icon||K?.[Fe]||sH(Fe);var ot,ke;return Je.createElement("li",{tabIndex:0,ref:vt,className:nl(B,O,q?.toast,v==null||(e=v.classNames)==null?void 0:e.toast,q?.default,q?.[Fe],v==null||(t=v.classNames)==null?void 0:t[Fe]),"data-sonner-toast":"","data-rich-colors":(ot=v.richColors)!=null?ot:z,"data-styled":!(v.jsx||v.unstyled||x),"data-mounted":pe,"data-promise":!!v.promise,"data-swiped":qt,"data-removed":Xe,"data-visible":At,"data-y-position":je,"data-x-position":Qe,"data-index":M,"data-front":at,"data-swiping":Ae,"data-dismissible":W,"data-type":Fe,"data-invert":st,"data-swipe-out":nt,"data-swipe-direction":X,"data-expanded":!!(D||he&&pe),"data-testid":v.testId,style:{"--index":M,"--toasts-before":M,"--z-index":N.length-M,"--offset":`${Xe?Lt:Ze.current}px`,"--initial-height":he?"auto":`${We}px`,...k,...v.style},onDragEnd:()=>{Be(!1),Ce(null),Ct.current=null},onPointerDown:ge=>{ge.button!==2&&(Yt||!W||(Z.current=new Date,Ie(Ze.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(Be(!0),Ct.current={x:ge.clientX,y:ge.clientY})))},onPointerUp:()=>{var ge,Ve,St;if(nt||!W)return;Ct.current=null;const kt=Number(((ge=vt.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),cn=Number(((Ve=vt.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xn=new Date().getTime()-((St=Z.current)==null?void 0:St.getTime()),Gn=Ee==="x"?kt:cn,Js=Math.abs(Gn)/xn;if(Math.abs(Gn)>=wH||Js>.11){Ie(Ze.current),v.onDismiss==null||v.onDismiss.call(v,v),re(Ee==="x"?kt>0?"right":"left":cn>0?"down":"up"),te(),lt(!0);return}else{var Ei,Oi;(Ei=vt.current)==null||Ei.style.setProperty("--swipe-amount-x","0px"),(Oi=vt.current)==null||Oi.style.setProperty("--swipe-amount-y","0px")}Zt(!1),Be(!1),Ce(null)},onPointerMove:ge=>{var Ve,St,kt;if(!Ct.current||!W||((Ve=window.getSelection())==null?void 0:Ve.toString().length)>0)return;const xn=ge.clientY-Ct.current.y,Gn=ge.clientX-Ct.current.x;var Js;const Ei=(Js=n.swipeDirections)!=null?Js:EH(ee);!Ee&&(Math.abs(Gn)>1||Math.abs(xn)>1)&&Ce(Math.abs(Gn)>Math.abs(xn)?"x":"y");let Oi={x:0,y:0};const Ka=is=>1/(1.5+Math.abs(is)/20);if(Ee==="y"){if(Ei.includes("top")||Ei.includes("bottom"))if(Ei.includes("top")&&xn<0||Ei.includes("bottom")&&xn>0)Oi.y=xn;else{const is=xn*Ka(xn);Oi.y=Math.abs(is)<Math.abs(xn)?is:xn}}else if(Ee==="x"&&(Ei.includes("left")||Ei.includes("right")))if(Ei.includes("left")&&Gn<0||Ei.includes("right")&&Gn>0)Oi.x=Gn;else{const is=Gn*Ka(Gn);Oi.x=Math.abs(is)<Math.abs(Gn)?is:Gn}(Math.abs(Oi.x)>0||Math.abs(Oi.y)>0)&&Zt(!0),(St=vt.current)==null||St.style.setProperty("--swipe-amount-x",`${Oi.x}px`),(kt=vt.current)==null||kt.style.setProperty("--swipe-amount-y",`${Oi.y}px`)}},Ue&&!v.jsx&&Fe!=="loading"?Je.createElement("button",{"aria-label":oe,"data-disabled":Yt,"data-close-button":!0,onClick:Yt||!W?()=>{}:()=>{te(),v.onDismiss==null||v.onDismiss.call(v,v)},className:nl(q?.closeButton,v==null||(i=v.classNames)==null?void 0:i.closeButton)},(ke=K?.close)!=null?ke:fH):null,(Fe||v.icon||v.promise)&&v.icon!==null&&(K?.[Fe]!==null||v.icon)?Je.createElement("div",{"data-icon":"",className:nl(q?.icon,v==null||(a=v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||rt():null,v.type!=="loading"?Ke:null):null,Je.createElement("div",{"data-content":"",className:nl(q?.content,v==null||(o=v.classNames)==null?void 0:o.content)},Je.createElement("div",{"data-title":"",className:nl(q?.title,v==null||(u=v.classNames)==null?void 0:u.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?Je.createElement("div",{"data-description":"",className:nl(Y,se,q?.description,v==null||(h=v.classNames)==null?void 0:h.description)},typeof v.description=="function"?v.description():v.description):null),Je.isValidElement(v.cancel)?v.cancel:v.cancel&&Ly(v.cancel)?Je.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||j,onClick:ge=>{Ly(v.cancel)&&W&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,ge),te())},className:nl(q?.cancelButton,v==null||(d=v.classNames)==null?void 0:d.cancelButton)},v.cancel.label):null,Je.isValidElement(v.action)?v.action:v.action&&Ly(v.action)?Je.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||U,onClick:ge=>{Ly(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,ge),!ge.defaultPrevented&&te())},className:nl(q?.actionButton,v==null||(p=v.classNames)==null?void 0:p.actionButton)},v.action.label):null)};function PA(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function CH(n,e){const t={};return[n,e].forEach((i,a)=>{const o=a===1,u=o?"--mobile-offset":"--offset",h=o?_H:bH;function d(p){["top","right","bottom","left"].forEach(y=>{t[`${u}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?d(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?t[`${u}-${p}`]=h:t[`${u}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):d(h)}),t}const RH=Je.forwardRef(function(e,t){const{id:i,invert:a,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:d,className:p,offset:y,mobileOffset:v,theme:x="light",richColors:S,duration:T,style:C,visibleToasts:A=xH,toastOptions:M,dir:N=PA(),gap:D=MH,icons:I,containerAriaLabel:z="Notifications"}=e,[F,k]=Je.useState([]),j=Je.useMemo(()=>i?F.filter(pe=>pe.toasterId===i):F.filter(pe=>!pe.toasterId),[F,i]),U=Je.useMemo(()=>Array.from(new Set([o].concat(j.filter(pe=>pe.position).map(pe=>pe.position)))),[j,o]),[B,Y]=Je.useState([]),[ie,ee]=Je.useState(!1),[me,he]=Je.useState(!1),[q,K]=Je.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=Je.useRef(null),Ee=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ce=Je.useRef(null),X=Je.useRef(!1),re=Je.useCallback(pe=>{k(De=>{var Xe;return(Xe=De.find(ce=>ce.id===pe.id))!=null&&Xe.delete||Ga.dismiss(pe.id),De.filter(({id:ce})=>ce!==pe.id)})},[]);return Je.useEffect(()=>Ga.subscribe(pe=>{if(pe.dismiss){requestAnimationFrame(()=>{k(De=>De.map(Xe=>Xe.id===pe.id?{...Xe,delete:!0}:Xe))});return}setTimeout(()=>{nH.flushSync(()=>{k(De=>{const Xe=De.findIndex(ce=>ce.id===pe.id);return Xe!==-1?[...De.slice(0,Xe),{...De[Xe],...pe},...De.slice(Xe+1)]:[pe,...De]})})})}),[F]),Je.useEffect(()=>{if(x!=="system"){K(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const pe=window.matchMedia("(prefers-color-scheme: dark)");try{pe.addEventListener("change",({matches:De})=>{K(De?"dark":"light")})}catch{pe.addListener(({matches:Xe})=>{try{K(Xe?"dark":"light")}catch(ce){console.error(ce)}})}},[x]),Je.useEffect(()=>{F.length<=1&&ee(!1)},[F]),Je.useEffect(()=>{const pe=De=>{var Xe;if(u.every(Be=>De[Be]||De.code===Be)){var Ae;ee(!0),(Ae=oe.current)==null||Ae.focus()}De.code==="Escape"&&(document.activeElement===oe.current||(Xe=oe.current)!=null&&Xe.contains(document.activeElement))&&ee(!1)};return document.addEventListener("keydown",pe),()=>document.removeEventListener("keydown",pe)},[u]),Je.useEffect(()=>{if(oe.current)return()=>{Ce.current&&(Ce.current.focus({preventScroll:!0}),Ce.current=null,X.current=!1)}},[oe.current]),Je.createElement("section",{ref:t,"aria-label":`${z} ${Ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((pe,De)=>{var Xe;const[ce,Ae]=pe.split("-");return j.length?Je.createElement("ol",{key:pe,dir:N==="auto"?PA():N,tabIndex:-1,ref:oe,className:p,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":ce,"data-x-position":Ae,style:{"--front-toast-height":`${((Xe=B[0])==null?void 0:Xe.height)||0}px`,"--width":`${SH}px`,"--gap":`${D}px`,...C,...CH(y,v)},onBlur:Be=>{X.current&&!Be.currentTarget.contains(Be.relatedTarget)&&(X.current=!1,Ce.current&&(Ce.current.focus({preventScroll:!0}),Ce.current=null))},onFocus:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||X.current||(X.current=!0,Ce.current=Be.relatedTarget)},onMouseEnter:()=>ee(!0),onMouseMove:()=>ee(!0),onMouseLeave:()=>{me||ee(!1)},onDragEnd:()=>ee(!1),onPointerDown:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||he(!0)},onPointerUp:()=>he(!1)},j.filter(Be=>!Be.position&&De===0||Be.position===pe).map((Be,nt)=>{var lt,qt;return Je.createElement(AH,{key:Be.id,icons:I,index:nt,toast:Be,defaultRichColors:S,duration:(lt=M?.duration)!=null?lt:T,className:M?.className,descriptionClassName:M?.descriptionClassName,invert:a,visibleToasts:A,closeButton:(qt=M?.closeButton)!=null?qt:d,interacting:me,position:pe,style:M?.style,unstyled:M?.unstyled,classNames:M?.classNames,cancelButtonStyle:M?.cancelButtonStyle,actionButtonStyle:M?.actionButtonStyle,closeButtonAriaLabel:M?.closeButtonAriaLabel,removeToast:re,toasts:j.filter(Zt=>Zt.position==Be.position),heights:B.filter(Zt=>Zt.position==Be.position),setHeights:Y,expandByDefault:h,gap:D,expanded:ie,swipeDirections:e.swipeDirections})})):null}))}),NH=()=>{const[n,e]=de.useState({name:"",email:"",message:""}),[t,i]=de.useState({}),[a,o]=de.useState(!1),u=p=>{const{name:y,value:v}=p.target;e(x=>({...x,[y]:v})),t[y]&&i(x=>({...x,[y]:""}))},h=()=>{const p={};return n.name.trim()||(p.name="Name is required"),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(p.email="Email is invalid"):p.email="Email is required",n.message.trim()||(p.message="Message is required"),p},d=async p=>{p.preventDefault();const y=h();if(Object.keys(y).length>0){i(y),X_.error("Please fill in all required fields correctly.");return}o(!0);const v={name:n.name,email:n.email,message:n.message,title:"Portfolio Contact Form"};try{await eH.send("service_yqlqgsc","template_vlciamq",v,"HUCray3_ixBgJXj-p"),X_.success("Message sent successfully! I'll get back to you soon."),e({name:"",email:"",message:""})}catch(x){console.error("EmailJS Error:",x),X_.error("Failed to send message. Please try again later or reach out via social media.")}finally{o(!1)}};return P.jsxs("section",{id:"contact",className:"min-h-screen flex flex-col justify-center bg-slate-50 w-full py-16 md:py-24 px-4 sm:px-0 overflow-hidden relative",children:[P.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[P.jsx(zt.div,{animate:{scale:[1,1.1,1],x:[0,30,0],y:[0,15,0]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute -top-[10%] -left-[5%] w-[50%] h-[50%] bg-blue-100/30 rounded-full blur-[100px]"}),P.jsx(zt.div,{animate:{scale:[1,1.2,1],x:[0,-30,0],y:[0,-15,0]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -bottom-[10%] -right-[5%] w-[50%] h-[50%] bg-purple-100/20 rounded-full blur-[100px]"})]}),P.jsxs("div",{className:"section-container relative z-10 py-0",children:[P.jsx("div",{className:"text-center mb-12 md:mb-16",children:P.jsxs(zt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[P.jsxs("h2",{className:"section-title mb-4",children:["Get In ",P.jsx("span",{className:"text-blue-600",children:"Touch"})]}),P.jsx("p",{className:"text-slate-500 text-base md:text-lg max-w-xl mx-auto leading-relaxed",children:"Reach out for collaborations or just to say hello. I'm always looking for interesting projects."})]})}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 md:gap-12 max-w-6xl mx-auto items-stretch",children:[P.jsxs(zt.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"lg:col-span-4 flex flex-col gap-6 h-full",children:[P.jsxs(zt.div,{whileHover:{y:-5},className:"bg-white/40 backdrop-blur-md rounded-3xl p-6 lg:p-7 shadow-sm border border-slate-100/50 transition-all duration-300",children:[P.jsx("h3",{className:"text-lg lg:text-xl font-bold text-slate-900 mb-2 font-display",children:"Collaborate"}),P.jsx("p",{className:"text-slate-600 text-sm leading-relaxed opacity-90",children:"Ready to bring engineering discipline and visual elegance to your next project."})]}),P.jsx(zt.div,{whileHover:{y:-5},className:"bg-white/40 backdrop-blur-md rounded-3xl p-6 lg:p-7 shadow-sm border border-slate-100/50 flex flex-col items-center justify-center transition-all duration-300 flex-1 min-h-[200px]",children:P.jsx(VV,{email:"sakthivel.p1011@gmail.com"})}),P.jsxs(zt.div,{whileHover:{y:-5},className:"bg-white/40 backdrop-blur-md rounded-3xl p-6 lg:p-7 shadow-sm border border-slate-100/50 transition-all duration-300",children:[P.jsx("h4",{className:"text-[10px] font-black text-slate-400 mb-4 uppercase tracking-[0.2em] opacity-70",children:"Connect Region"}),P.jsx(XR,{})]})]}),P.jsx(zt.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"lg:col-span-8 flex",children:P.jsx(zt.div,{className:"bg-white rounded-[2rem] p-8 md:p-10 shadow-xl shadow-blue-500/5 border border-slate-100 flex-grow",children:P.jsxs("form",{onSubmit:d,className:"h-full flex flex-col justify-between",children:[P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Full Name"}),P.jsx("input",{type:"text",name:"name",value:n.name,onChange:u,className:`input-field rounded-2xl ${t.name?"border-red-200":""}`,placeholder:"Name"})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Email"}),P.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,className:`input-field rounded-2xl ${t.email?"border-red-200":""}`,placeholder:"Email"})]})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Message"}),P.jsx("textarea",{name:"message",value:n.message,onChange:u,rows:"6",className:`input-field rounded-2xl resize-none ${t.message?"border-red-200":""}`,placeholder:"Tell me about your project..."})]})]}),P.jsx("div",{className:"mt-8",children:P.jsx(zt.button,{whileHover:{scale:1.01,y:-2},whileTap:{scale:.99},type:"submit",disabled:a,className:"w-full py-4 bg-slate-900 text-white font-bold rounded-2xl hover:bg-blue-600 transition-all duration-300 flex items-center justify-center gap-3 group shadow-lg",children:a?P.jsxs("span",{className:"flex items-center gap-2",children:[P.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):P.jsxs(P.Fragment,{children:["Send Message",P.jsx($N,{className:"rotate-90 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]})})})]})})})]})]})]})},DH=()=>{const n=new Date().getFullYear(),e=[{name:"Home",href:"#home"},{name:"About",href:"#about"},{name:"Projects",href:"#projects"},{name:"Contact",href:"#contact"}],t=(i,a)=>{i.preventDefault();const o=document.querySelector(a);o&&o.scrollIntoView({behavior:"smooth"})};return P.jsx("footer",{className:"bg-white border-t border-slate-100",children:P.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-12",children:[P.jsxs("div",{className:"grid md:grid-cols-3 gap-12 mb-12",children:[P.jsxs("div",{children:[P.jsxs("h3",{className:"text-xl font-bold font-display text-slate-900 mb-4",children:["Sakthi",P.jsx("span",{className:"text-slate-400",children:"."})]}),P.jsx("p",{className:"text-slate-500 text-sm leading-relaxed font-normal",children:"Building elegant, high-performance digital experiences. Let's transform your vision into reality with modern technologies."})]}),P.jsxs("div",{children:[P.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wider",children:"Navigation"}),P.jsx("ul",{className:"space-y-3",children:e.map(i=>P.jsx("li",{children:P.jsx("a",{href:i.href,onClick:a=>t(a,i.href),className:"text-slate-500 hover:text-slate-900 transition-colors text-sm font-medium",children:i.name})},i.name))})]}),P.jsxs("div",{children:[P.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wider",children:"Find Me On"}),P.jsx(XR,{})]})]}),P.jsxs("div",{className:"pt-8 border-t border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[P.jsxs("p",{className:"text-slate-400 text-xs font-medium",children:[" ",n," Sakthi. All rights reserved."]}),P.jsxs("p",{className:"text-slate-400 text-xs font-medium",children:["Portfolio designed by ",P.jsx("span",{className:"text-slate-300",children:"Sakthi"})]})]})]})})},LH=()=>{const[n,e]=de.useState(!1),[t,i]=de.useState(!0),a=n?60:20,o=Nd(0),u=Nd(0),h={damping:25,stiffness:700},d=$y(o,h),p=$y(u,h);return de.useEffect(()=>{const y=x=>{const S=!!x.target.closest("#home");i(S),S&&(o.set(x.clientX-a/2),u.set(x.clientY-a/2))};window.addEventListener("mousemove",y);const v=x=>{if(!x.target.closest("#home")){e(!1);return}x.target.tagName==="BUTTON"||x.target.tagName==="A"||x.target.closest("button")||x.target.closest("a")?e(!0):e(!1)};return window.addEventListener("mouseover",v),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseover",v)}},[a,o,u]),P.jsx(zt.div,{className:"fixed top-0 left-0 bg-blue-500/30 border border-blue-400 rounded-full pointer-events-none backdrop-blur-[1px] z-[9999]",style:{translateX:d,translateY:p,width:a,height:a},animate:{width:a,height:a,opacity:t?1:0},transition:{type:"spring",stiffness:500,damping:28}})};function IH(){const[n,e]=de.useState(!1);return de.useEffect(()=>{const t=()=>e(window.innerWidth>=1024);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),P.jsxs("div",{className:"min-h-screen",children:[P.jsx(RH,{theme:"dark",position:"bottom-right",toastOptions:{style:{background:"#0f172a",color:"#ffffff",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",fontFamily:"inherit"},className:"shadow-2xl"}}),n&&P.jsx(LH,{}),P.jsx(cI,{}),P.jsxs("main",{children:[P.jsx(gV,{}),P.jsx(bV,{}),P.jsx(LV,{}),P.jsx(zV,{}),P.jsx(FV,{}),P.jsx(NH,{})]}),P.jsx(DH,{})]})}HN.createRoot(document.getElementById("root")).render(P.jsx(de.StrictMode,{children:P.jsx(IH,{})}));
